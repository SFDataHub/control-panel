(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var jf={exports:{}},Ll={};var By;function Mb(){if(By)return Ll;By=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var m=null;if(c!==void 0&&(m=""+c),o.key!==void 0&&(m=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:m,ref:o!==void 0?o:null,props:c}}return Ll.Fragment=t,Ll.jsx=i,Ll.jsxs=i,Ll}var ky;function Ob(){return ky||(ky=1,jf.exports=Mb()),jf.exports}var d=Ob(),If={exports:{}},Te={};var Py;function Vb(){if(Py)return Te;Py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function O(U){return U===null||typeof U!="object"?null:(U=N&&U[N]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,C={};function X(U,J,ae){this.props=U,this.context=J,this.refs=C,this.updater=ae||M}X.prototype.isReactComponent={},X.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},X.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function ie(){}ie.prototype=X.prototype;function ne(U,J,ae){this.props=U,this.context=J,this.refs=C,this.updater=ae||M}var ye=ne.prototype=new ie;ye.constructor=ne,Q(ye,X.prototype),ye.isPureReactComponent=!0;var he=Array.isArray;function be(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(U,J,ae){var k=ae.ref;return{$$typeof:s,type:U,key:J,ref:k!==void 0?k:null,props:ae}}function L(U,J){return R(U.type,J,U.props)}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function B(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ae){return J[ae]})}var w=/\/+/g;function pe(U,J){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):J.toString(36)}function ke(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(be,be):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function $(U,J,ae,k,oe){var ve=typeof U;(ve==="undefined"||ve==="boolean")&&(U=null);var Re=!1;if(U===null)Re=!0;else switch(ve){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(U.$$typeof){case s:case t:Re=!0;break;case b:return Re=U._init,$(Re(U._payload),J,ae,k,oe)}}if(Re)return oe=oe(U),Re=k===""?"."+pe(U,0):k,he(oe)?(ae="",Re!=null&&(ae=Re.replace(w,"$&/")+"/"),$(oe,J,ae,"",function(qn){return qn})):oe!=null&&(z(oe)&&(oe=L(oe,ae+(oe.key==null||U&&U.key===oe.key?"":(""+oe.key).replace(w,"$&/")+"/")+Re)),J.push(oe)),1;Re=0;var It=k===""?".":k+":";if(he(U))for(var at=0;at<U.length;at++)k=U[at],ve=It+pe(k,at),Re+=$(k,J,ae,ve,oe);else if(at=O(U),typeof at=="function")for(U=at.call(U),at=0;!(k=U.next()).done;)k=k.value,ve=It+pe(k,at++),Re+=$(k,J,ae,ve,oe);else if(ve==="object"){if(typeof U.then=="function")return $(ke(U),J,ae,k,oe);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se(U,J,ae){if(U==null)return U;var k=[],oe=0;return $(U,k,"","",function(ve){return J.call(ae,ve,oe++)}),k}function ue(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=ae)},function(ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=ae)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Oe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:se,forEach:function(U,J,ae){se(U,function(){J.apply(this,arguments)},ae)},count:function(U){var J=0;return se(U,function(){J++}),J},toArray:function(U){return se(U,function(J){return J})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Te.Activity=S,Te.Children=Ve,Te.Component=X,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=ne,Te.StrictMode=r,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Te.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Te.cache=function(U){return function(){return U.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(U,J,ae){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var k=Q({},U.props),oe=U.key;if(J!=null)for(ve in J.key!==void 0&&(oe=""+J.key),J)!x.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(k[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)k.children=ae;else if(1<ve){for(var Re=Array(ve),It=0;It<ve;It++)Re[It]=arguments[It+2];k.children=Re}return R(U.type,oe,k)},Te.createContext=function(U){return U={$$typeof:m,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Te.createElement=function(U,J,ae){var k,oe={},ve=null;if(J!=null)for(k in J.key!==void 0&&(ve=""+J.key),J)x.call(J,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(oe[k]=J[k]);var Re=arguments.length-2;if(Re===1)oe.children=ae;else if(1<Re){for(var It=Array(Re),at=0;at<Re;at++)It[at]=arguments[at+2];oe.children=It}if(U&&U.defaultProps)for(k in Re=U.defaultProps,Re)oe[k]===void 0&&(oe[k]=Re[k]);return R(U,ve,oe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(U){return{$$typeof:g,render:U}},Te.isValidElement=z,Te.lazy=function(U){return{$$typeof:b,_payload:{_status:-1,_result:U},_init:ue}},Te.memo=function(U,J){return{$$typeof:v,type:U,compare:J===void 0?null:J}},Te.startTransition=function(U){var J=I.T,ae={};I.T=ae;try{var k=U(),oe=I.S;oe!==null&&oe(ae,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(be,Oe)}catch(ve){Oe(ve)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),I.T=J}},Te.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Te.use=function(U){return I.H.use(U)},Te.useActionState=function(U,J,ae){return I.H.useActionState(U,J,ae)},Te.useCallback=function(U,J){return I.H.useCallback(U,J)},Te.useContext=function(U){return I.H.useContext(U)},Te.useDebugValue=function(){},Te.useDeferredValue=function(U,J){return I.H.useDeferredValue(U,J)},Te.useEffect=function(U,J){return I.H.useEffect(U,J)},Te.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Te.useId=function(){return I.H.useId()},Te.useImperativeHandle=function(U,J,ae){return I.H.useImperativeHandle(U,J,ae)},Te.useInsertionEffect=function(U,J){return I.H.useInsertionEffect(U,J)},Te.useLayoutEffect=function(U,J){return I.H.useLayoutEffect(U,J)},Te.useMemo=function(U,J){return I.H.useMemo(U,J)},Te.useOptimistic=function(U,J){return I.H.useOptimistic(U,J)},Te.useReducer=function(U,J,ae){return I.H.useReducer(U,J,ae)},Te.useRef=function(U){return I.H.useRef(U)},Te.useState=function(U){return I.H.useState(U)},Te.useSyncExternalStore=function(U,J,ae){return I.H.useSyncExternalStore(U,J,ae)},Te.useTransition=function(){return I.H.useTransition()},Te.version="19.2.0",Te}var qy;function Rd(){return qy||(qy=1,If.exports=Vb()),If.exports}var j=Rd(),Mf={exports:{}},Ul={},Of={exports:{}},Vf={};var Hy;function Lb(){return Hy||(Hy=1,(function(s){function t($,se){var ue=$.length;$.push(se);e:for(;0<ue;){var Oe=ue-1>>>1,Ve=$[Oe];if(0<o(Ve,se))$[Oe]=se,$[ue]=Ve,ue=Oe;else break e}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var se=$[0],ue=$.pop();if(ue!==se){$[0]=ue;e:for(var Oe=0,Ve=$.length,U=Ve>>>1;Oe<U;){var J=2*(Oe+1)-1,ae=$[J],k=J+1,oe=$[k];if(0>o(ae,ue))k<Ve&&0>o(oe,ae)?($[Oe]=oe,$[k]=ue,Oe=k):($[Oe]=ae,$[J]=ue,Oe=J);else if(k<Ve&&0>o(oe,ue))$[Oe]=oe,$[k]=ue,Oe=k;else break e}}return se}function o($,se){var ue=$.sortIndex-se.sortIndex;return ue!==0?ue:$.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var y=[],v=[],b=1,S=null,N=3,O=!1,M=!1,Q=!1,C=!1,X=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ye($){for(var se=i(v);se!==null;){if(se.callback===null)r(v);else if(se.startTime<=$)r(v),se.sortIndex=se.expirationTime,t(y,se);else break;se=i(v)}}function he($){if(Q=!1,ye($),!M)if(i(y)!==null)M=!0,be||(be=!0,B());else{var se=i(v);se!==null&&ke(he,se.startTime-$)}}var be=!1,I=-1,x=5,R=-1;function L(){return C?!0:!(s.unstable_now()-R<x)}function z(){if(C=!1,be){var $=s.unstable_now();R=$;var se=!0;try{e:{M=!1,Q&&(Q=!1,ie(I),I=-1),O=!0;var ue=N;try{t:{for(ye($),S=i(y);S!==null&&!(S.expirationTime>$&&L());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,N=S.priorityLevel;var Ve=Oe(S.expirationTime<=$);if($=s.unstable_now(),typeof Ve=="function"){S.callback=Ve,ye($),se=!0;break t}S===i(y)&&r(y),ye($)}else r(y);S=i(y)}if(S!==null)se=!0;else{var U=i(v);U!==null&&ke(he,U.startTime-$),se=!1}}break e}finally{S=null,N=ue,O=!1}se=void 0}}finally{se?B():be=!1}}}var B;if(typeof ne=="function")B=function(){ne(z)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,pe=w.port2;w.port1.onmessage=z,B=function(){pe.postMessage(null)}}else B=function(){X(z,0)};function ke($,se){I=X(function(){$(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function($){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var ue=N;N=se;try{return $()}finally{N=ue}},s.unstable_requestPaint=function(){C=!0},s.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ue=N;N=$;try{return se()}finally{N=ue}},s.unstable_scheduleCallback=function($,se,ue){var Oe=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Oe+ue:Oe):ue=Oe,$){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ue+Ve,$={id:b++,callback:se,priorityLevel:$,startTime:ue,expirationTime:Ve,sortIndex:-1},ue>Oe?($.sortIndex=ue,t(v,$),i(y)===null&&$===i(v)&&(Q?(ie(I),I=-1):Q=!0,ke(he,ue-Oe))):($.sortIndex=Ve,t(y,$),M||O||(M=!0,be||(be=!0,B()))),$},s.unstable_shouldYield=L,s.unstable_wrapCallback=function($){var se=N;return function(){var ue=N;N=se;try{return $.apply(this,arguments)}finally{N=ue}}}})(Vf)),Vf}var Fy;function Ub(){return Fy||(Fy=1,Of.exports=Lb()),Of.exports}var Lf={exports:{}},Gt={};var Gy;function zb(){if(Gy)return Gt;Gy=1;var s=Rd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:v,implementation:b}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gt.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,b)},Gt.flushSync=function(y){var v=m.T,b=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=v,r.p=b,r.d.f()}},Gt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},Gt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Gt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,S=g(b,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:O}):b==="script"&&r.d.X(y,{crossOrigin:S,integrity:N,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Gt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},Gt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,S=g(b,v.crossOrigin);r.d.L(y,b,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Gt.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},Gt.requestFormReset=function(y){r.d.r(y)},Gt.unstable_batchedUpdates=function(y,v){return y(v)},Gt.useFormState=function(y,v,b){return m.H.useFormState(y,v,b)},Gt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Gt.version="19.2.0",Gt}var Qy;function Bb(){if(Qy)return Lf.exports;Qy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Lf.exports=zb(),Lf.exports}var Ky;function kb(){if(Ky)return Ul;Ky=1;var s=Ub(),t=Rd(),i=Bb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case X:return"Profiler";case C:return"StrictMode";case he:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case ne:return e.displayName||"Context";case ie:return(e._context.displayName||"Context")+".Consumer";case ye:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:pe(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return pe(e(n))}catch{}}return null}var ke=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Oe=[],Ve=-1;function U(e){return{current:e}}function J(e){0>Ve||(e.current=Oe[Ve],Oe[Ve]=null,Ve--)}function ae(e,n){Ve++,Oe[Ve]=e.current,e.current=n}var k=U(null),oe=U(null),ve=U(null),Re=U(null);function It(e,n){switch(ae(ve,n),ae(oe,e),ae(k,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?oy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=oy(n),e=uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(k),ae(k,e)}function at(){J(k),J(oe),J(ve)}function qn(e){e.memoizedState!==null&&ae(Re,e);var n=k.current,a=uy(n,e.type);n!==a&&(ae(oe,e),ae(k,a))}function si(e){oe.current===e&&(J(k),J(oe)),Re.current===e&&(J(Re),Il._currentValue=ue)}var Ua,Ts;function In(e){if(Ua===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ua=n&&n[1]||"",Ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+e+Ts}var za=!1;function Ss(e,n){if(!e||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(K){G=K}e.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var D=_.split(`
`),F=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var Z=`
`+D[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?In(a):""}function Rc(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return Ss(e.type,!1);case 11:return Ss(e.type.render,!1);case 1:return Ss(e.type,!0);case 31:return In("Activity");default:return""}}function oo(e){try{var n="",a=null;do n+=Rc(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var As=Object.prototype.hasOwnProperty,Ba=s.unstable_scheduleCallback,ws=s.unstable_cancelCallback,Nc=s.unstable_shouldYield,Vr=s.unstable_requestPaint,Mt=s.unstable_now,uo=s.unstable_getCurrentPriorityLevel,St=s.unstable_ImmediatePriority,xt=s.unstable_UserBlockingPriority,ri=s.unstable_NormalPriority,co=s.unstable_LowPriority,Lr=s.unstable_IdlePriority,Cc=s.log,ka=s.unstable_setDisableYieldValue,Bi=null,Ht=null;function _n(e){if(typeof Cc=="function"&&ka(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Bi,e)}catch{}}var $t=Math.clz32?Math.clz32:ho,Dc=Math.log,Ur=Math.LN2;function ho(e){return e>>>=0,e===0?32:31-(Dc(e)/Ur|0)|0}var Pa=256,Hn=262144,ki=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Mn(l):(_&=T,_!==0?h=Mn(_):a||(a=T&~e,a!==0&&(h=Mn(a))))):(T=l&~f,T!==0?h=Mn(T):_!==0?h=Mn(_):a||(a=l&~e,a!==0&&(h=Mn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(){var e=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),e}function li(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function qi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ot(e,n,a,l,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-$t(a),ee=1<<Z;T[Z]=0,D[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var K=G[Z];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Br(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Br(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-$t(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Hi(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-$t(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Fi(e,n){var a=n&-n;return a=(a&42)!==0?1:kr(a),(a&(e.suspendedLanes|n))!==0?0:a}function kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oi(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Iy(e.type))}function fo(e,n){var a=se.p;try{return se.p=e,n()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Fn,Vt="__reactProps$"+Fn,Gn="__reactContainer$"+Fn,Gi="__reactEvents$"+Fn,Qn="__reactListeners$"+Fn,mo="__reactHandles$"+Fn,qr="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function qa(e){delete e[rt],delete e[Vt],delete e[Gi],delete e[Qn],delete e[mo]}function ci(e){var n=e[rt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Gn]||a[rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=gy(e);e!==null;){if(a=e[rt])return a;e=gy(e)}return n}e=a,a=e.parentNode}return null}function hi(e){if(e=e[rt]||e[Gn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ha(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function On(e){var n=e[qr];return n||(n=e[qr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[ui]=!0}var Rs=new Set,Qi={};function Zt(e,n){Kn(e,n),Kn(e+"Capture",n)}function Kn(e,n){for(Qi[e]=n,e=0;e<n.length;e++)Rs.add(n[e])}var jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Fr={};function po(e){return As.call(Fr,e)?!0:As.call(Hr,e)?!1:jc.test(e)?Fr[e]=!0:(Hr[e]=!0,!1)}function Ki(e,n,a){if(po(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Yi(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function bn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function go(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ic(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ns(e){if(!e._valueTracker){var n=go(e)?"checked":"value";e._valueTracker=Ic(e,n,""+e[n])}}function Gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=go(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fi=/[\n"\\]/g;function lt(e){return e.replace(fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(e,n,a,l,h,f,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Jt(n)):e.value!==""+Jt(n)&&(e.value=""+Jt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Ds(e,_,Jt(n)):a!=null?Ds(e,_,Jt(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Jt(T):e.removeAttribute("name")}function Fa(e,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ns(e);return}a=a!=null?""+Jt(a):"",n=n!=null?""+Jt(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ns(e)}function Ds(e,n,a){n==="number"&&Cs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Pe(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Jt(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ga(e,n,a){if(n!=null&&(n=""+Jt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Jt(a):""}function $i(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ke(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Jt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ns(e)}function Tn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Mc.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function yo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Qr(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Qr(e,f,n[f])}function Kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return Vc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var js=null;function Is(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var di=null,cn=null;function vo(e){var n=hi(e);if(n&&(e=n.stateNode)){var a=e[Vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Xi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[Vt]||null;if(!h)throw Error(r(90));Xi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Gr(l)}break e;case"textarea":Ga(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Pe(e,!!a.multiple,n,!1)}}}var Yr=!1;function _o(e,n,a){if(Yr)return e(n,a);Yr=!0;try{var l=e(n);return l}finally{if(Yr=!1,(di!==null||cn!==null)&&(pu(),di&&(n=di,e=cn,cn=di=null,vo(n),e)))for(n=0;n<e.length;n++)vo(e[n])}}function nn(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Vn)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Xr=!1}var hn=null,Ms=null,$n=null;function Zi(){if($n)return $n;var e,n=Ms,a=n.length,l,h="value"in hn?hn.value:hn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return $n=h.slice(e,1<l?1-l:void 0)}function Qa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function We(){return!1}function Ft(e){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:We,this.isPropagationStopped=We,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Ft(mi),Wi=S({},mi,{view:0,detail:0}),Eo=Ft(Wi),ea,Os,Wt,Ya=S({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wt&&(Wt&&e.type==="mousemove"?(ea=e.screenX-Wt.screenX,Os=e.screenY-Wt.screenY):Os=ea=0,Wt=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),bo=Ft(Ya),Xa=S({},Ya,{dataTransfer:0}),To=Ft(Xa),$r=S({},Wi,{relatedTarget:0}),ta=Ft($r),So=S({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vs=Ft(So),Lc=S({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ao=Ft(Lc),$a=S({},mi,{data:0}),Zr=Ft($a),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wr[e])?!!n[e]:!1}function na(){return xo}var Ro=S({},Wi,{key:function(e){if(e.key){var n=wo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(e){return e.type==="keypress"?Qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),No=Ft(Ro),pi=S({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ft(pi),Co=S({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Do=Ft(Co),jo=S({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ls=Ft(jo),en=S({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Io=Ft(en),Mo=S({},mi,{newState:0,oldState:0}),ia=Ft(Mo),u=[9,13,27,32],p=Vn&&"CompositionEvent"in window,E=null;Vn&&"documentMode"in document&&(E=document.documentMode);var A=Vn&&"TextEvent"in window&&!E,q=Vn&&(!p||E&&8<E&&11>=E),Y=" ",le=!1;function Qe(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ne=!1;function Nt(e,n){switch(e){case"compositionend":return gt(n);case"keypress":return n.which!==32?null:(le=!0,Y);case"textInput":return e=n.data,e===Y&&le?null:e;default:return null}}function Ct(e,n){if(Ne)return e==="compositionend"||!p&&Qe(e,n)?(e=Zi(),$n=Ms=hn=null,Ne=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return q&&n.locale!=="ko"?null:n.data;default:return null}}var aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!aa[e.type]:n==="textarea"}function Za(e,n,a,l){di?cn?cn.push(l):cn=[l]:di=l,n=Tu(n,"onChange"),0<n.length&&(a=new Ka("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var gi=null,tl=null;function rE(e){ny(e,0)}function Oo(e){var n=Ha(e);if(Gr(n))return e}function bm(e,n){if(e==="change")return n}var Tm=!1;if(Vn){var Uc;if(Vn){var zc="oninput"in document;if(!zc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),zc=typeof Sm.oninput=="function"}Uc=zc}else Uc=!1;Tm=Uc&&(!document.documentMode||9<document.documentMode)}function Am(){gi&&(gi.detachEvent("onpropertychange",wm),tl=gi=null)}function wm(e){if(e.propertyName==="value"&&Oo(tl)){var n=[];Za(n,tl,e,Is(e)),_o(rE,n)}}function lE(e,n,a){e==="focusin"?(Am(),gi=n,tl=a,gi.attachEvent("onpropertychange",wm)):e==="focusout"&&Am()}function oE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(tl)}function uE(e,n){if(e==="click")return Oo(n)}function cE(e,n){if(e==="input"||e==="change")return Oo(n)}function hE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:hE;function nl(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!As.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,n){var a=xm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xm(a)}}function Nm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cs(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Cs(e.document)}return n}function Bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fE=Vn&&"documentMode"in document&&11>=document.documentMode,Us=null,kc=null,il=null,Pc=!1;function Dm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pc||Us==null||Us!==Cs(l)||(l=Us,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Tu(kc,"onSelect"),0<l.length&&(n=new Ka("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Us)))}function Ja(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var zs={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},qc={},jm={};Vn&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Wa(e){if(qc[e])return qc[e];if(!zs[e])return e;var n=zs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jm)return qc[e]=n[a];return e}var Im=Wa("animationend"),Mm=Wa("animationiteration"),Om=Wa("animationstart"),dE=Wa("transitionrun"),mE=Wa("transitionstart"),pE=Wa("transitioncancel"),Vm=Wa("transitionend"),Lm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Ln(e,n){Lm.set(e,n),Zt(n,[e])}var Vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Bs=0,Fc=0;function Lo(){for(var e=Bs,n=Fc=Bs=0;n<e;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Um(a,h,f)}}function Uo(e,n,a,l){Sn[Bs++]=e,Sn[Bs++]=n,Sn[Bs++]=a,Sn[Bs++]=l,Fc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gc(e,n,a,l){return Uo(e,n,a,l),zo(e)}function es(e,n){return Uo(e,null,null,n),zo(e)}function Um(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-$t(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function zo(e){if(50<wl)throw wl=0,ef=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ks={};function gE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,a,l){return new gE(e,n,a,l)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,n){var a=e.alternate;return a===null?(a=dn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bo(e,n,a,l,h,f){var _=0;if(l=e,typeof e=="function")Qc(e)&&(_=1);else if(typeof e=="string")_=bb(e,a,k.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=dn(31,a,n,h),e.elementType=R,e.lanes=f,e;case Q:return ts(a.children,h,f,n);case C:_=8,h|=24;break;case X:return e=dn(12,a,n,h|2),e.elementType=X,e.lanes=f,e;case he:return e=dn(13,a,n,h),e.elementType=he,e.lanes=f,e;case be:return e=dn(19,a,n,h),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:_=10;break e;case ie:_=9;break e;case ye:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=dn(_,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function ts(e,n,a,l){return e=dn(7,e,l,n),e.lanes=a,e}function Kc(e,n,a){return e=dn(6,e,null,n),e.lanes=a,e}function Bm(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Yc(e,n,a){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var km=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var a=km.get(e);return a!==void 0?a:(n={value:e,source:n,stack:oo(n)},km.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var Ps=[],qs=0,ko=null,al=0,wn=[],xn=0,sa=null,Zn=1,Jn="";function vi(e,n){Ps[qs++]=al,Ps[qs++]=ko,ko=e,al=n}function Pm(e,n,a){wn[xn++]=Zn,wn[xn++]=Jn,wn[xn++]=sa,sa=e;var l=Zn;e=Jn;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var f=32-$t(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Zn=1<<32-$t(n)+h|a<<h|l,Jn=f+e}else Zn=1<<f|a<<h|l,Jn=e}function Xc(e){e.return!==null&&(vi(e,1),Pm(e,1,0))}function $c(e){for(;e===ko;)ko=Ps[--qs],Ps[qs]=null,al=Ps[--qs],Ps[qs]=null;for(;e===sa;)sa=wn[--xn],wn[xn]=null,Jn=wn[--xn],wn[xn]=null,Zn=wn[--xn],wn[xn]=null}function qm(e,n){wn[xn++]=Zn,wn[xn++]=Jn,wn[xn++]=sa,Zn=n.id,Jn=n.overflow,sa=e}var Lt=null,et=null,Me=!1,ra=null,Rn=!1,Zc=Error(r(519));function la(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(An(n,e)),Zc}function Hm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[rt]=e,n[Vt]=l,a){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)De(Rl[a],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),Fa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),$i(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ry(n.textContent,a)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=Rt),n=!0):n=!1,n||la(e,!0)}function Fm(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Lt=Lt.return}}function Hs(e){if(e!==Lt)return!1;if(!Me)return Fm(e),Me=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gf(e.type,e.memoizedProps)),a=!a),a&&et&&la(e),Fm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));et=py(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));et=py(e)}else n===27?(n=et,ba(e.type)?(e=bf,bf=null,et=e):et=n):et=Lt?Cn(e.stateNode.nextSibling):null;return!0}function ns(){et=Lt=null,Me=!1}function Jc(){var e=ra;return e!==null&&(on===null?on=e:on.push.apply(on,e),ra=null),e}function sl(e){ra===null?ra=[e]:ra.push(e)}var Wc=U(null),is=null,_i=null;function oa(e,n,a){ae(Wc,n._currentValue),n._currentValue=a}function Ei(e){e._currentValue=Wc.current,J(Wc)}function eh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function th(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),eh(f.return,a,e),l||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),eh(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Fs(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;fn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}h=h.return}e!==null&&th(n,e,a,l),n.flags|=262144}function Po(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function as(e){is=e,_i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return Gm(is,e)}function qo(e,n){return is===null&&as(e),Gm(e,n)}function Gm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},_i===null){if(e===null)throw Error(r(308));_i=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else _i=_i.next=n;return a}var yE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},vE=s.unstable_scheduleCallback,_E=s.unstable_NormalPriority,yt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new yE,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&vE(_E,function(){e.controller.abort()})}var ll=null,ih=0,Gs=0,Qs=null;function EE(e,n){if(ll===null){var a=ll=[];ih=0,Gs=lf(),Qs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ih++,n.then(Qm,Qm),n}function Qm(){if(--ih===0&&ll!==null){Qs!==null&&(Qs.status="fulfilled");var e=ll;ll=null,Gs=0,Qs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Km=$.S;$.S=function(e,n){Dg=Mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&EE(e,n),Km!==null&&Km(e,n)};var ss=U(null);function ah(){var e=ss.current;return e!==null?e:Je.pooledCache}function Ho(e,n){n===null?ae(ss,ss.current):ae(ss,n.pool)}function Ym(){var e=ah();return e===null?null:{parent:yt._currentValue,pool:e}}var Ks=Error(r(460)),sh=Error(r(474)),Fo=Error(r(542)),Go={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $m(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Rt,Rt),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e;default:if(typeof n.status=="string")n.then(Rt,Rt);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e}throw ls=n,Ks}}function rs(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ls=a,Ks):a}}var ls=null;function Zm(){if(ls===null)throw Error(r(459));var e=ls;return ls=null,e}function Jm(e){if(e===Ks||e===Fo)throw Error(r(483))}var Ys=null,ol=0;function Qo(e){var n=ol;return ol+=1,Ys===null&&(Ys=[]),$m(Ys,e,n)}function ul(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ko(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wm(e){function n(P,V){if(e){var H=P.deletions;H===null?(P.deletions=[V],P.flags|=16):H.push(V)}}function a(P,V){if(!e)return null;for(;V!==null;)n(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=yi(P,V),P.index=0,P.sibling=null,P}function f(P,V,H){return P.index=H,e?(H=P.alternate,H!==null?(H=H.index,H<V?(P.flags|=67108866,V):H):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,H,W){return V===null||V.tag!==6?(V=Kc(H,P.mode,W),V.return=P,V):(V=h(V,H),V.return=P,V)}function D(P,V,H,W){var ge=H.type;return ge===Q?Z(P,V,H.props.children,W,H.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&rs(ge)===V.type)?(V=h(V,H.props),ul(V,H),V.return=P,V):(V=Bo(H.type,H.key,H.props,null,P.mode,W),ul(V,H),V.return=P,V)}function F(P,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Yc(H,P.mode,W),V.return=P,V):(V=h(V,H.children||[]),V.return=P,V)}function Z(P,V,H,W,ge){return V===null||V.tag!==7?(V=ts(H,P.mode,W,ge),V.return=P,V):(V=h(V,H),V.return=P,V)}function ee(P,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Kc(""+V,P.mode,H),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return H=Bo(V.type,V.key,V.props,null,P.mode,H),ul(H,V),H.return=P,H;case M:return V=Yc(V,P.mode,H),V.return=P,V;case x:return V=rs(V),ee(P,V,H)}if(ke(V)||B(V))return V=ts(V,P.mode,H,null),V.return=P,V;if(typeof V.then=="function")return ee(P,Qo(V),H);if(V.$$typeof===ne)return ee(P,qo(P,V),H);Ko(P,V)}return null}function G(P,V,H,W){var ge=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:T(P,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===ge?D(P,V,H,W):null;case M:return H.key===ge?F(P,V,H,W):null;case x:return H=rs(H),G(P,V,H,W)}if(ke(H)||B(H))return ge!==null?null:Z(P,V,H,W,null);if(typeof H.then=="function")return G(P,V,Qo(H),W);if(H.$$typeof===ne)return G(P,V,qo(P,H),W);Ko(P,H)}return null}function K(P,V,H,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(H)||null,T(V,P,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return P=P.get(W.key===null?H:W.key)||null,D(V,P,W,ge);case M:return P=P.get(W.key===null?H:W.key)||null,F(V,P,W,ge);case x:return W=rs(W),K(P,V,H,W,ge)}if(ke(W)||B(W))return P=P.get(H)||null,Z(V,P,W,ge,null);if(typeof W.then=="function")return K(P,V,H,Qo(W),ge);if(W.$$typeof===ne)return K(P,V,H,qo(V,W),ge);Ko(V,W)}return null}function ce(P,V,H,W){for(var ge=null,qe=null,fe=V,xe=V=0,Ie=null;fe!==null&&xe<H.length;xe++){fe.index>xe?(Ie=fe,fe=null):Ie=fe.sibling;var He=G(P,fe,H[xe],W);if(He===null){fe===null&&(fe=Ie);break}e&&fe&&He.alternate===null&&n(P,fe),V=f(He,V,xe),qe===null?ge=He:qe.sibling=He,qe=He,fe=Ie}if(xe===H.length)return a(P,fe),Me&&vi(P,xe),ge;if(fe===null){for(;xe<H.length;xe++)fe=ee(P,H[xe],W),fe!==null&&(V=f(fe,V,xe),qe===null?ge=fe:qe.sibling=fe,qe=fe);return Me&&vi(P,xe),ge}for(fe=l(fe);xe<H.length;xe++)Ie=K(fe,P,xe,H[xe],W),Ie!==null&&(e&&Ie.alternate!==null&&fe.delete(Ie.key===null?xe:Ie.key),V=f(Ie,V,xe),qe===null?ge=Ie:qe.sibling=Ie,qe=Ie);return e&&fe.forEach(function(xa){return n(P,xa)}),Me&&vi(P,xe),ge}function _e(P,V,H,W){if(H==null)throw Error(r(151));for(var ge=null,qe=null,fe=V,xe=V=0,Ie=null,He=H.next();fe!==null&&!He.done;xe++,He=H.next()){fe.index>xe?(Ie=fe,fe=null):Ie=fe.sibling;var xa=G(P,fe,He.value,W);if(xa===null){fe===null&&(fe=Ie);break}e&&fe&&xa.alternate===null&&n(P,fe),V=f(xa,V,xe),qe===null?ge=xa:qe.sibling=xa,qe=xa,fe=Ie}if(He.done)return a(P,fe),Me&&vi(P,xe),ge;if(fe===null){for(;!He.done;xe++,He=H.next())He=ee(P,He.value,W),He!==null&&(V=f(He,V,xe),qe===null?ge=He:qe.sibling=He,qe=He);return Me&&vi(P,xe),ge}for(fe=l(fe);!He.done;xe++,He=H.next())He=K(fe,P,xe,He.value,W),He!==null&&(e&&He.alternate!==null&&fe.delete(He.key===null?xe:He.key),V=f(He,V,xe),qe===null?ge=He:qe.sibling=He,qe=He);return e&&fe.forEach(function(Ib){return n(P,Ib)}),Me&&vi(P,xe),ge}function Ze(P,V,H,W){if(typeof H=="object"&&H!==null&&H.type===Q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var ge=H.key;V!==null;){if(V.key===ge){if(ge=H.type,ge===Q){if(V.tag===7){a(P,V.sibling),W=h(V,H.props.children),W.return=P,P=W;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&rs(ge)===V.type){a(P,V.sibling),W=h(V,H.props),ul(W,H),W.return=P,P=W;break e}a(P,V);break}else n(P,V);V=V.sibling}H.type===Q?(W=ts(H.props.children,P.mode,W,H.key),W.return=P,P=W):(W=Bo(H.type,H.key,H.props,null,P.mode,W),ul(W,H),W.return=P,P=W)}return _(P);case M:e:{for(ge=H.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(P,V.sibling),W=h(V,H.children||[]),W.return=P,P=W;break e}else{a(P,V);break}else n(P,V);V=V.sibling}W=Yc(H,P.mode,W),W.return=P,P=W}return _(P);case x:return H=rs(H),Ze(P,V,H,W)}if(ke(H))return ce(P,V,H,W);if(B(H)){if(ge=B(H),typeof ge!="function")throw Error(r(150));return H=ge.call(H),_e(P,V,H,W)}if(typeof H.then=="function")return Ze(P,V,Qo(H),W);if(H.$$typeof===ne)return Ze(P,V,qo(P,H),W);Ko(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(P,V.sibling),W=h(V,H),W.return=P,P=W):(a(P,V),W=Kc(H,P.mode,W),W.return=P,P=W),_(P)):a(P,V)}return function(P,V,H,W){try{ol=0;var ge=Ze(P,V,H,W);return Ys=null,ge}catch(fe){if(fe===Ks||fe===Fo)throw fe;var qe=dn(29,fe,null,P.mode);return qe.lanes=W,qe.return=P,qe}finally{}}}var os=Wm(!0),ep=Wm(!1),ua=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ha(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=zo(e),Um(e,null,a),n}return Uo(e,l,n,a),zo(e)}function cl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Hi(e,a)}}function oh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uh=!1;function hl(){if(uh){var e=Qs;if(e!==null)throw e}}function fl(e,n,a,l){uh=!1;var h=e.updateQueue;ua=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,F=D.next;D.next=null,_===null?f=F:_.next=F,_=D;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=F:T.next=F,Z.lastBaseUpdate=D))}if(f!==null){var ee=h.baseState;_=0,Z=F=D=null,T=f;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(je&G)===G:(l&G)===G){G!==0&&G===Gs&&(uh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=e,_e=T;G=n;var Ze=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){ee=ce.call(Ze,ee,G);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,G=typeof ce=="function"?ce.call(Ze,ee,G):ce,G==null)break e;ee=S({},ee,G);break e;case 2:ua=!0}}G=T.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(F=Z=K,D=ee):Z=Z.next=K,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),ga|=_,e.lanes=_,e.memoizedState=ee}}function tp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function np(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)tp(a[e],n)}var Xs=U(null),Yo=U(0);function ip(e,n){e=Ci,ae(Yo,e),ae(Xs,n),Ci=e|n.baseLanes}function ch(){ae(Yo,Ci),ae(Xs,Xs.current)}function hh(){Ci=Yo.current,J(Xs),J(Yo)}var mn=U(null),Nn=null;function fa(e){var n=e.alternate;ae(ft,ft.current&1),ae(mn,e),Nn===null&&(n===null||Xs.current!==null||n.memoizedState!==null)&&(Nn=e)}function fh(e){ae(ft,ft.current),ae(mn,e),Nn===null&&(Nn=e)}function ap(e){e.tag===22?(ae(ft,ft.current),ae(mn,e),Nn===null&&(Nn=e)):da()}function da(){ae(ft,ft.current),ae(mn,mn.current)}function pn(e){J(mn),Nn===e&&(Nn=null),J(ft)}var ft=U(0);function Xo(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_f(a)||Ef(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bi=0,Ae=null,Xe=null,vt=null,$o=!1,$s=!1,us=!1,Zo=0,dl=0,Zs=null,TE=0;function ot(){throw Error(r(321))}function dh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!fn(e[a],n[a]))return!1;return!0}function mh(e,n,a,l,h,f){return bi=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?Pp:Ch,us=!1,f=a(l,h),us=!1,$s&&(f=rp(n,a,l,h)),sp(e),f}function sp(e){$.H=gl;var n=Xe!==null&&Xe.next!==null;if(bi=0,vt=Xe=Ae=null,$o=!1,dl=0,Zs=null,n)throw Error(r(300));e===null||_t||(e=e.dependencies,e!==null&&Po(e)&&(_t=!0))}function rp(e,n,a,l){Ae=e;var h=0;do{if($s&&(Zs=null),dl=0,$s=!1,25<=h)throw Error(r(301));if(h+=1,vt=Xe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=qp,f=n(a,l)}while($s);return f}function SE(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?ml(n):n,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Ae.flags|=1024),n}function ph(){var e=Zo!==0;return Zo=0,e}function gh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function yh(e){if($o){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}$o=!1}bi=0,vt=Xe=Ae=null,$s=!1,dl=Zo=0,Zs=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ae.memoizedState=vt=e:vt=vt.next=e,vt}function dt(){if(Xe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var n=vt===null?Ae.memoizedState:vt.next;if(n!==null)vt=n,Xe=e;else{if(e===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?Ae.memoizedState=vt=e:vt=vt.next=e}return vt}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(e){var n=dl;return dl+=1,Zs===null&&(Zs=[]),e=$m(Zs,e,n),n=Ae,(vt===null?n.memoizedState:vt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Pp:Ch),e}function Wo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ml(e);if(e.$$typeof===ne)return Ut(e)}throw Error(r(438,String(e)))}function vh(e){var n=null,a=Ae.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Jo(),Ae.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=L;return n.index++,a}function Ti(e,n){return typeof n=="function"?n(e):n}function eu(e){var n=dt();return _h(n,Xe,e)}function _h(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=_=null,D=null,F=n,Z=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(je&ee)===ee:(bi&ee)===ee){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Gs&&(Z=!0);else if((bi&G)===G){F=F.next,G===Gs&&(Z=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=ee,_=f):D=D.next=ee,Ae.lanes|=G,ga|=G;ee=F.action,us&&a(f,ee),f=F.hasEagerState?F.eagerState:a(f,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=G,_=f):D=D.next=G,Ae.lanes|=ee,ga|=ee;F=F.next}while(F!==null&&F!==n);if(D===null?_=f:D.next=T,!fn(f,e.memoizedState)&&(_t=!0,Z&&(a=Qs,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Eh(e){var n=dt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);fn(f,n.memoizedState)||(_t=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function lp(e,n,a){var l=Ae,h=dt(),f=Me;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!fn((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,_t=!0),h=h.queue,Sh(cp.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Js(9,{destroy:void 0},up.bind(null,l,h,a,n),null),Je===null)throw Error(r(349));f||(bi&127)!==0||op(l,n,a)}return a}function op(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ae.updateQueue,n===null?(n=Jo(),Ae.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function up(e,n,a,l){n.value=a,n.getSnapshot=l,hp(n)&&fp(e)}function cp(e,n,a){return a(function(){hp(n)&&fp(e)})}function hp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!fn(e,a)}catch{return!0}}function fp(e){var n=es(e,2);n!==null&&un(n,e,2)}function bh(e){var n=tn();if(typeof e=="function"){var a=e;if(e=a(),us){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},n}function dp(e,n,a,l){return e.baseState=a,_h(e,Xe,typeof l=="function"?l:Ti)}function AE(e,n,a,l,h){if(iu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,mp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function mp(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=$.T,_={};$.T=_;try{var T=a(h,l),D=$.S;D!==null&&D(_,T),pp(e,n,T)}catch(F){Th(e,n,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),$.T=f}}else try{f=a(h,l),pp(e,n,f)}catch(F){Th(e,n,F)}}function pp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gp(e,n,l)},function(l){return Th(e,n,l)}):gp(e,n,a)}function gp(e,n,a){n.status="fulfilled",n.value=a,yp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,mp(e,a)))}function Th(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,yp(n),n=n.next;while(n!==l)}e.action=null}function yp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vp(e,n){return n}function _p(e,n){if(Me){var a=Je.formState;if(a!==null){e:{var l=Ae;if(Me){if(et){t:{for(var h=et,f=Rn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Cn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){et=Cn(h.nextSibling),l=h.data==="F!";break e}}la(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},a.queue=l,a=zp.bind(null,Ae,l),l.dispatch=a,l=bh(!1),f=Nh.bind(null,Ae,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=AE.bind(null,Ae,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function Ep(e){var n=dt();return bp(n,Xe,e)}function bp(e,n,a){if(n=_h(e,n,vp)[0],e=eu(Ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(_){throw _===Ks?Fo:_}else l=n;n=dt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ae.flags|=2048,Js(9,{destroy:void 0},wE.bind(null,h,a),null)),[l,f,e]}function wE(e,n){e.action=n}function Tp(e){var n=dt(),a=Xe;if(a!==null)return bp(n,a,e);dt(),n=n.memoizedState,a=dt();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Js(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Jo(),Ae.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Sp(){return dt().memoizedState}function tu(e,n,a,l){var h=tn();Ae.flags|=e,h.memoizedState=Js(1|n,{destroy:void 0},a,l===void 0?null:l)}function nu(e,n,a,l){var h=dt();l=l===void 0?null:l;var f=h.memoizedState.inst;Xe!==null&&l!==null&&dh(l,Xe.memoizedState.deps)?h.memoizedState=Js(n,f,a,l):(Ae.flags|=e,h.memoizedState=Js(1|n,f,a,l))}function Ap(e,n){tu(8390656,8,e,n)}function Sh(e,n){nu(2048,8,e,n)}function xE(e){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Jo(),Ae.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function wp(e){var n=dt().memoizedState;return xE({ref:n,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function xp(e,n){return nu(4,2,e,n)}function Rp(e,n){return nu(4,4,e,n)}function Np(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cp(e,n,a){a=a!=null?a.concat([e]):null,nu(4,4,Np.bind(null,n,e),a)}function Ah(){}function Dp(e,n){var a=dt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function jp(e,n){var a=dt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=e(),us){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function wh(e,n,a){return a===void 0||(bi&1073741824)!==0&&(je&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ig(),Ae.lanes|=e,ga|=e,a)}function Ip(e,n,a,l){return fn(a,n)?a:Xs.current!==null?(e=wh(e,a,l),fn(e,n)||(_t=!0),e):(bi&42)===0||(bi&1073741824)!==0&&(je&261930)===0?(_t=!0,e.memoizedState=a):(e=Ig(),Ae.lanes|=e,ga|=e,n)}function Mp(e,n,a,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var _=$.T,T={};$.T=T,Nh(e,!1,n,a);try{var D=h(),F=$.S;if(F!==null&&F(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=bE(D,l);pl(e,n,Z,vn(e))}else pl(e,n,l,vn(e))}catch(ee){pl(e,n,{then:function(){},status:"rejected",reason:ee},vn())}finally{se.p=f,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function RE(){}function xh(e,n,a,l){if(e.tag!==5)throw Error(r(476));var h=Op(e).queue;Mp(e,h,n,ue,a===null?RE:function(){return Vp(e),a(l)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ue},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),pl(e,n.next.queue,{},vn())}function Rh(){return Ut(Il)}function Lp(){return dt().memoizedState}function Up(){return dt().memoizedState}function NE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=vn();e=ca(a);var l=ha(n,e,a);l!==null&&(un(l,n,a),cl(l,n,a)),n={cache:nh()},e.payload=n;return}n=n.return}}function CE(e,n,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},iu(e)?Bp(n,a):(a=Gc(e,n,a,l),a!==null&&(un(a,e,l),kp(a,n,l)))}function zp(e,n,a){var l=vn();pl(e,n,a,l)}function pl(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(iu(e))Bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,_))return Uo(e,n,h,0),Je===null&&Lo(),!1}catch{}finally{}if(a=Gc(e,n,h,l),a!==null)return un(a,e,l),kp(a,n,l),!0}return!1}function Nh(e,n,a,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},iu(e)){if(n)throw Error(r(479))}else n=Gc(e,a,l,2),n!==null&&un(n,e,2)}function iu(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function Bp(e,n){$s=$o=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function kp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Hi(e,a)}}var gl={readContext:Ut,use:Wo,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};gl.useEffectEvent=ot;var Pp={readContext:Ut,use:Wo,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Ut,useEffect:Ap,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,tu(4194308,4,Np.bind(null,n,e),a)},useLayoutEffect:function(e,n){return tu(4194308,4,e,n)},useInsertionEffect:function(e,n){tu(4,2,e,n)},useMemo:function(e,n){var a=tn();n=n===void 0?null:n;var l=e();if(us){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=tn();if(a!==void 0){var h=a(n);if(us){_n(!0);try{a(n)}finally{_n(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=CE.bind(null,Ae,e),[l.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=bh(e);var n=e.queue,a=zp.bind(null,Ae,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(e,n){var a=tn();return wh(a,e,n)},useTransition:function(){var e=bh(!1);return e=Mp.bind(null,Ae,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ae,h=tn();if(Me){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Je===null)throw Error(r(349));(je&127)!==0||op(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ap(cp.bind(null,l,f,e),[e]),l.flags|=2048,Js(9,{destroy:void 0},up.bind(null,l,f,a,n),null),a},useId:function(){var e=tn(),n=Je.identifierPrefix;if(Me){var a=Jn,l=Zn;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=TE++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rh,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nh.bind(null,Ae,!0,a),a.dispatch=n,[e,n]},useMemoCache:vh,useCacheRefresh:function(){return tn().memoizedState=NE.bind(null,Ae)},useEffectEvent:function(e){var n=tn(),a={impl:e};return n.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ch={readContext:Ut,use:Wo,useCallback:Dp,useContext:Ut,useEffect:Sh,useImperativeHandle:Cp,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:jp,useReducer:eu,useRef:Sp,useState:function(){return eu(Ti)},useDebugValue:Ah,useDeferredValue:function(e,n){var a=dt();return Ip(a,Xe.memoizedState,e,n)},useTransition:function(){var e=eu(Ti)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:ml(e),n]},useSyncExternalStore:lp,useId:Lp,useHostTransitionStatus:Rh,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var a=dt();return dp(a,Xe,e,n)},useMemoCache:vh,useCacheRefresh:Up};Ch.useEffectEvent=wp;var qp={readContext:Ut,use:Wo,useCallback:Dp,useContext:Ut,useEffect:Sh,useImperativeHandle:Cp,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:jp,useReducer:Eh,useRef:Sp,useState:function(){return Eh(Ti)},useDebugValue:Ah,useDeferredValue:function(e,n){var a=dt();return Xe===null?wh(a,e,n):Ip(a,Xe.memoizedState,e,n)},useTransition:function(){var e=Eh(Ti)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:ml(e),n]},useSyncExternalStore:lp,useId:Lp,useHostTransitionStatus:Rh,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var a=dt();return Xe!==null?dp(a,Xe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Up};qp.useEffectEvent=wp;function Dh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=vn(),h=ca(l);h.payload=n,a!=null&&(h.callback=a),n=ha(e,h,l),n!==null&&(un(n,e,l),cl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=vn(),h=ca(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ha(e,h,l),n!==null&&(un(n,e,l),cl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=vn(),l=ca(a);l.tag=2,n!=null&&(l.callback=n),n=ha(e,l,a),n!==null&&(un(n,e,a),cl(n,e,a))}};function Hp(e,n,a,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(h,f):!0}function Fp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&jh.enqueueReplaceState(n,n.state,null)}function cs(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Gp(e){Vo(e)}function Qp(e){console.error(e)}function Kp(e){Vo(e)}function au(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ih(e,n,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){au(e,n)},a}function Xp(e){return e=ca(e),e.tag=3,e}function $p(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Yp(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Yp(n,a,l),typeof h!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DE(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fs(n,a,h,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?gu():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Go?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),af(e,l,h)),!1;case 22:return a.flags|=65536,l===Go?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),af(e,l,h)),!1}throw Error(r(435,a.tag))}return af(e,l,h),gu(),!1}if(Me)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zc&&(e=Error(r(422),{cause:l}),sl(An(e,a)))):(l!==Zc&&(n=Error(r(423),{cause:l}),sl(An(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=An(l,a),h=Ih(e.stateNode,l,h),oh(e,h),ut!==4&&(ut=2)),!1;var f=Error(r(520),{cause:l});if(f=An(f,a),Al===null?Al=[f]:Al.push(f),ut!==4&&(ut=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Ih(a.stateNode,l,e),oh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ya===null||!ya.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xp(h),$p(h,e,a,l),oh(a,h),!1}a=a.return}while(a!==null);return!1}var Mh=Error(r(461)),_t=!1;function zt(e,n,a,l){n.child=e===null?ep(n,null,a,l):os(n,e.child,a,l)}function Zp(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return as(n),l=mh(e,n,a,_,f,h),T=ph(),e!==null&&!_t?(gh(e,n,h),Si(e,n,h)):(Me&&T&&Xc(n),n.flags|=1,zt(e,n,l,h),n.child)}function Jp(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Wp(e,n,f,l,h)):(e=Bo(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ph(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&e.ref===n.ref)return Si(e,n,h)}return n.flags|=1,e=yi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Wp(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(nl(f,l)&&e.ref===n.ref)if(_t=!1,n.pendingProps=l=f,Ph(e,h))(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,Si(e,n,h)}return Oh(e,n,a,l,h)}function eg(e,n,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return tg(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ho(n,f!==null?f.cachePool:null),f!==null?ip(n,f):ch(),ap(n);else return l=n.lanes=536870912,tg(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ho(n,f.cachePool),ip(n,f),da(),n.memoizedState=null):(e!==null&&Ho(n,null),ch(),da());return zt(e,n,h,a),n.child}function yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function tg(e,n,a,l,h){var f=ah();return f=f===null?null:{parent:yt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ho(n,null),ch(),ap(n),e!==null&&Fs(e,n,l,!0),n.childLanes=h,null}function su(e,n){return n=lu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ng(e,n,a){return os(n,e.child,null,a),e=su(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function jE(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Me){if(l.mode==="hidden")return e=su(n,l),n.lanes=536870912,yl(null,e);if(fh(n),(e=et)?(e=my(e,Rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:sa!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=Bm(e),a.return=n,n.child=a,Lt=n,et=null)):e=null,e===null)throw la(n);return n.lanes=536870912,null}return su(n,l)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(fh(n),h)if(n.flags&256)n.flags&=-257,n=ng(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(_t||Fs(e,n,a,!1),h=(a&e.childLanes)!==0,_t||h){if(l=Je,l!==null&&(_=Fi(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,es(e,_),un(l,e,_),Mh;gu(),n=ng(e,n,a)}else e=f.treeContext,et=Cn(_.nextSibling),Lt=n,Me=!0,ra=null,Rn=!1,e!==null&&qm(n,e),n=su(n,l),n.flags|=4096;return n}return e=yi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ru(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Oh(e,n,a,l,h){return as(n),a=mh(e,n,a,l,void 0,h),l=ph(),e!==null&&!_t?(gh(e,n,h),Si(e,n,h)):(Me&&l&&Xc(n),n.flags|=1,zt(e,n,a,h),n.child)}function ig(e,n,a,l,h,f){return as(n),n.updateQueue=null,a=rp(n,l,a,h),sp(e),l=ph(),e!==null&&!_t?(gh(e,n,f),Si(e,n,f)):(Me&&l&&Xc(n),n.flags|=1,zt(e,n,a,f),n.child)}function ag(e,n,a,l,h){if(as(n),n.stateNode===null){var f=ks,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ut(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ut(_):ks,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Dh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&jh.enqueueReplaceState(f,f.state,null),fl(n,l,f,h),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,D=cs(a,T);f.props=D;var F=f.context,Z=a.contextType;_=ks,typeof Z=="object"&&Z!==null&&(_=Ut(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||F!==_)&&Fp(n,f,l,_),ua=!1;var G=n.memoizedState;f.state=G,fl(n,l,f,h),hl(),F=n.memoizedState,T||G!==F||ua?(typeof ee=="function"&&(Dh(n,a,ee,l),F=n.memoizedState),(D=ua||Hp(n,a,D,l,G,F,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(e,n),_=n.memoizedProps,Z=cs(a,_),f.props=Z,ee=n.pendingProps,G=f.context,F=a.contextType,D=ks,typeof F=="object"&&F!==null&&(D=Ut(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ee||G!==D)&&Fp(n,f,l,D),ua=!1,G=n.memoizedState,f.state=G,fl(n,l,f,h),hl();var K=n.memoizedState;_!==ee||G!==K||ua||e!==null&&e.dependencies!==null&&Po(e.dependencies)?(typeof T=="function"&&(Dh(n,a,T,l),K=n.memoizedState),(Z=ua||Hp(n,a,Z,l,G,K,D)||e!==null&&e.dependencies!==null&&Po(e.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=D,l=Z):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ru(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=os(n,e.child,null,h),n.child=os(n,null,a,h)):zt(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Si(e,n,h),e}function sg(e,n,a,l){return ns(),n.flags|=256,zt(e,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(e){return{baseLanes:e,cachePool:Ym()}}function Uh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=yn),e}function rg(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Me){if(h?fa(n):da(),(e=et)?(e=my(e,Rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:sa!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=Bm(e),a.return=n,n.child=a,Lt=n,et=null)):e=null,e===null)throw la(n);return Ef(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(da(),h=n.mode,T=lu({mode:"hidden",children:T},h),l=ts(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lh(a),l.childLanes=Uh(e,_,a),n.memoizedState=Vh,yl(null,l)):(fa(n),zh(n,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(fa(n),n.flags&=-257,n=Bh(e,n,a)):n.memoizedState!==null?(da(),n.child=e.child,n.flags|=128,n=null):(da(),T=l.fallback,h=n.mode,l=lu({mode:"visible",children:l.children},h),T=ts(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,os(n,e.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=Uh(e,_,a),n.memoizedState=Vh,n=yl(null,l));else if(fa(n),Ef(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),n=Bh(e,n,a)}else if(_t||Fs(e,n,a,!1),_=(a&e.childLanes)!==0,_t||_){if(_=Je,_!==null&&(l=Fi(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,es(e,l),un(_,e,l),Mh;_f(T)||gu(),n=Bh(e,n,a)}else _f(T)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,et=Cn(T.nextSibling),Lt=n,Me=!0,ra=null,Rn=!1,e!==null&&qm(n,e),n=zh(n,l.children),n.flags|=4096);return n}return h?(da(),T=l.fallback,h=n.mode,D=e.child,F=D.sibling,l=yi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?T=yi(F,T):(T=ts(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,yl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Lh(a):(h=T.cachePool,h!==null?(D=yt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Ym(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Uh(e,_,a),n.memoizedState=Vh,yl(e.child,l)):(fa(n),a=e.child,e=a.sibling,a=yi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function zh(e,n){return n=lu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Bh(e,n,a){return os(n,e.child,null,a),e=zh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lg(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),eh(e.return,n,a)}function kh(e,n,a,l,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function og(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=ft.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ae(ft,_),zt(e,n,l,a),l=Me?al:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lg(e,a,n);else if(e.tag===19)lg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Xo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),kh(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Xo(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}kh(n,!0,a,null,f,l);break;case"together":kh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Si(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ga|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Fs(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=yi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=yi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ph(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Po(e)))}function IE(e,n,a){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),oa(n,yt,e.memoizedState.cache),ns();break;case 27:case 5:qn(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?rg(e,n,a):(fa(n),e=Si(e,n,a),e!==null?e.sibling:null);fa(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fs(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return og(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(ft,ft.current),l)break;return null;case 22:return n.lanes=0,eg(e,n,a,n.pendingProps);case 24:oa(n,yt,e.memoizedState.cache)}return Si(e,n,a)}function ug(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)_t=!0;else{if(!Ph(e,a)&&(n.flags&128)===0)return _t=!1,IE(e,n,a);_t=(e.flags&131072)!==0}else _t=!1,Me&&(n.flags&1048576)!==0&&Pm(n,al,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=rs(n.elementType),n.type=e,typeof e=="function")Qc(e)?(l=cs(e,l),n.tag=1,n=ag(null,n,e,l,a)):(n.tag=0,n=Oh(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===ye){n.tag=11,n=Zp(null,n,e,l,a);break e}else if(h===I){n.tag=14,n=Jp(null,n,e,l,a);break e}}throw n=pe(e)||e,Error(r(306,n,""))}}return n;case 0:return Oh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=cs(l,n.pendingProps),ag(e,n,l,h,a);case 3:e:{if(It(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lh(e,n),fl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,oa(n,yt,l),l!==f.cache&&th(n,[yt],a,!0),hl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sg(e,n,l,a);break e}else if(l!==h){h=An(Error(r(424)),n),sl(h),n=sg(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=Cn(e.firstChild),Lt=n,Me=!0,ra=null,Rn=!0,a=ep(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ns(),l===h){n=Si(e,n,a);break e}zt(e,n,l,a)}n=n.child}return n;case 26:return ru(e,n),e===null?(a=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:Me||(a=n.type,e=n.pendingProps,l=Su(ve.current).createElement(a),l[rt]=n,l[Vt]=e,Bt(l,a,e),ht(l),n.stateNode=l):n.memoizedState=Ey(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qn(n),e===null&&Me&&(l=n.stateNode=yy(n.type,n.pendingProps,ve.current),Lt=n,Rn=!0,h=et,ba(n.type)?(bf=h,et=Cn(l.firstChild)):et=h),zt(e,n,n.pendingProps.children,a),ru(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Me&&((h=l=et)&&(l=ob(l,n.type,n.pendingProps,Rn),l!==null?(n.stateNode=l,Lt=n,et=Cn(l.firstChild),Rn=!1,h=!0):h=!1),h||la(n)),qn(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,gf(h,f)?l=null:_!==null&&gf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=mh(e,n,SE,null,null,a),Il._currentValue=h),ru(e,n),zt(e,n,l,a),n.child;case 6:return e===null&&Me&&((e=a=et)&&(a=ub(a,n.pendingProps,Rn),a!==null?(n.stateNode=a,Lt=n,et=null,e=!0):e=!1),e||la(n)),null;case 13:return rg(e,n,a);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=os(n,null,l,a):zt(e,n,l,a),n.child;case 11:return Zp(e,n,n.type,n.pendingProps,a);case 7:return zt(e,n,n.pendingProps,a),n.child;case 8:return zt(e,n,n.pendingProps.children,a),n.child;case 12:return zt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),zt(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,as(n),h=Ut(h),l=l(h),n.flags|=1,zt(e,n,l,a),n.child;case 14:return Jp(e,n,n.type,n.pendingProps,a);case 15:return Wp(e,n,n.type,n.pendingProps,a);case 19:return og(e,n,a);case 31:return jE(e,n,a);case 22:return eg(e,n,a,n.pendingProps);case 24:return as(n),l=Ut(yt),e===null?(h=ah(),h===null&&(h=Je,f=nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},rh(n),oa(n,yt,h)):((e.lanes&a)!==0&&(lh(e,n),fl(n,null,null,a),hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),oa(n,yt,l)):(l=f.cache,oa(n,yt,l),l!==h.cache&&th(n,[yt],a,!0))),zt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ai(e){e.flags|=4}function qh(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Lg())e.flags|=8192;else throw ls=Go,sh}else e.flags&=-16777217}function cg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wy(n))if(Lg())e.flags|=8192;else throw ls=Go,sh}function ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zr():536870912,e.lanes|=n,nr|=n)}function vl(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function ME(e,n,a){var l=n.pendingProps;switch($c(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(yt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?Ai(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jc())),tt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ai(n),f!==null?(tt(n),cg(n,f)):(tt(n),qh(n,h,null,l,a))):f?f!==e.memoizedState?(Ai(n),tt(n),cg(n,f)):(tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ai(n),tt(n),qh(n,h,e,l,a)),null;case 27:if(si(n),a=ve.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return tt(n),null}e=k.current,Hs(n)?Hm(n):(e=yy(h,l,a),n.stateNode=e,Ai(n))}return tt(n),null;case 5:if(si(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return tt(n),null}if(f=k.current,Hs(n))Hm(n);else{var _=Su(ve.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[rt]=n,f[Vt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Bt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ai(n)}}return tt(n),qh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ai(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=ve.current,Hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Lt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[rt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ry(e.nodeValue,a)),e||la(n,!0)}else e=Su(e).createTextNode(l),e[rt]=n,n.stateNode=e}return tt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Hs(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[rt]=n}else ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),e=!1}else a=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return tt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[rt]=n}else ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ou(n,n.updateQueue),tt(n),null);case 4:return at(),e===null&&hf(n.stateNode.containerInfo),tt(n),null;case 10:return Ei(n.type),tt(n),null;case 19:if(J(ft),l=n.memoizedState,l===null)return tt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)vl(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Xo(e),f!==null){for(n.flags|=128,vl(l,!1),e=f.updateQueue,n.updateQueue=e,ou(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)zm(a,e),a=a.sibling;return ae(ft,ft.current&1|2),Me&&vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Mt()>du&&(n.flags|=128,h=!0,vl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Xo(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ou(n,e),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Me)return tt(n),null}else 2*Mt()-l.renderingStartTime>du&&a!==536870912&&(n.flags|=128,h=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Mt(),e.sibling=null,a=ft.current,ae(ft,h?a&1|2:a&1),Me&&vi(n,l.treeForkCount),e):(tt(n),null);case 22:case 23:return pn(n),hh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),a=n.updateQueue,a!==null&&ou(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&J(ss),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ei(yt),tt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function OE(e,n){switch($c(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ei(yt),at(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));ns()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ns()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(ft),null;case 4:return at(),null;case 10:return Ei(n.type),null;case 22:case 23:return pn(n),hh(),e!==null&&J(ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ei(yt),null;case 25:return null;default:return null}}function hg(e,n){switch($c(n),n.tag){case 3:Ei(yt),at();break;case 26:case 27:case 5:si(n);break;case 4:at();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:J(ft);break;case 10:Ei(n.type);break;case 22:case 23:pn(n),hh(),e!==null&&J(ss);break;case 24:Ei(yt)}}function _l(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(n,n.return,T)}}function ma(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var D=a,F=T;try{F()}catch(Z){Ye(h,D,Z)}}}l=l.next}while(l!==f)}}catch(Z){Ye(n,n.return,Z)}}function fg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{np(n,a)}catch(l){Ye(e,e.return,l)}}}function dg(e,n,a){a.props=cs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(e,n,l)}}function El(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Ye(e,n,h)}}function Wn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(e,n,h)}else a.current=null}function mg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(e,e.return,h)}}function Hh(e,n,a){try{var l=e.stateNode;nb(l,e.type,a,n),l[Vt]=n}catch(h){Ye(e,e.return,h)}}function pg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ba(e.type)||e.tag===4}function Fh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Rt));else if(l!==4&&(l===27&&ba(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Gh(e,n,a),e=e.sibling;e!==null;)Gh(e,n,a),e=e.sibling}function uu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ba(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uu(e,n,a),e=e.sibling;e!==null;)uu(e,n,a),e=e.sibling}function gg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Bt(n,l,a),n[rt]=e,n[Vt]=a}catch(f){Ye(e,e.return,f)}}var wi=!1,Et=!1,Qh=!1,yg=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function VE(e,n){if(e=e.containerInfo,mf=Du,e=Cm(e),Bc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,F=0,Z=0,ee=e,G=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==f||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===e)break t;if(G===a&&++F===h&&(T=_),G===f&&++Z===l&&(D=_),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:e,selectionRange:a},Du=!1,Dt=n;Dt!==null;)if(n=Dt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Dt=e;else for(;Dt!==null;){switch(n=Dt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=cs(a.type,h);e=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Ye(a,a.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Dt=e;break}Dt=n.return}}function vg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(e,a),l&4&&_l(5,a);break;case 1:if(Ri(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=cs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&fg(a),l&512&&El(a,a.return);break;case 3:if(Ri(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{np(e,n)}catch(_){Ye(a,a.return,_)}}break;case 27:n===null&&l&4&&gg(a);case 26:case 5:Ri(e,a),n===null&&l&4&&mg(a),l&512&&El(a,a.return);break;case 12:Ri(e,a);break;case 31:Ri(e,a),l&4&&bg(e,a);break;case 13:Ri(e,a),l&4&&Tg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=FE.bind(null,a),cb(e,a))));break;case 22:if(l=a.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||Et,h=wi;var f=Et;wi=l,(Et=n)&&!f?Ni(e,a,(a.subtreeFlags&8772)!==0):Ri(e,a),wi=h,Et=f}break;case 30:break;default:Ri(e,a)}}function _g(e){var n=e.alternate;n!==null&&(e.alternate=null,_g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,sn=!1;function xi(e,n,a){for(a=a.child;a!==null;)Eg(e,n,a),a=a.sibling}function Eg(e,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 26:Et||Wn(a,n),xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Wn(a,n);var l=nt,h=sn;ba(a.type)&&(nt=a.stateNode,sn=!1),xi(e,n,a),Cl(a.stateNode),nt=l,sn=h;break;case 5:Et||Wn(a,n);case 6:if(l=nt,h=sn,nt=null,xi(e,n,a),nt=l,sn=h,nt!==null)if(sn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(f){Ye(a,n,f)}else try{nt.removeChild(a.stateNode)}catch(f){Ye(a,n,f)}break;case 18:nt!==null&&(sn?(e=nt,fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cr(e)):fy(nt,a.stateNode));break;case 4:l=nt,h=sn,nt=a.stateNode.containerInfo,sn=!0,xi(e,n,a),nt=l,sn=h;break;case 0:case 11:case 14:case 15:ma(2,a,n),Et||ma(4,a,n),xi(e,n,a);break;case 1:Et||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dg(a,n,l)),xi(e,n,a);break;case 21:xi(e,n,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,xi(e,n,a),Et=l;break;default:xi(e,n,a)}}function bg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{cr(e)}catch(a){Ye(n,n.return,a)}}}function Tg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cr(e)}catch(a){Ye(n,n.return,a)}}function LE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yg),n;default:throw Error(r(435,e.tag))}}function cu(e,n){var a=LE(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=GE.bind(null,e,l);l.then(h,h)}})}function rn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ba(T.type)){nt=T.stateNode,sn=!1;break e}break;case 5:nt=T.stateNode,sn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(nt===null)throw Error(r(160));Eg(f,_,h),nt=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sg(n,e),n=n.sibling}var Un=null;function Sg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),ln(e),l&4&&(ma(3,e,e.return),_l(3,e),ma(5,e,e.return));break;case 1:rn(n,e),ln(e),l&512&&(Et||a===null||Wn(a,a.return)),l&64&&wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(rn(n,e),ln(e),l&512&&(Et||a===null||Wn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Bt(f,l,a),f[rt]=e,ht(f),l=f;break e;case"link":var _=Sy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(l),Bt(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Sy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(l),Bt(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[rt]=e,ht(f),l=f}e.stateNode=l}else Ay(h,e.type,e.stateNode);else e.stateNode=Ty(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ay(h,e.type,e.stateNode):Ty(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hh(e,e.memoizedProps,a.memoizedProps)}break;case 27:rn(n,e),ln(e),l&512&&(Et||a===null||Wn(a,a.return)),a!==null&&l&4&&Hh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,e),ln(e),l&512&&(Et||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(ce){Ye(e,e.return,ce)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hh(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qh=!0);break;case 6:if(rn(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ce){Ye(e,e.return,ce)}}break;case 3:if(xu=null,h=Un,Un=Au(n.containerInfo),rn(n,e),Un=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(n.containerInfo)}catch(ce){Ye(e,e.return,ce)}Qh&&(Qh=!1,Ag(e));break;case 4:l=Un,Un=Au(e.stateNode.containerInfo),rn(n,e),ln(e),Un=l;break;case 12:rn(n,e),ln(e);break;case 31:rn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cu(e,l)));break;case 13:rn(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fu=Mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cu(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=wi,Z=Et;if(wi=F||h,Et=Z||D,rn(n,e),Et=Z,wi=F,ln(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||wi||Et||hs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ce){Ye(D,D.return,ce)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ce){Ye(D,D.return,ce)}}}else if(n.tag===18){if(a===null){D=n;try{var K=D.stateNode;h?dy(K,!0):dy(D.stateNode,!1)}catch(ce){Ye(D,D.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cu(e,a))));break;case 19:rn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cu(e,l)));break;case 30:break;case 21:break;default:rn(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(pg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Fh(e);uu(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var T=Fh(e);uu(e,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=Fh(e);Gh(e,F,D);break;default:throw Error(r(161))}}catch(Z){Ye(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ag(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ri(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vg(e,n.alternate,n),n=n.sibling}function hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ma(4,n,n.return),hs(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&dg(n,n.return,a),hs(n);break;case 27:Cl(n.stateNode);case 26:case 5:Wn(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}e=e.sibling}}function Ni(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ni(h,f,a),_l(4,f);break;case 1:if(Ni(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ye(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)tp(D[h],T)}catch(F){Ye(l,l.return,F)}}a&&_&64&&fg(f),El(f,f.return);break;case 27:gg(f);case 26:case 5:Ni(h,f,a),a&&l===null&&_&4&&mg(f),El(f,f.return);break;case 12:Ni(h,f,a);break;case 31:Ni(h,f,a),a&&_&4&&bg(h,f);break;case 13:Ni(h,f,a),a&&_&4&&Tg(h,f);break;case 22:f.memoizedState===null&&Ni(h,f,a),El(f,f.return);break;case 30:break;default:Ni(h,f,a)}n=n.sibling}}function Kh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function Yh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rl(e))}function zn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wg(e,n,a,l),n=n.sibling}function wg(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:zn(e,n,a,l),h&2048&&_l(9,n);break;case 1:zn(e,n,a,l);break;case 3:zn(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rl(e)));break;case 12:if(h&2048){zn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Ye(n,n.return,D)}}else zn(e,n,a,l);break;case 31:zn(e,n,a,l);break;case 13:zn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?zn(e,n,a,l):bl(e,n):f._visibility&2?zn(e,n,a,l):(f._visibility|=2,Ws(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kh(_,n);break;case 24:zn(e,n,a,l),h&2048&&Yh(n.alternate,n);break;default:zn(e,n,a,l)}}function Ws(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,_=n,T=a,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ws(f,_,T,D,h),_l(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ws(f,_,T,D,h):bl(f,_):(Z._visibility|=2,Ws(f,_,T,D,h)),h&&F&2048&&Kh(_.alternate,_);break;case 24:Ws(f,_,T,D,h),h&&F&2048&&Yh(_.alternate,_);break;default:Ws(f,_,T,D,h)}n=n.sibling}}function bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Kh(l.alternate,l);break;case 24:bl(a,l),h&2048&&Yh(l.alternate,l);break;default:bl(a,l)}n=n.sibling}}var Tl=8192;function er(e,n,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)xg(e,n,a),e=e.sibling}function xg(e,n,a){switch(e.tag){case 26:er(e,n,a),e.flags&Tl&&e.memoizedState!==null&&Tb(a,Un,e.memoizedState,e.memoizedProps);break;case 5:er(e,n,a);break;case 3:case 4:var l=Un;Un=Au(e.stateNode.containerInfo),er(e,n,a),Un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,er(e,n,a),Tl=l):er(e,n,a));break;default:er(e,n,a)}}function Rg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Dt=l,Cg(l,e)}Rg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ng(e),e=e.sibling}function Ng(e){switch(e.tag){case 0:case 11:case 15:Sl(e),e.flags&2048&&ma(9,e,e.return);break;case 3:Sl(e);break;case 12:Sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hu(e)):Sl(e);break;default:Sl(e)}}function hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Dt=l,Cg(l,e)}Rg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ma(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hu(n));break;default:hu(n)}e=e.sibling}}function Cg(e,n){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=e;Dt!==null;){l=Dt;var h=l.sibling,f=l.return;if(_g(l),l===a){Dt=null;break e}if(h!==null){h.return=f,Dt=h;break e}Dt=f}}}var UE={getCacheForType:function(e){var n=Ut(yt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ut(yt).controller.signal}},zE=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,Ce=null,je=0,Ke=0,gn=null,pa=!1,tr=!1,Xh=!1,Ci=0,ut=0,ga=0,fs=0,$h=0,yn=0,nr=0,Al=null,on=null,Zh=!1,fu=0,Dg=0,du=1/0,mu=null,ya=null,At=0,va=null,ir=null,Di=0,Jh=0,Wh=null,jg=null,wl=0,ef=null;function vn(){return(Fe&2)!==0&&je!==0?je&-je:$.T!==null?lf():oi()}function Ig(){if(yn===0)if((je&536870912)===0||Me){var e=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function un(e,n,a){(e===Je&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(ar(e,0),_a(e,je,yn,!1)),qi(e,a),((Fe&2)===0||e!==Je)&&(e===Je&&((Fe&2)===0&&(fs|=a),ut===4&&_a(e,je,yn,!1)),ei(e))}function Mg(e,n,a){if((Fe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Pi(e,n),h=l?PE(e,n):nf(e,n,!0),f=l;do{if(h===0){tr&&!l&&_a(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!BE(a)){h=nf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=e;h=Al;var D=T.current.memoizedState.isDehydrated;if(D&&(ar(T,_).flags|=256),_=nf(T,_,!1),_!==2){if(Xh&&!D){T.errorRecoveryDisabledLanes|=f,fs|=f,h=4;break e}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ar(e,0),_a(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,yn,!pa);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=fu+300-Mt(),10<h)){if(_a(l,n,yn,!pa),En(l,0,!0)!==0)break e;Di=n,l.timeoutHandle=cy(Og.bind(null,l,a,on,mu,Zh,n,yn,fs,nr,pa,f,"Throttled",-0,0),h);break e}Og(l,a,on,mu,Zh,n,yn,fs,nr,pa,f,null,-0,0)}}break}while(!0);ei(e)}function Og(e,n,a,l,h,f,_,T,D,F,Z,ee,G,K){if(e.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt},xg(n,f,ee);var ce=(f&62914560)===f?fu-Mt():(f&4194048)===f?Dg-Mt():0;if(ce=Sb(ee,ce),ce!==null){Di=f,e.cancelPendingCommit=ce(qg.bind(null,e,n,f,a,l,h,_,T,D,Z,ee,null,G,K)),_a(e,f,_,!F);return}}qg(e,n,f,a,l,h,_,T,D)}function BE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(e,n,a,l){n&=~$h,n&=~fs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-$t(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Br(e,a,n)}function pu(){return(Fe&6)===0?(xl(0),!1):!0}function tf(){if(Ce!==null){if(Ke===0)var e=Ce.return;else e=Ce,_i=is=null,yh(e),Ys=null,ol=0,e=Ce;for(;e!==null;)hg(e.alternate,e),e=e.return;Ce=null}}function ar(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Di=0,tf(),Je=e,Ce=a=yi(e.current,null),je=n,Ke=0,gn=null,pa=!1,tr=Pi(e,n),Xh=!1,nr=yn=$h=fs=ga=ut=0,on=Al=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-$t(l),f=1<<h;n|=e[h],l&=~f}return Ci=n,Lo(),a}function Vg(e,n){Ae=null,$.H=gl,n===Ks||n===Fo?(n=Zm(),Ke=3):n===sh?(n=Zm(),Ke=4):Ke=n===Mh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ce===null&&(ut=1,au(e,An(n,e.current)))}function Lg(){var e=mn.current;return e===null?!0:(je&4194048)===je?Nn===null:(je&62914560)===je||(je&536870912)!==0?e===Nn:!1}function Ug(){var e=$.H;return $.H=gl,e===null?gl:e}function zg(){var e=$.A;return $.A=UE,e}function gu(){ut=4,pa||(je&4194048)!==je&&mn.current!==null||(tr=!0),(ga&134217727)===0&&(fs&134217727)===0||Je===null||_a(Je,je,yn,!1)}function nf(e,n,a){var l=Fe;Fe|=2;var h=Ug(),f=zg();(Je!==e||je!==n)&&(mu=null,ar(e,n)),n=!1;var _=ut;e:do try{if(Ke!==0&&Ce!==null){var T=Ce,D=gn;switch(Ke){case 8:tf(),_=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var F=Ke;if(Ke=0,gn=null,sr(e,T,D,F),a&&tr){_=0;break e}break;default:F=Ke,Ke=0,gn=null,sr(e,T,D,F)}}kE(),_=ut;break}catch(Z){Vg(e,Z)}while(!0);return n&&e.shellSuspendCounter++,_i=is=null,Fe=l,$.H=h,$.A=f,Ce===null&&(Je=null,je=0,Lo()),_}function kE(){for(;Ce!==null;)Bg(Ce)}function PE(e,n){var a=Fe;Fe|=2;var l=Ug(),h=zg();Je!==e||je!==n?(mu=null,du=Mt()+500,ar(e,n)):tr=Pi(e,n);e:do try{if(Ke!==0&&Ce!==null){n=Ce;var f=gn;t:switch(Ke){case 1:Ke=0,gn=null,sr(e,n,f,1);break;case 2:case 9:if(Xm(f)){Ke=0,gn=null,kg(n);break}n=function(){Ke!==2&&Ke!==9||Je!==e||(Ke=7),ei(e)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Xm(f)?(Ke=0,gn=null,kg(n)):(Ke=0,gn=null,sr(e,n,f,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(_?wy(_):T.stateNode.complete){Ke=0,gn=null;var D=T.sibling;if(D!==null)Ce=D;else{var F=T.return;F!==null?(Ce=F,yu(F)):Ce=null}break t}}Ke=0,gn=null,sr(e,n,f,5);break;case 6:Ke=0,gn=null,sr(e,n,f,6);break;case 8:tf(),ut=6;break e;default:throw Error(r(462))}}qE();break}catch(Z){Vg(e,Z)}while(!0);return _i=is=null,$.H=l,$.A=h,Fe=a,Ce!==null?0:(Je=null,je=0,Lo(),ut)}function qE(){for(;Ce!==null&&!Nc();)Bg(Ce)}function Bg(e){var n=ug(e.alternate,e,Ci);e.memoizedProps=e.pendingProps,n===null?yu(e):Ce=n}function kg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ig(a,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ig(a,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:yh(n);default:hg(a,n),n=Ce=zm(n,Ci),n=ug(a,n,Ci)}e.memoizedProps=e.pendingProps,n===null?yu(e):Ce=n}function sr(e,n,a,l){_i=is=null,yh(n),Ys=null,ol=0;var h=n.return;try{if(DE(e,h,n,a,je)){ut=1,au(e,An(a,e.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ut=1,au(e,An(a,e.current)),Ce=null;return}n.flags&32768?(Me||l===1?e=!0:tr||(je&536870912)!==0?e=!1:(pa=e=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pg(n,e)):yu(n)}function yu(e){var n=e;do{if((n.flags&32768)!==0){Pg(n,pa);return}e=n.return;var a=ME(n.alternate,n,Ci);if(a!==null){Ce=a;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);ut===0&&(ut=5)}function Pg(e,n){do{var a=OE(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);ut=6,Ce=null}function qg(e,n,a,l,h,f,_,T,D){e.cancelPendingCommit=null;do vu();while(At!==0);if((Fe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fc,Ot(e,a,f,_,T,D),e===Je&&(Ce=Je=null,je=0),ir=n,va=e,Di=a,Jh=f,Wh=h,jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QE(ri,function(){return Kg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=se.p,se.p=2,_=Fe,Fe|=4;try{VE(e,n,a)}finally{Fe=_,se.p=h,$.T=l}}At=1,Hg(),Fg(),Gg()}}function Hg(){if(At===1){At=0;var e=va,n=ir,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{Sg(n,e);var f=pf,_=Cm(e.containerInfo),T=f.focusedElem,D=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Nm(T.ownerDocument.documentElement,T)){if(D!==null&&Bc(T)){var F=D.start,Z=D.end;if(Z===void 0&&(Z=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),ce=T.textContent.length,_e=Math.min(D.start,ce),Ze=D.end===void 0?_e:Math.min(D.end,ce);!K.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var P=Rm(T,_e),V=Rm(T,Ze);if(P&&V&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(P.node,P.offset),K.removeAllRanges(),_e>Ze?(K.addRange(H),K.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),K.addRange(H))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Du=!!mf,pf=mf=null}finally{Fe=h,se.p=l,$.T=a}}e.current=n,At=2}}function Fg(){if(At===2){At=0;var e=va,n=ir,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{vg(e,n.alternate,n)}finally{Fe=h,se.p=l,$.T=a}}At=3}}function Gg(){if(At===4||At===3){At=0,Vr();var e=va,n=ir,a=Di,l=jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?At=5:(At=0,ir=va=null,Qg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ya=null),Pr(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Bi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=se.p,se.p=2,$.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{$.T=n,se.p=h}}(Di&3)!==0&&vu(),ei(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ef?wl++:(wl=0,ef=e):wl=0,xl(0)}}function Qg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,rl(n)))}function vu(){return Hg(),Fg(),Gg(),Kg()}function Kg(){if(At!==5)return!1;var e=va,n=Jh;Jh=0;var a=Pr(Di),l=$.T,h=se.p;try{se.p=32>a?32:a,$.T=null,a=Wh,Wh=null;var f=va,_=Di;if(At=0,ir=va=null,Di=0,(Fe&6)!==0)throw Error(r(331));var T=Fe;if(Fe|=4,Ng(f.current),wg(f,f.current,_,a),Fe=T,xl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Bi,f)}catch{}return!0}finally{se.p=h,$.T=l,Qg(e,n)}}function Yg(e,n,a){n=An(a,n),n=Ih(e.stateNode,n,2),e=ha(e,n,2),e!==null&&(qi(e,2),ei(e))}function Ye(e,n,a){if(e.tag===3)Yg(e,e,a);else for(;n!==null;){if(n.tag===3){Yg(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){e=An(a,e),a=Xp(2),l=ha(n,a,2),l!==null&&($p(a,l,n,e),qi(l,2),ei(l));break}}n=n.return}}function af(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Xh=!0,h.add(a),e=HE.bind(null,e,n,a),n.then(e,e))}function HE(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Je===e&&(je&a)===a&&(ut===4||ut===3&&(je&62914560)===je&&300>Mt()-fu?(Fe&2)===0&&ar(e,0):$h|=a,nr===je&&(nr=0)),ei(e)}function Xg(e,n){n===0&&(n=zr()),e=es(e,n),e!==null&&(qi(e,n),ei(e))}function FE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Xg(e,a)}function GE(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Xg(e,a)}function QE(e,n){return Ba(e,n)}var _u=null,rr=null,sf=!1,Eu=!1,rf=!1,Ea=0;function ei(e){e!==rr&&e.next===null&&(rr===null?_u=rr=e:rr=rr.next=e),Eu=!0,sf||(sf=!0,YE())}function xl(e,n){if(!rf&&Eu){rf=!0;do for(var a=!1,l=_u;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-$t(42|e)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Wg(l,f))}else f=je,f=En(l,l===Je?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pi(l,f)||(a=!0,Wg(l,f));l=l.next}while(a);rf=!1}}function KE(){$g()}function $g(){Eu=sf=!1;var e=0;Ea!==0&&ab()&&(e=Ea);for(var n=Mt(),a=null,l=_u;l!==null;){var h=l.next,f=Zg(l,n);f===0?(l.next=null,a===null?_u=h:a.next=h,h===null&&(rr=a)):(a=l,(e!==0||(f&3)!==0)&&(Eu=!0)),l=h}At!==0&&At!==5||xl(e),Ea!==0&&(Ea=0)}function Zg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-$t(f),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=xs(T,n)):D<=n&&(e.expiredLanes|=T),f&=~T}if(n=Je,a=je,a=En(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&ws(l),Pr(a)){case 2:case 8:a=xt;break;case 32:a=ri;break;case 268435456:a=Lr;break;default:a=ri}return l=Jg.bind(null,e),a=Ba(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&ws(l),e.callbackPriority=2,e.callbackNode=null,2}function Jg(e,n){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vu()&&e.callbackNode!==a)return null;var l=je;return l=En(e,e===Je?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Mg(e,l,n),Zg(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?Jg.bind(null,e):null)}function Wg(e,n){if(vu())return null;Mg(e,n,!0)}function YE(){rb(function(){(Fe&6)!==0?Ba(St,KE):$g()})}function lf(){if(Ea===0){var e=Gs;e===0&&(e=Pa,Pa<<=1,(Pa&261888)===0&&(Pa=256)),Ea=e}return Ea}function ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function ty(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function XE(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ey((h[Vt]||null).action),_=l.submitter;_&&(n=(n=_[Vt]||null)?ey(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Ka("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var D=_?ty(h,_):new FormData(h);xh(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=_?ty(h,_):new FormData(h),xh(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var of=0;of<Hc.length;of++){var uf=Hc[of],$E=uf.toLowerCase(),ZE=uf[0].toUpperCase()+uf.slice(1);Ln($E,"on"+ZE)}Ln(Im,"onAnimationEnd"),Ln(Mm,"onAnimationIteration"),Ln(Om,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(dE,"onTransitionRun"),Ln(mE,"onTransitionStart"),Ln(pE,"onTransitionCancel"),Ln(Vm,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ny(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,F=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=F;try{f(h)}catch(Z){Vo(Z)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,F=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=F;try{f(h)}catch(Z){Vo(Z)}h.currentTarget=null,f=D}}}}function De(e,n){var a=n[Gi];a===void 0&&(a=n[Gi]=new Set);var l=e+"__bubble";a.has(l)||(iy(n,e,2,!1),a.add(l))}function cf(e,n,a){var l=0;n&&(l|=4),iy(a,e,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function hf(e){if(!e[bu]){e[bu]=!0,Rs.forEach(function(a){a!=="selectionchange"&&(JE.has(a)||cf(a,!1,e),cf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bu]||(n[bu]=!0,cf("selectionchange",!1,n))}}function iy(e,n,a,l){switch(Iy(n)){case 2:var h=xb;break;case 8:h=Rb;break;default:h=xf}a=h.bind(null,n,a,e),h=void 0,!Xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function ff(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ci(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue e}T=T.parentNode}}l=l.return}_o(function(){var F=f,Z=Is(a),ee=[];e:{var G=Lm.get(e);if(G!==void 0){var K=Ka,ce=e;switch(e){case"keypress":if(Qa(a)===0)break e;case"keydown":case"keyup":K=No;break;case"focusin":ce="focus",K=ta;break;case"focusout":ce="blur",K=ta;break;case"beforeblur":case"afterblur":K=ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=To;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Do;break;case Im:case Mm:case Om:K=Vs;break;case Vm:K=Ls;break;case"scroll":case"scrollend":K=Eo;break;case"wheel":K=Io;break;case"copy":case"cut":case"paste":K=Ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=el;break;case"toggle":case"beforetoggle":K=ia}var _e=(n&4)!==0,Ze=!_e&&(e==="scroll"||e==="scrollend"),P=_e?G!==null?G+"Capture":null:G;_e=[];for(var V=F,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||P===null||(W=nn(V,P),W!=null&&_e.push(Nl(V,W,H))),Ze)break;V=V.return}0<_e.length&&(G=new K(G,ce,null,a,Z),ee.push({event:G,listeners:_e}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&a!==js&&(ce=a.relatedTarget||a.fromElement)&&(ci(ce)||ce[Gn]))break e;if((K||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=F,ce=ce?ci(ce):null,ce!==null&&(Ze=c(ce),_e=ce.tag,ce!==Ze||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(K=null,ce=F),K!==ce)){if(_e=bo,W="onMouseLeave",P="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(_e=el,W="onPointerLeave",P="onPointerEnter",V="pointer"),Ze=K==null?G:Ha(K),H=ce==null?G:Ha(ce),G=new _e(W,V+"leave",K,a,Z),G.target=Ze,G.relatedTarget=H,W=null,ci(Z)===F&&(_e=new _e(P,V+"enter",ce,a,Z),_e.target=H,_e.relatedTarget=Ze,W=_e),Ze=W,K&&ce)t:{for(_e=WE,P=K,V=ce,H=0,W=P;W;W=_e(W))H++;W=0;for(var ge=V;ge;ge=_e(ge))W++;for(;0<H-W;)P=_e(P),H--;for(;0<W-H;)V=_e(V),W--;for(;H--;){if(P===V||V!==null&&P===V.alternate){_e=P;break t}P=_e(P),V=_e(V)}_e=null}else _e=null;K!==null&&ay(ee,G,K,_e,!1),ce!==null&&Ze!==null&&ay(ee,Ze,ce,_e,!0)}}e:{if(G=F?Ha(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var qe=bm;else if(an(G))if(Tm)qe=cE;else{qe=oE;var fe=lE}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Kr(F.elementType)&&(qe=bm):qe=uE;if(qe&&(qe=qe(e,F))){Za(ee,qe,a,Z);break e}fe&&fe(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ds(G,"number",G.value)}switch(fe=F?Ha(F):window,e){case"focusin":(an(fe)||fe.contentEditable==="true")&&(Us=fe,kc=F,il=null);break;case"focusout":il=kc=Us=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,Dm(ee,a,Z);break;case"selectionchange":if(fE)break;case"keydown":case"keyup":Dm(ee,a,Z)}var xe;if(p)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ne?Qe(e,a)&&(Ie="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(q&&a.locale!=="ko"&&(Ne||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ne&&(xe=Zi()):(hn=Z,Ms="value"in hn?hn.value:hn.textContent,Ne=!0)),fe=Tu(F,Ie),0<fe.length&&(Ie=new Zr(Ie,e,null,a,Z),ee.push({event:Ie,listeners:fe}),xe?Ie.data=xe:(xe=gt(a),xe!==null&&(Ie.data=xe)))),(xe=A?Nt(e,a):Ct(e,a))&&(Ie=Tu(F,"onBeforeInput"),0<Ie.length&&(fe=new Zr("onBeforeInput","beforeinput",null,a,Z),ee.push({event:fe,listeners:Ie}),fe.data=xe)),XE(ee,e,F,a,Z)}ny(ee,n)})}function Nl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Tu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=nn(e,a),h!=null&&l.unshift(Nl(e,h,f)),h=nn(e,n),h!=null&&l.push(Nl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function WE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ay(e,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,F=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||F===null||(D=F,h?(F=nn(a,f),F!=null&&_.unshift(Nl(a,F,D))):h||(F=nn(a,f),F!=null&&_.push(Nl(a,F,D)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var eb=/\r\n?/g,tb=/\u0000|\uFFFD/g;function sy(e){return(typeof e=="string"?e:""+e).replace(eb,`
`).replace(tb,"")}function ry(e,n){return n=sy(n),sy(e)===n}function $e(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(e,""+l);break;case"className":Yi(e,"class",l);break;case"tabIndex":Yi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(e,a,l);break;case"style":yo(e,l,f);break;case"data":if(n!=="object"){Yi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$e(e,n,"name",h.name,h,null),$e(e,n,"formEncType",h.formEncType,h,null),$e(e,n,"formMethod",h.formMethod,h,null),$e(e,n,"formTarget",h.formTarget,h,null)):($e(e,n,"encType",h.encType,h,null),$e(e,n,"method",h.method,h,null),$e(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Rt);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":De("beforetoggle",e),De("toggle",e),Ki(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,Ki(e,a,l))}}function df(e,n,a,l,h,f){switch(a){case"style":yo(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&Tn(e,""+l);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ki(e,a,l)}}}function Bt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$e(e,n,f,_,a,null)}}h&&$e(e,n,"srcSet",a.srcSet,a,null),l&&$e(e,n,"src",a.src,a,null);return;case"input":De("invalid",e);var T=f=_=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":F=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,n));break;default:$e(e,n,l,Z,a,null)}}Fa(e,f,T,D,F,_,h,!1);return;case"select":De("invalid",e),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:$e(e,n,h,T,a,null)}n=f,a=_,e.multiple=!!l,n!=null?Pe(e,!!l,n,!1):a!=null&&Pe(e,!!l,a,!0);return;case"textarea":De("invalid",e),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:$e(e,n,_,T,a,null)}$i(e,l,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,n,D,l,a,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)De(Rl[l],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$e(e,n,F,l,a,null)}return;default:if(Kr(n)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&df(e,n,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(e,n,T,l,a,null))}function nb(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,D=null,F=null,Z=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(K)||$e(e,n,K,null,l,ee)}}for(var G in l){var K=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":f=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==ee&&$e(e,n,G,K,l,ee)}}Xi(e,_,T,D,F,Z,f,h);return;case"select":K=_=T=G=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(f)||$e(e,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==D&&$e(e,n,h,f,l,D)}n=T,a=_,l=K,G!=null?Pe(e,!!a,G,!1):!!l!=!!a&&(n!=null?Pe(e,!!a,n,!0):Pe(e,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(e,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&$e(e,n,_,h,l,f)}Ga(e,G,K);return;case"option":for(var ce in a)if(G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:$e(e,n,ce,null,l,G)}for(D in l)if(G=l[D],K=a[D],l.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$e(e,n,D,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&$e(e,n,_e,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:$e(e,n,F,G,l,K)}return;default:if(Kr(n)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&df(e,n,Ze,void 0,l,G);for(Z in l)G=l[Z],K=a[Z],!l.hasOwnProperty(Z)||G===K||G===void 0&&K===void 0||df(e,n,Z,G,l,K);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&$e(e,n,P,null,l,G);for(ee in l)G=l[ee],K=a[ee],!l.hasOwnProperty(ee)||G===K||G==null&&K==null||$e(e,n,ee,G,l,K)}function ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ib(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&ly(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],F=D.startTime;if(F>T)break;var Z=D.transferSize,ee=D.initiatorType;Z&&ly(ee)&&(D=D.responseEnd,_+=Z*(D<T?1:(T-F)/(D-F)))}if(--l,n+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mf=null,pf=null;function Su(e){return e.nodeType===9?e:e.ownerDocument}function oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function ab(){var e=window.event;return e&&e.type==="popstate"?e===yf?!1:(yf=e,!0):(yf=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(e){return hy.resolve(null).then(e).catch(lb)}:cy;function lb(e){setTimeout(function(){throw e})}function ba(e){return e==="head"}function fy(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),cr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Cl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Cl(e.ownerDocument.body);a=h}while(a);cr(n)}function dy(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function vf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ob(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function ub(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Cn(e.nextSibling),e===null))return null;return e}function my(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Cn(e.nextSibling),e===null))return null;return e}function _f(e){return e.data==="$?"||e.data==="$~"}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bf=null;function py(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Cn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function yy(e,n,a){switch(n=Su(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qa(e)}var Dn=new Map,vy=new Set;function Au(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=se.d;se.d={f:hb,r:fb,D:db,C:mb,L:pb,m:gb,X:vb,S:yb,M:_b};function hb(){var e=ji.f(),n=pu();return e||n}function fb(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):ji.r(e)}var lr=typeof document>"u"?null:document;function _y(e,n,a){var l=lr;if(l&&typeof n=="string"&&n){var h=lt(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vy.has(h)||(vy.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Bt(n,"link",e),ht(n),l.head.appendChild(n)))}}function db(e){ji.D(e),_y("dns-prefetch",e,null)}function mb(e,n){ji.C(e,n),_y("preconnect",e,n)}function pb(e,n,a){ji.L(e,n,a);var l=lr;if(l&&e&&n){var h='link[rel="preload"][as="'+lt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(e)+'"]';var f=h;switch(n){case"style":f=or(e);break;case"script":f=ur(e)}Dn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Dn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(jl(f))||(n=l.createElement("link"),Bt(n,"link",e),ht(n),l.head.appendChild(n)))}}function gb(e,n){ji.m(e,n);var a=lr;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ur(e)}if(!Dn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Dn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(f)))return}l=a.createElement("link"),Bt(l,"link",e),ht(l),a.head.appendChild(l)}}}function yb(e,n,a){ji.S(e,n,a);var l=lr;if(l&&e){var h=On(l).hoistableStyles,f=or(e);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Dl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Dn.get(f))&&Tf(e,a);var D=_=l.createElement("link");ht(D),Bt(D,"link",e),D._p=new Promise(function(F,Z){D.onload=F,D.onerror=Z}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function vb(e,n){ji.X(e,n);var a=lr;if(a&&e){var l=On(a).hoistableScripts,h=ur(e),f=l.get(h);f||(f=a.querySelector(jl(h)),f||(e=S({src:e,async:!0},n),(n=Dn.get(h))&&Sf(e,n),f=a.createElement("script"),ht(f),Bt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(e,n){ji.M(e,n);var a=lr;if(a&&e){var l=On(a).hoistableScripts,h=ur(e),f=l.get(h);f||(f=a.querySelector(jl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Dn.get(h))&&Sf(e,n),f=a.createElement("script"),ht(f),Bt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ey(e,n,a,l){var h=(h=ve.current)?Au(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=or(a.href),a=On(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=or(a.href);var f=On(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Dl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),f||Eb(h,e,a,_.state))),n&&l===null)throw Error(r(528,""));return _}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ur(a),a=On(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function or(e){return'href="'+lt(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function by(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Eb(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Bt(n,"link",a),ht(n),e.head.appendChild(n))}function ur(e){return'[src="'+lt(e)+'"]'}function jl(e){return"script[async]"+e}function Ty(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return n.instance=l,ht(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),Bt(l,"style",h),wu(l,a.precedence,e),n.instance=l;case"stylesheet":h=or(a.href);var f=e.querySelector(Dl(h));if(f)return n.state.loading|=4,n.instance=f,ht(f),f;l=by(a),(h=Dn.get(h))&&Tf(l,h),f=(e.ownerDocument||e).createElement("link"),ht(f);var _=f;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Bt(f,"link",l),n.state.loading|=4,wu(f,a.precedence,e),n.instance=f;case"script":return f=ur(a.src),(h=e.querySelector(jl(f)))?(n.instance=h,ht(h),h):(l=a,(h=Dn.get(f))&&(l=S({},a),Sf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ht(h),Bt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,e));return n.instance}function wu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Tf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xu=null;function Sy(e,n,a){if(xu===null){var l=new Map,h=xu=new Map;h.set(a,l)}else h=xu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[rt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Ay(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function bb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tb(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=or(l.href),f=n.querySelector(Dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ru.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ht(f);return}f=n.ownerDocument||n,l=by(l),(h=Dn.get(h))&&Tf(l,h),f=f.createElement("link"),ht(f);var _=f;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Bt(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ru.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Af=0;function Sb(e,n){return e.stylesheets&&e.count===0&&Cu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Af===0&&(Af=62500*ib());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Af?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nu=null;function Cu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nu=new Map,n.forEach(Ab,e),Nu=null,Ru.call(e))}function Ab(e,n){if(!(n.state.loading&4)){var a=Nu.get(e);if(a)var l=a.get(null);else{a=new Map,Nu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Ru.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Il={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function wb(e,n,a,l,h,f,_,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function xy(e,n,a,l,h,f,_,T,D,F,Z,ee){return e=new wb(e,n,a,_,D,F,Z,ee,T),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=nh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rh(f),e}function Ry(e){return e?(e=ks,e):ks}function Ny(e,n,a,l,h,f){h=Ry(h),l.context===null?l.context=h:l.pendingContext=h,l=ca(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ha(e,l,n),a!==null&&(un(a,e,n),cl(a,e,n))}function Cy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wf(e,n){Cy(e,n),(e=e.alternate)&&Cy(e,n)}function Dy(e){if(e.tag===13||e.tag===31){var n=es(e,67108864);n!==null&&un(n,e,67108864),wf(e,67108864)}}function jy(e){if(e.tag===13||e.tag===31){var n=vn();n=kr(n);var a=es(e,n);a!==null&&un(a,e,n),wf(e,n)}}var Du=!0;function xb(e,n,a,l){var h=$.T;$.T=null;var f=se.p;try{se.p=2,xf(e,n,a,l)}finally{se.p=f,$.T=h}}function Rb(e,n,a,l){var h=$.T;$.T=null;var f=se.p;try{se.p=8,xf(e,n,a,l)}finally{se.p=f,$.T=h}}function xf(e,n,a,l){if(Du){var h=Rf(l);if(h===null)ff(e,n,l,ju,a),My(e,l);else if(Cb(h,e,n,a,l))l.stopPropagation();else if(My(e,l),n&4&&-1<Nb.indexOf(e)){for(;h!==null;){var f=hi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Mn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-$t(_);T.entanglements[1]|=D,_&=~D}ei(f),(Fe&6)===0&&(du=Mt()+500,xl(0))}}break;case 31:case 13:T=es(f,2),T!==null&&un(T,f,2),pu(),wf(f,2)}if(f=Rf(l),f===null&&ff(e,n,l,ju,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else ff(e,n,l,null,a)}}function Rf(e){return e=Is(e),Nf(e)}var ju=null;function Nf(e){if(ju=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ju=e,null}function Iy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uo()){case St:return 2;case xt:return 8;case ri:case co:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Cf=!1,Ta=null,Sa=null,Aa=null,Ml=new Map,Ol=new Map,wa=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function My(e,n){switch(e){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Vl(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=hi(n),n!==null&&Dy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Cb(e,n,a,l,h){switch(n){case"focusin":return Ta=Vl(Ta,e,n,a,l,h),!0;case"dragenter":return Sa=Vl(Sa,e,n,a,l,h),!0;case"mouseover":return Aa=Vl(Aa,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Ml.set(f,Vl(Ml.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Vl(Ol.get(f)||null,e,n,a,l,h)),!0}return!1}function Oy(e){var n=ci(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,fo(e.priority,function(){jy(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,fo(e.priority,function(){jy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);js=l,a.target.dispatchEvent(l),js=null}else return n=hi(a),n!==null&&Dy(n),e.blockedOn=a,!1;n.shift()}return!0}function Vy(e,n,a){Iu(e)&&a.delete(n)}function Db(){Cf=!1,Ta!==null&&Iu(Ta)&&(Ta=null),Sa!==null&&Iu(Sa)&&(Sa=null),Aa!==null&&Iu(Aa)&&(Aa=null),Ml.forEach(Vy),Ol.forEach(Vy)}function Mu(e,n){e.blockedOn===n&&(e.blockedOn=null,Cf||(Cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Ou=null;function Ly(e){Ou!==e&&(Ou=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ou===e&&(Ou=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=hi(a);f!==null&&(e.splice(n,3),n-=3,xh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cr(e){function n(D){return Mu(D,e)}Ta!==null&&Mu(Ta,e),Sa!==null&&Mu(Sa,e),Aa!==null&&Mu(Aa,e),Ml.forEach(n),Ol.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&wa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Vt]||null;if(typeof f=="function")_||Ly(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Vt]||null)T=_.formAction;else if(Nf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ly(a)}}}function Uy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Df(e){this._internalRoot=e}Vu.prototype.render=Df.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=vn();Ny(a,l,e,n,null,null)},Vu.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ny(e.current,2,null,e,null,null),pu(),n[Gn]=null}};function Vu(e){this._internalRoot=e}Vu.prototype.unstable_scheduleHydration=function(e){if(e){var n=oi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,e),a===0&&Oy(e)}};var zy=t.version;if(zy!=="19.2.0")throw Error(r(527,zy,"19.2.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var jb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Bi=Lu.inject(jb),Ht=Lu}catch{}}return Ul.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",h=Gp,f=Qp,_=Kp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=xy(e,1,!1,null,null,a,l,null,h,f,_,Uy),e[Gn]=n.current,hf(e),new Df(n)},Ul.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,h="",f=Gp,_=Qp,T=Kp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=xy(e,1,!0,n,a??null,l,h,D,f,_,T,Uy),n.context=Ry(null),a=n.current,l=vn(),l=kr(l),h=ca(l),h.callback=null,ha(a,h,l),a=l,n.current.lanes=a,qi(n,a),ei(n),e[Gn]=n.current,hf(e),new Vu(n)},Ul.version="19.2.0",Ul}var Yy;function Pb(){if(Yy)return Mf.exports;Yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Mf.exports=kb(),Mf.exports}var qb=Pb();var Xy="popstate";function Hb(s={}){function t(r,o){let{pathname:c,search:m,hash:g}=r.location;return td("",{pathname:c,search:m,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Kl(o)}return Gb(t,i,null,s)}function it(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function jn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fb(){return Math.random().toString(36).substring(2,10)}function $y(s,t){return{usr:s.state,key:s.key,idx:t}}function td(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Rr(t):t,state:i,key:t&&t.key||r||Fb()}}function Kl({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Rr(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function Gb(s,t,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,m=o.history,g="POP",y=null,v=b();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function b(){return(m.state||{idx:null}).idx}function S(){g="POP";let C=b(),X=C==null?null:C-v;v=C,y&&y({action:g,location:Q.location,delta:X})}function N(C,X){g="PUSH";let ie=td(Q.location,C,X);v=b()+1;let ne=$y(ie,v),ye=Q.createHref(ie);try{m.pushState(ne,"",ye)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ye)}c&&y&&y({action:g,location:Q.location,delta:1})}function O(C,X){g="REPLACE";let ie=td(Q.location,C,X);v=b();let ne=$y(ie,v),ye=Q.createHref(ie);m.replaceState(ne,"",ye),c&&y&&y({action:g,location:Q.location,delta:0})}function M(C){return Qb(C)}let Q={get action(){return g},get location(){return s(o,m)},listen(C){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Xy,S),y=C,()=>{o.removeEventListener(Xy,S),y=null}},createHref(C){return t(o,C)},createURL:M,encodeLocation(C){let X=M(C);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:N,replace:O,go(C){return m.go(C)}};return Q}function Qb(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),it(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Kl(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function v_(s,t,i="/"){return Kb(s,t,i,!1)}function Kb(s,t,i,r){let o=typeof t=="string"?Rr(t):t,c=Mi(o.pathname||"/",i);if(c==null)return null;let m=__(s);Yb(m);let g=null;for(let y=0;g==null&&y<m.length;++y){let v=sT(c);g=iT(m[y],v,r)}return g}function __(s,t=[],i=[],r="",o=!1){let c=(m,g,y=o,v)=>{let b={relativePath:v===void 0?m.path||"":v,caseSensitive:m.caseSensitive===!0,childrenIndex:g,route:m};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&y)return;it(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let S=Ii([r,b.relativePath]),N=i.concat(b);m.children&&m.children.length>0&&(it(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),__(m.children,t,N,S,y)),!(m.path==null&&!m.index)&&t.push({path:S,score:tT(S,m.index),routesMeta:N})};return s.forEach((m,g)=>{if(m.path===""||!m.path?.includes("?"))c(m,g);else for(let y of E_(m.path))c(m,g,!0,y)}),t}function E_(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let m=E_(r.join("/")),g=[];return g.push(...m.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...m),g.map(y=>s.startsWith("/")&&y===""?"/":y)}function Yb(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:nT(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Xb=/^:[\w-]+$/,$b=3,Zb=2,Jb=1,Wb=10,eT=-2,Zy=s=>s==="*";function tT(s,t){let i=s.split("/"),r=i.length;return i.some(Zy)&&(r+=eT),t&&(r+=Zb),i.filter(o=>!Zy(o)).reduce((o,c)=>o+(Xb.test(c)?$b:c===""?Jb:Wb),r)}function nT(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function iT(s,t,i=!1){let{routesMeta:r}=s,o={},c="/",m=[];for(let g=0;g<r.length;++g){let y=r[g],v=g===r.length-1,b=c==="/"?t:t.slice(c.length)||"/",S=tc({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},b),N=y.route;if(!S&&v&&i&&!r[r.length-1].route.index&&(S=tc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),m.push({params:o,pathname:Ii([c,S.pathname]),pathnameBase:cT(Ii([c,S.pathnameBase])),route:N}),S.pathnameBase!=="/"&&(c=Ii([c,S.pathnameBase]))}return m}function tc(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=aT(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let c=o[0],m=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((v,{paramName:b,isOptional:S},N)=>{if(b==="*"){let M=g[N]||"";m=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const O=g[N];return S&&!O?v[b]=void 0:v[b]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:m,pattern:s}}function aT(s,t=!1,i=!0){jn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function sT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Mi(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=s=>rT.test(s);function oT(s,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Rr(s):s,c;if(i)if(lT(i))c=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?c=Jy(i.substring(1),"/"):c=Jy(i,t)}else c=t;return{pathname:c,search:hT(r),hash:fT(o)}}function Jy(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Uf(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uT(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Nd(s){let t=uT(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Cd(s,t,i,r=!1){let o;typeof s=="string"?o=Rr(s):(o={...s},it(!o.pathname||!o.pathname.includes("?"),Uf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Uf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Uf("#","search","hash",o)));let c=s===""||o.pathname==="",m=c?"/":o.pathname,g;if(m==null)g=i;else{let S=t.length-1;if(!r&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),S-=1;o.pathname=N.join("/")}g=S>=0?t[S]:"/"}let y=oT(o,g),v=m&&m!=="/"&&m.endsWith("/"),b=(c||m===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(v||b)&&(y.pathname+="/"),y}var Ii=s=>s.join("/").replace(/\/\/+/g,"/"),cT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,fT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function dT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b_=["POST","PUT","PATCH","DELETE"];new Set(b_);var mT=["GET",...b_];new Set(mT);var Nr=j.createContext(null);Nr.displayName="DataRouter";var pc=j.createContext(null);pc.displayName="DataRouterState";j.createContext(!1);var T_=j.createContext({isTransitioning:!1});T_.displayName="ViewTransition";var pT=j.createContext(new Map);pT.displayName="Fetchers";var gT=j.createContext(null);gT.displayName="Await";var Pn=j.createContext(null);Pn.displayName="Navigation";var to=j.createContext(null);to.displayName="Location";var ai=j.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Dd=j.createContext(null);Dd.displayName="RouteError";function yT(s,{relative:t}={}){it(Cr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=j.useContext(Pn),{hash:o,pathname:c,search:m}=no(s,{relative:t}),g=c;return i!=="/"&&(g=c==="/"?i:Ii([i,c])),r.createHref({pathname:g,search:m,hash:o})}function Cr(){return j.useContext(to)!=null}function Li(){return it(Cr(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(to).location}var S_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A_(s){j.useContext(Pn).static||j.useLayoutEffect(s)}function jd(){let{isDataRoute:s}=j.useContext(ai);return s?DT():vT()}function vT(){it(Cr(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Nr),{basename:t,navigator:i}=j.useContext(Pn),{matches:r}=j.useContext(ai),{pathname:o}=Li(),c=JSON.stringify(Nd(r)),m=j.useRef(!1);return A_(()=>{m.current=!0}),j.useCallback((y,v={})=>{if(jn(m.current,S_),!m.current)return;if(typeof y=="number"){i.go(y);return}let b=Cd(y,JSON.parse(c),o,v.relative==="path");s==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Ii([t,b.pathname])),(v.replace?i.replace:i.push)(b,v.state,v)},[t,i,c,o,s])}j.createContext(null);function no(s,{relative:t}={}){let{matches:i}=j.useContext(ai),{pathname:r}=Li(),o=JSON.stringify(Nd(i));return j.useMemo(()=>Cd(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function _T(s,t){return w_(s,t)}function w_(s,t,i,r,o){it(Cr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Pn),{matches:m}=j.useContext(ai),g=m[m.length-1],y=g?g.params:{},v=g?g.pathname:"/",b=g?g.pathnameBase:"/",S=g&&g.route;{let ie=S&&S.path||"";x_(v,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let N=Li(),O;if(t){let ie=typeof t=="string"?Rr(t):t;it(b==="/"||ie.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=N;let M=O.pathname||"/",Q=M;if(b!=="/"){let ie=b.replace(/^\//,"").split("/");Q="/"+M.replace(/^\//,"").split("/").slice(ie.length).join("/")}let C=v_(s,{pathname:Q});jn(S||C!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),jn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=AT(C&&C.map(ie=>Object.assign({},ie,{params:Object.assign({},y,ie.params),pathname:Ii([b,c.encodeLocation?c.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?b:Ii([b,c.encodeLocation?c.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),m,i,r,o);return t&&X?j.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},X):X}function ET(){let s=CT(),t=dT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),i?j.createElement("pre",{style:o},i):null,m)}var bT=j.createElement(ET,null),TT=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?j.createElement(ai.Provider,{value:this.props.routeContext},j.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ST({routeContext:s,match:t,children:i}){let r=j.useContext(Nr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ai.Provider,{value:s},i)}function AT(s,t=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,m=i?.errors;if(m!=null){let b=c.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);it(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),c=c.slice(0,Math.min(c.length,b+1))}let g=!1,y=-1;if(i)for(let b=0;b<c.length;b++){let S=c[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=b),S.route.id){let{loaderData:N,errors:O}=i,M=S.route.loader&&!N.hasOwnProperty(S.route.id)&&(!O||O[S.route.id]===void 0);if(S.route.lazy||M){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let v=i&&r?(b,S)=>{r(b,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:S})}:void 0;return c.reduceRight((b,S,N)=>{let O,M=!1,Q=null,C=null;i&&(O=m&&S.route.id?m[S.route.id]:void 0,Q=S.route.errorElement||bT,g&&(y<0&&N===0?(x_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,C=null):y===N&&(M=!0,C=S.route.hydrateFallbackElement||null)));let X=t.concat(c.slice(0,N+1)),ie=()=>{let ne;return O?ne=Q:M?ne=C:S.route.Component?ne=j.createElement(S.route.Component,null):S.route.element?ne=S.route.element:ne=b,j.createElement(ST,{match:S,routeContext:{outlet:b,matches:X,isDataRoute:i!=null},children:ne})};return i&&(S.route.ErrorBoundary||S.route.errorElement||N===0)?j.createElement(TT,{location:i.location,revalidation:i.revalidation,component:Q,error:O,children:ie(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:v}):ie()},null)}function Id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(s){let t=j.useContext(Nr);return it(t,Id(s)),t}function xT(s){let t=j.useContext(pc);return it(t,Id(s)),t}function RT(s){let t=j.useContext(ai);return it(t,Id(s)),t}function Md(s){let t=RT(s),i=t.matches[t.matches.length-1];return it(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function NT(){return Md("useRouteId")}function CT(){let s=j.useContext(Dd),t=xT("useRouteError"),i=Md("useRouteError");return s!==void 0?s:t.errors?.[i]}function DT(){let{router:s}=wT("useNavigate"),t=Md("useNavigate"),i=j.useRef(!1);return A_(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{jn(i.current,S_),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var Wy={};function x_(s,t,i){!t&&!Wy[s]&&(Wy[s]=!0,jn(!1,i))}j.memo(jT);function jT({routes:s,future:t,state:i,unstable_onError:r}){return w_(s,void 0,i,r,t)}function IT({to:s,replace:t,state:i,relative:r}){it(Cr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Pn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(ai),{pathname:m}=Li(),g=jd(),y=Cd(s,Nd(c),m,r==="path"),v=JSON.stringify(y);return j.useEffect(()=>{g(JSON.parse(v),{replace:t,state:i,relative:r})},[g,v,r,t,i]),null}function Bn(s){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MT({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){it(!Cr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:c,future:{}}),[m,o,c]);typeof i=="string"&&(i=Rr(i));let{pathname:y="/",search:v="",hash:b="",state:S=null,key:N="default"}=i,O=j.useMemo(()=>{let M=Mi(y,m);return M==null?null:{location:{pathname:M,search:v,hash:b,state:S,key:N},navigationType:r}},[m,y,v,b,S,N,r]);return jn(O!=null,`<Router basename="${m}"> is not able to match the URL "${y}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Pn.Provider,{value:g},j.createElement(to.Provider,{children:t,value:O}))}function OT({children:s,location:t}){return _T(nd(s),t)}function nd(s,t=[]){let i=[];return j.Children.forEach(s,(r,o)=>{if(!j.isValidElement(r))return;let c=[...t,o];if(r.type===j.Fragment){i.push.apply(i,nd(r.props.children,c));return}it(r.type===Bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=nd(r.props.children,c)),i.push(m)}),i}var Xu="get",$u="application/x-www-form-urlencoded";function gc(s){return s!=null&&typeof s.tagName=="string"}function VT(s){return gc(s)&&s.tagName.toLowerCase()==="button"}function LT(s){return gc(s)&&s.tagName.toLowerCase()==="form"}function UT(s){return gc(s)&&s.tagName.toLowerCase()==="input"}function zT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function BT(s,t){return s.button===0&&(!t||t==="_self")&&!zT(s)}var Uu=null;function kT(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(s){return s!=null&&!PT.has(s)?(jn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):s}function qT(s,t){let i,r,o,c,m;if(LT(s)){let g=s.getAttribute("action");r=g?Mi(g,t):null,i=s.getAttribute("method")||Xu,o=zf(s.getAttribute("enctype"))||$u,c=new FormData(s)}else if(VT(s)||UT(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||g.getAttribute("action");if(r=y?Mi(y,t):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||Xu,o=zf(s.getAttribute("formenctype"))||zf(g.getAttribute("enctype"))||$u,c=new FormData(g,s),!kT()){let{name:v,type:b,value:S}=s;if(b==="image"){let N=v?`${v}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else v&&c.append(v,S)}}else{if(gc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Xu,r=null,o=$u,m=s}return c&&o==="text/plain"&&(m=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Od(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function HT(s,t,i){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&Mi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function FT(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function QT(s,t,i){let r=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let m=await FT(c,i);return m.links?m.links():[]}return[]}));return $T(r.flat(1).filter(GT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ev(s,t,i,r,o,c){let m=(y,v)=>i[v]?y.route.id!==i[v].route.id:!0,g=(y,v)=>i[v].pathname!==y.pathname||i[v].route.path?.endsWith("*")&&i[v].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,v)=>m(y,v)||g(y,v)):c==="data"?t.filter((y,v)=>{let b=r.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(m(y,v)||g(y,v))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function KT(s,t,{includeHydrateFallback:i}={}){return YT(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function YT(s){return[...new Set(s)]}function XT(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function $T(s,t){let i=new Set;return new Set(t),s.reduce((r,o)=>{let c=JSON.stringify(XT(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function R_(){let s=j.useContext(Nr);return Od(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ZT(){let s=j.useContext(pc);return Od(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Vd=j.createContext(void 0);Vd.displayName="FrameworkContext";function N_(){let s=j.useContext(Vd);return Od(s,"You must render this element inside a <HydratedRouter> element"),s}function JT(s,t){let i=j.useContext(Vd),[r,o]=j.useState(!1),[c,m]=j.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:v,onMouseLeave:b,onTouchStart:S}=t,N=j.useRef(null);j.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let Q=X=>{X.forEach(ie=>{m(ie.isIntersecting)})},C=new IntersectionObserver(Q,{threshold:.5});return N.current&&C.observe(N.current),()=>{C.disconnect()}}},[s]),j.useEffect(()=>{if(r){let Q=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let O=()=>{o(!0)},M=()=>{o(!1),m(!1)};return i?s!=="intent"?[c,N,{}]:[c,N,{onFocus:zl(g,O),onBlur:zl(y,M),onMouseEnter:zl(v,O),onMouseLeave:zl(b,M),onTouchStart:zl(S,O)}]:[!1,N,{}]}function zl(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function WT({page:s,...t}){let{router:i}=R_(),r=j.useMemo(()=>v_(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?j.createElement(tS,{page:s,matches:r,...t}):null}function eS(s){let{manifest:t,routeModules:i}=N_(),[r,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return QT(s,t,i).then(m=>{c||o(m)}),()=>{c=!0}},[s,t,i]),r}function tS({page:s,matches:t,...i}){let r=Li(),{manifest:o,routeModules:c}=N_(),{basename:m}=R_(),{loaderData:g,matches:y}=ZT(),v=j.useMemo(()=>ev(s,t,y,o,r,"data"),[s,t,y,o,r]),b=j.useMemo(()=>ev(s,t,y,o,r,"assets"),[s,t,y,o,r]),S=j.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let M=new Set,Q=!1;if(t.forEach(X=>{let ie=o.routes[X.route.id];!ie||!ie.hasLoader||(!v.some(ne=>ne.route.id===X.route.id)&&X.route.id in g&&c[X.route.id]?.shouldRevalidate||ie.hasClientLoader?Q=!0:M.add(X.route.id))}),M.size===0)return[];let C=HT(s,m,"data");return Q&&M.size>0&&C.searchParams.set("_routes",t.filter(X=>M.has(X.route.id)).map(X=>X.route.id).join(",")),[C.pathname+C.search]},[m,g,r,o,v,t,s,c]),N=j.useMemo(()=>KT(b,o),[b,o]),O=eS(b);return j.createElement(j.Fragment,null,S.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...i})),N.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...i})),O.map(({key:M,link:Q})=>j.createElement("link",{key:M,nonce:i.nonce,...Q})))}function nS(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C_&&(window.__reactRouterVersion="7.9.6")}catch{}function iS({basename:s,children:t,window:i}){let r=j.useRef();r.current==null&&(r.current=Hb({window:i,v5Compat:!0}));let o=r.current,[c,m]=j.useState({action:o.action,location:o.location}),g=j.useCallback(y=>{j.startTransition(()=>m(y))},[m]);return j.useLayoutEffect(()=>o.listen(g),[o,g]),j.createElement(MT,{basename:s,children:t,location:c.location,navigationType:c.action,navigator:o})}var D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=j.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:m,state:g,target:y,to:v,preventScrollReset:b,viewTransition:S,...N},O){let{basename:M}=j.useContext(Pn),Q=typeof v=="string"&&D_.test(v),C,X=!1;if(typeof v=="string"&&Q&&(C=v,C_))try{let R=new URL(window.location.href),L=v.startsWith("//")?new URL(R.protocol+v):new URL(v),z=Mi(L.pathname,M);L.origin===R.origin&&z!=null?v=z+L.search+L.hash:X=!0}catch{jn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=yT(v,{relative:o}),[ne,ye,he]=JT(r,N),be=rS(v,{replace:m,state:g,target:y,preventScrollReset:b,relative:o,viewTransition:S});function I(R){t&&t(R),R.defaultPrevented||be(R)}let x=j.createElement("a",{...N,...he,href:C||ie,onClick:X||c?t:I,ref:nS(O,ye),target:y,"data-discover":!Q&&i==="render"?"true":void 0});return ne&&!Q?j.createElement(j.Fragment,null,x,j.createElement(WT,{page:ie})):x});nc.displayName="Link";var j_=j.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:m,viewTransition:g,children:y,...v},b){let S=no(m,{relative:v.relative}),N=Li(),O=j.useContext(pc),{navigator:M,basename:Q}=j.useContext(Pn),C=O!=null&&hS(S)&&g===!0,X=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,ie=N.pathname,ne=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,X=X.toLowerCase()),ne&&Q&&(ne=Mi(ne,Q)||ne);const ye=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let he=ie===X||!o&&ie.startsWith(X)&&ie.charAt(ye)==="/",be=ne!=null&&(ne===X||!o&&ne.startsWith(X)&&ne.charAt(X.length)==="/"),I={isActive:he,isPending:be,isTransitioning:C},x=he?t:void 0,R;typeof r=="function"?R=r(I):R=[r,he?"active":null,be?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(I):c;return j.createElement(nc,{...v,"aria-current":x,className:R,ref:b,style:L,to:m,viewTransition:g},typeof y=="function"?y(I):y)});j_.displayName="NavLink";var aS=j.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:c,method:m=Xu,action:g,onSubmit:y,relative:v,preventScrollReset:b,viewTransition:S,...N},O)=>{let M=uS(),Q=cS(g,{relative:v}),C=m.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&D_.test(g),ie=ne=>{if(y&&y(ne),ne.defaultPrevented)return;ne.preventDefault();let ye=ne.nativeEvent.submitter,he=ye?.getAttribute("formmethod")||m;M(ye||ne.currentTarget,{fetcherKey:t,method:he,navigate:i,replace:o,state:c,relative:v,preventScrollReset:b,viewTransition:S})};return j.createElement("form",{ref:O,method:C,action:Q,onSubmit:r?y:ie,...N,"data-discover":!X&&s==="render"?"true":void 0})});aS.displayName="Form";function sS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(s){let t=j.useContext(Nr);return it(t,sS(s)),t}function rS(s,{target:t,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:m}={}){let g=jd(),y=Li(),v=no(s,{relative:c});return j.useCallback(b=>{if(BT(b,t)){b.preventDefault();let S=i!==void 0?i:Kl(y)===Kl(v);g(s,{replace:S,state:r,preventScrollReset:o,relative:c,viewTransition:m})}},[y,g,v,i,r,t,s,o,c,m])}var lS=0,oS=()=>`__${String(++lS)}__`;function uS(){let{router:s}=I_("useSubmit"),{basename:t}=j.useContext(Pn),i=NT();return j.useCallback(async(r,o={})=>{let{action:c,method:m,encType:g,formData:y,body:v}=qT(r,t);if(o.navigate===!1){let b=o.fetcherKey||oS();await s.fetch(b,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||m,formEncType:o.encType||g,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||m,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,i])}function cS(s,{relative:t}={}){let{basename:i}=j.useContext(Pn),r=j.useContext(ai);it(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...no(s||".",{relative:t})},m=Li();if(s==null){c.search=m.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(b=>b==="")){g.delete("index"),y.filter(S=>S).forEach(S=>g.append("index",S));let b=g.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Ii([i,c.pathname])),Kl(c)}function hS(s,{relative:t}={}){let i=j.useContext(T_);it(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I_("useViewTransitionState"),o=no(s,{relative:t});if(!i.isTransitioning)return!1;let c=Mi(i.currentLocation.pathname,r)||i.currentLocation.pathname,m=Mi(i.nextLocation.pathname,r)||i.nextLocation.pathname;return tc(o.pathname,m)!=null||tc(o.pathname,c)!=null}const fS=[{label:"Dashboard",to:"/"},{label:"Admin Users",to:"/users"},{label:"Access & Features",to:"/access"},{label:"Scans uploaded",to:"/admin/scans-uploaded"},{label:"Todo-Liste",to:"/admin/todo"},{label:"Feedback overview",to:"/admin/feedback"},{label:"Logs",to:"/logs"},{label:"APIs & Services",to:"/apis"},{label:"Settings",to:"/settings"}];function dS({open:s,onClose:t}){return d.jsxs("aside",{className:`sidebar ${s?"sidebar--open":""}`,children:[d.jsxs("div",{className:"sidebar__header",children:[d.jsx("p",{children:"Control Panel"}),d.jsx("small",{children:"Admin tools"})]}),d.jsx("nav",{className:"sidebar__nav",children:fS.map(i=>d.jsx(j_,{to:i.to,end:i.to==="/",className:({isActive:r})=>`sidebar__link ${r?"sidebar__link--active":""}`,onClick:t,children:i.label},i.to))})]})}const M_=j.createContext(void 0),vr="https://auth.sfdatahub.com".replace(/\/+$/,""),tv=vr?`${vr}/auth/me`:"",nv=vr?`${vr}/auth/logout`:"";function mS({children:s}){const[t,i]=j.useState("idle"),[r,o]=j.useState(null),c=j.useRef(!1),m=j.useCallback(async()=>{if(!tv){console.warn("[Auth] AUTH_BASE_URL not configured; treating as unauthenticated."),o(null),i("unauthenticated");return}if(!c.current){c.current=!0,i(N=>N==="authenticated"?N:"loading");try{const N=await fetch(tv,{method:"GET",credentials:"include"});if(N.status===200){const O=await N.json(),M=O?.user??O;M?(o(M),i("authenticated")):(o(null),i("unauthenticated"));return}if(N.status===401||N.status===403){o(null),i("unauthenticated");return}console.error(`[Auth] Session check failed (${N.status}).`),o(null),i("error")}catch(N){console.error("[Auth] Failed to refresh session.",N),o(null),i("error")}finally{c.current=!1}}},[]);j.useEffect(()=>{m()},[m]);const g=j.useCallback(N=>{if(!vr){console.warn(`[Auth] Cannot initiate ${N} login without AUTH_BASE_URL.`);return}const O=new URL(`/auth/${N}/login`,vr);O.searchParams.set("redirect",window.location.href),window.location.href=O.toString()},[]),y=j.useCallback(async()=>{if(!nv){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),o(null),i("unauthenticated");return}try{const N=await fetch(nv,{method:"POST",credentials:"include"});if(!N.ok)throw new Error(`Logout failed (${N.status}).`)}catch(N){console.error("[Auth] Failed to logout. Clearing local session anyway.",N)}finally{o(null),i("unauthenticated")}},[]),v=j.useCallback(async()=>{await m()},[m]);j.useEffect(()=>{c.current=!1},[t,r]);const b=t==="idle"||t==="loading",S=j.useMemo(()=>({status:t,user:r,isLoading:b,login:g,logout:y,refresh:v}),[t,r,b,g,y,v]);return d.jsx(M_.Provider,{value:S,children:s})}function yc(){const s=j.useContext(M_);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s}function pS({onToggleSidebar:s,isSidebarOpen:t}){const{user:i,status:r,isLoading:o,login:c,logout:m}=yc(),[g,y]=j.useState(!1),v=j.useRef(null),b=j.useMemo(()=>i?i.displayName||i.providers?.[i.provider]?.displayName||"User":"Guest",[i]),S=j.useMemo(()=>{if(i?.avatarUrl)return i.avatarUrl;const Q=i?.providers?.[i?.provider??"discord"]?.avatarUrl;return Q||null},[i]),N=j.useMemo(()=>(i?.roles??[]).filter(C=>["admin","moderator","mod"].includes(C.toLowerCase())),[i]);j.useEffect(()=>{const Q=C=>{v.current&&!v.current.contains(C.target)&&y(!1)};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]),j.useEffect(()=>{o&&y(!1)},[o]);const O=Q=>{c(Q)},M=async()=>{await m(),y(!1)};return d.jsxs("header",{className:"topbar",children:[d.jsxs("div",{className:"topbar__left",children:[d.jsxs("button",{type:"button",className:"topbar__burger","aria-label":"Toggle navigation","aria-expanded":t??!1,onClick:s,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]}),d.jsxs("div",{className:"topbar__branding",children:[d.jsx("span",{className:"topbar__logo",children:"SFDataHub"}),d.jsx("span",{className:"topbar__subtitle",children:"Control Panel"})]})]}),d.jsx("div",{className:"topbar__user",children:o?d.jsxs("div",{className:"topbar__badge topbar__badge--muted",children:[d.jsx("span",{className:"topbar__spinner","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Checking session..."}),d.jsx("span",{children:"Loading"})]}):r==="unauthenticated"?d.jsxs("div",{className:"topbar__auth",children:[d.jsx("button",{type:"button",className:"topbar__login topbar__login--discord",onClick:()=>O("discord"),children:"Login Discord"}),d.jsx("button",{type:"button",className:"topbar__login topbar__login--google",onClick:()=>O("google"),children:"Login Google"})]}):d.jsxs("div",{className:"topbar__account",ref:v,children:[d.jsxs("button",{type:"button",className:"topbar__account-btn","aria-haspopup":"menu","aria-expanded":g,onClick:()=>y(Q=>!Q),children:[S?d.jsx("img",{className:"topbar__avatar-img",src:S,alt:b}):d.jsx("div",{className:"topbar__avatar",children:b?.[0]??"A"}),d.jsxs("div",{className:"topbar__meta",children:[d.jsx("p",{children:b}),d.jsxs("div",{className:"topbar__roles",children:[N.length===0?d.jsx("small",{className:"topbar__role",children:"User"}):null,N.map(Q=>d.jsx("span",{className:"topbar__role topbar__role--badge",children:Q},Q))]})]})]}),g&&d.jsxs("div",{className:"topbar__dropdown",role:"menu",children:[d.jsxs("div",{className:"topbar__dropdown-header",children:[d.jsx("p",{className:"topbar__dropdown-name",children:b}),d.jsxs("p",{className:"topbar__dropdown-sub",children:["Signed in via ",i?.provider]})]}),d.jsx("button",{type:"button",className:"topbar__dropdown-item",onClick:M,children:"Logout"})]})]})})]})}function Ui({title:s,description:t,children:i,headerContent:r}){return d.jsxs("section",{className:"content-shell",children:[d.jsx("div",{className:"content-shell__header",children:r??d.jsxs("div",{children:[d.jsx("p",{className:"content-shell__eyebrow",children:"SFDataHub"}),d.jsx("h1",{children:s}),t&&d.jsx("p",{className:"content-shell__description",children:t})]})}),d.jsx("div",{className:"content-shell__body",children:i})]})}function Va({title:s,subtitle:t,hintRight:i}){return d.jsxs("div",{className:"page-header",children:[d.jsxs("div",{className:"page-header__left",children:[d.jsx("p",{className:"content-shell__eyebrow",children:"SFDataHub"}),d.jsx("h1",{className:"page-header__title",children:s}),t&&d.jsx("p",{className:"page-header__subtitle",children:t})]}),i&&d.jsx("p",{className:"page-header__hint",children:i})]})}const ps=[{id:"auth-api",name:"Auth API",kind:"api",description:"Handles login via Discord/Google and issues JWTs so SFDataHub can gate session information.",url:"https://auth.sfdatahub.com",status:"ok",docsUrl:"",owner:"Backend",healthCheck:{type:"http",url:"https://auth.sfdatahub.com/health",timeoutMs:5e3}},{id:"scan-import-api",name:"Scan Import API",kind:"api",description:"Accepts HAR/CSV uploads from the UI and writes parsed scan data into Firestore.",status:"unknown",docsUrl:"",owner:"Backend"},{id:"firestore",name:"Firestore Database",kind:"db",description:"Primary database for player, guild and scan data (project `sfdatahub-staging`).",url:"https://console.firebase.google.com/project/sfdatahub-staging/firestore/data",status:"ok",docsUrl:"",owner:"Infra",healthCheck:{type:"firestore",firestoreCollection:"stats_public",firestoreDocument:"toplists_bundle_v1",timeoutMs:5e3}},{id:"goatcounter",name:"GoatCounter Analytics",kind:"analytics",description:"Privacy-friendly traffic stats for SFDataHub (page views, referrers, etc.).",url:"https://example.goatcounter.com/sfdatahub",status:"ok",docsUrl:"",owner:"Analytics"}],O_=6e3;function gS(s){return s===200?"ok":s>=500?"down":s>=400?"degraded":"unknown"}async function yS(s,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t??O_),o=performance.now();try{const c=await fetch(s,{method:"GET",signal:i.signal}),m=Math.round(performance.now()-o),g=gS(c.status);return clearTimeout(r),{status:g,latencyMs:m,checkedAt:new Date().toISOString(),errorMessage:c.ok?void 0:`HTTP ${c.status}`}}catch(c){clearTimeout(r);const m=c instanceof Error?c.message:"Network error";return{status:(c instanceof DOMException&&c.name==="AbortError","down"),latencyMs:Math.round(performance.now()-o),checkedAt:new Date().toISOString(),errorMessage:m}}}async function vS(s,t,i,r){const o="AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",c=i?`${t}/${i}`:t,g=`${`https://firestore.googleapis.com/v1/projects/${s}/databases/(default)/documents/${c}`}?pageSize=1&key=${o}`,y=new AbortController,v=setTimeout(()=>y.abort(),r??O_),b=performance.now();try{const S=await fetch(g,{method:"GET",signal:y.signal}),N=Math.round(performance.now()-b);return clearTimeout(v),S.ok?{status:"ok",latencyMs:N,checkedAt:new Date().toISOString()}:{status:S.status>=500?"down":"degraded",latencyMs:N,checkedAt:new Date().toISOString(),errorMessage:`HTTP ${S.status}`}}catch(S){clearTimeout(v);const N=S instanceof Error?S.message:"Network error";return{status:"down",latencyMs:Math.round(performance.now()-b),checkedAt:new Date().toISOString(),errorMessage:N}}}async function _S(s){const{healthCheck:t}=s;if(!t)return[s.id,{status:s.status??"unknown"}];if(t.type==="http"){const o=await yS(t.url,t.timeoutMs);return[s.id,o]}const r=await vS("sfdatahub-staging",t.firestoreCollection,t.firestoreDocument,t.timeoutMs);return[s.id,r]}function V_(s=ps){const[t,i]=j.useState({}),[r,o]=j.useState(!1),[c,m]=j.useState(void 0),g=j.useMemo(()=>s.filter(v=>v.healthCheck),[s]),y=j.useCallback(async()=>{if(g.length===0){i({});return}o(!0),m(void 0);try{const v=await Promise.all(g.map(S=>_S(S))),b={};for(const[S,N]of v)b[S]=N;i(b)}catch(v){const b=v instanceof Error?v.message:"Health check failed";m(b)}finally{o(!1)}},[g]);return j.useEffect(()=>{y()},[]),{healthMap:t,isLoading:r,error:c,refresh:y}}const ES=[{label:"All",value:"all"},{label:"APIs",value:"api"},{label:"Database",value:"db"},{label:"Analytics",value:"analytics"},{label:"Other",value:"other"}],bS=[{label:"All",value:"all"},{label:"OK",value:"ok"},{label:"Degraded",value:"degraded"},{label:"Down",value:"down"},{label:"Unknown",value:"unknown"}],zu={ok:{label:"OK",tone:"ok"},degraded:{label:"Degraded",tone:"warning"},down:{label:"Down",tone:"down"},unknown:{label:"Unknown",tone:"unknown"}},iv={api:"API",db:"Database",analytics:"Analytics",worker:"Worker",other:"Other"};function TS(s){return s.trim().toLowerCase()}function SS(){const s=jd(),{healthMap:t,isLoading:i}=V_(ps),[r,o]=j.useState("all"),[c,m]=j.useState("all"),[g,y]=j.useState(""),[v,b]=j.useState(null),S=j.useMemo(()=>{const M=TS(g);return ps.filter(Q=>{const X=t[Q.id]?.status??Q.status??"unknown";if(r!=="all"){if(r==="other"){if(Q.kind!=="other"&&Q.kind!=="worker")return!1}else if(Q.kind!==r)return!1}return!(c!=="all"&&X!==c||M&&!`${Q.name} ${Q.description}`.toLowerCase().includes(M))})},[r,c,g,t]),N=M=>{s("/logs",{state:{defaultFilters:{service:M}}})},O=M=>zu[M.status??"unknown"];return d.jsxs(Ui,{title:"APIs & Services",description:"Catalog of backend services, databases and analytics powering SFDataHub",headerContent:d.jsx(Va,{title:"APIs & Services",subtitle:"Catalog of backend services, databases and analytics powering SFDataHub",hintRight:"Data currently based on static config - health checks later"}),children:[d.jsxs("div",{className:"service-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Category"}),d.jsx("select",{value:r,onChange:M=>o(M.target.value),children:ES.map(M=>d.jsx("option",{value:M.value,children:M.label},M.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:c,onChange:M=>m(M.target.value),children:bS.map(M=>d.jsx("option",{value:M.value,children:M.label},M.value))})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by name or description"}),d.jsx("input",{value:g,onChange:M=>y(M.target.value),placeholder:"Search text"})]})]}),d.jsx("div",{className:"service-grid",children:S.map(M=>{const Q=t[M.id],C=Q?zu[Q.status]:O(M);return d.jsxs("article",{className:"service-card service-card--catalog",children:[d.jsxs("header",{className:"service-card__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"service-card__name",children:M.name}),d.jsx("p",{className:"service-card__desc",children:M.description}),Q?.latencyMs!==void 0&&d.jsxs("p",{className:"service-card__meta",children:["Latency: ",Q.latencyMs," ms"]}),i&&!Q&&d.jsx("p",{className:"service-card__meta",children:"Checking health"})]}),d.jsxs("div",{className:"service-card__status",children:[d.jsx("span",{className:`status-badge status-badge--${C.tone}`,children:C.label}),d.jsx("span",{className:"kind-pill kind-pill--light",children:iv[M.kind]})]})]}),M.owner&&d.jsxs("p",{className:"service-card__owner",children:["Owner: ",d.jsx("span",{children:M.owner})]}),d.jsxs("div",{className:"service-card__actions",children:[M.url?d.jsx("a",{className:"text-link",href:M.url,target:"_blank",rel:"noreferrer",children:"Open service"}):null,M.docsUrl?d.jsx("a",{className:"text-link",href:M.docsUrl,target:"_blank",rel:"noreferrer",children:"Docs"}):null,d.jsx("button",{type:"button",className:"text-link",onClick:()=>N(M.id),children:"View logs"}),d.jsx("button",{type:"button",className:"text-link text-link--muted",onClick:()=>b(M),children:"Details"})]})]},M.id)})}),v&&d.jsxs("aside",{className:"service-detail-drawer",children:[d.jsxs("div",{className:"service-detail-drawer__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Service details"}),d.jsx("h2",{children:v.name}),d.jsx("p",{className:"service-detail-drawer__description",children:v.description})]}),d.jsxs("div",{className:"service-detail-drawer__header-meta",children:[d.jsx("span",{className:`status-chip status-chip--${t[v.id]?.status??v.status??"unknown"}`,children:zu[t[v.id]?.status??v.status??"unknown"]?.label}),d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>b(null),children:"Close"})]})]}),d.jsxs("div",{className:"service-detail-drawer__meta",children:[d.jsxs("div",{children:[d.jsx("span",{children:"Kind"}),d.jsx("strong",{children:iv[v.kind]})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Status"}),d.jsx("strong",{children:(v&&(t[v.id]?.status?zu[t[v.id].status]:O(v))).label})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Owner"}),d.jsx("strong",{children:v.owner??"Unassigned"})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Docs"}),v.docsUrl?d.jsx("a",{className:"text-link",href:v.docsUrl,target:"_blank",rel:"noreferrer",children:"Open docs"}):d.jsx("strong",{children:"Not linked"})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Endpoint"}),v.url?d.jsx("a",{className:"text-link",href:v.url,target:"_blank",rel:"noreferrer",children:"Open service"}):d.jsx("strong",{children:"Not linked"})]})]}),d.jsx("p",{className:"service-detail-drawer__hint",children:"How to debug issues for this service: capture failing requests, check logs with the prefilled filter, and loop in the listed owner if escalations are needed."}),v&&t[v.id]?.errorMessage&&d.jsxs("p",{className:"service-detail-drawer__hint",children:["Last check failed: ",t[v.id].errorMessage]}),d.jsx("div",{className:"service-detail-drawer__footer",children:d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>N(v.id),children:"View logs for this service"})})]})]})}const av={ok:{label:"OK",tone:"ok"},degraded:{label:"Degraded",tone:"warning"},down:{label:"Down",tone:"down"},unknown:{label:"Unknown",tone:"unknown"}},sv={api:"API",db:"DB",analytics:"Analytics",worker:"Worker",other:"Other"},Bu={errorsLast24h:3,warningsLast24h:12,lastError:{timestamp:"Nov 22, 2025  09:14 UTC",service:"Scan Import API"}};function AS(){const{healthMap:s,isLoading:t}=V_(ps);return d.jsxs(Ui,{title:"SFDataHub Control Panel",description:"Overview of services, errors and analytics",headerContent:d.jsx(Va,{title:"SFDataHub Control Panel",subtitle:"Overview of services, errors and analytics"}),children:[d.jsx("div",{className:"dashboard-meta",children:d.jsx("span",{className:"env-badge",children:"STAGING"})}),d.jsx("div",{className:"service-grid",children:ps.map(i=>{const r=s[i.id],o=r?.status??i.status??"unknown",c=av[o]??av.unknown;return d.jsxs("article",{className:"service-card",children:[d.jsxs("div",{className:"service-card__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"service-card__name",children:i.name}),d.jsx("p",{className:"service-card__desc",children:i.description}),t&&!r&&d.jsx("p",{className:"service-card__meta",children:"Checking health"}),r?.latencyMs!==void 0&&d.jsxs("p",{className:"service-card__meta",children:["Latency: ",r.latencyMs," ms"]}),r?.checkedAt&&d.jsxs("p",{className:"service-card__meta",children:["Last check: ",new Date(r.checkedAt).toLocaleTimeString()]})]}),d.jsx("span",{className:`status-badge status-badge--${c.tone}`,children:c.label})]}),d.jsxs("div",{className:"service-card__tags",children:[d.jsx("span",{className:"kind-pill kind-pill--light",children:sv[i.kind]}),d.jsx("span",{className:"kind-pill",children:i.kind.toUpperCase()})]}),d.jsxs("div",{className:"service-card__actions",children:[d.jsx(nc,{className:"text-link",to:"/apis",children:"View in APIs & Services"}),i.url?d.jsx("a",{className:"text-link",href:i.url,target:"_blank",rel:"noreferrer",children:"Open service"}):d.jsx("span",{className:"text-link text-link--muted",children:"Endpoint TBD"})]})]},i.id)})}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Errors & Logs"}),d.jsx("h2",{children:"System insight"})]}),d.jsx(nc,{className:"btn secondary",to:"/logs",state:{defaultFilters:{service:"auth-api",level:"error"}},children:"Open Logs"})]}),d.jsxs("div",{className:"monitoring-panel__grid",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:"Errors last 24h"}),d.jsx("p",{className:"monitoring-panel__value",children:Bu.errorsLast24h})]}),d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:"Warnings last 24h"}),d.jsx("p",{className:"monitoring-panel__value",children:Bu.warningsLast24h})]}),d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:"Last error"}),d.jsx("p",{className:"monitoring-panel__value",children:Bu.lastError.timestamp}),d.jsxs("p",{className:"monitoring-panel__meta",children:["Service: ",Bu.lastError.service]})]})]})]}),d.jsxs("section",{className:"service-detail-panel",children:[d.jsxs("div",{className:"service-detail-panel__header",children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"What does each API do?"}),d.jsx("h2",{children:"Service catalog"})]}),d.jsx("div",{className:"service-detail-panel__list",children:ps.map(i=>d.jsxs("article",{className:"service-detail-panel__card",children:[d.jsxs("div",{className:"service-detail-panel__row",children:[d.jsxs("div",{children:[d.jsx("p",{className:"service-detail-panel__name",children:i.name}),d.jsx("p",{className:"service-detail-panel__kind",children:sv[i.kind]})]}),i.url?d.jsx("a",{className:"text-link",href:i.url,target:"_blank",rel:"noreferrer",children:"Visit endpoint"}):d.jsx("span",{className:"text-link text-link--muted",children:"URL TBD"})]}),d.jsx("p",{className:"service-detail-panel__desc",children:i.description})]},i.id))})]})]})}const wS=[{id:"log-001",timestamp:"2025-11-23T10:58:00.000Z",level:"error",service:"auth-api",message:"Failed to refresh JWT for admin session; stale refresh token detected.",details:"Refresh token invalidated by Auth API (tokenHash mismatch).",context:{userId:"admin-user-01",retryCount:3}},{id:"log-002",timestamp:"2025-11-23T10:45:12.000Z",level:"warning",service:"scan-import-api",message:"CSV upload completed with partial successes (3 rows skipped).",details:"Row 14/23: missing 'class' field, defaulted to 'Unknown'.",context:{rows:23,skipped:3,durationMs:1283}},{id:"log-003",timestamp:"2025-11-23T08:10:45.000Z",level:"info",service:"firestore",message:"Realtime listener delivered 1,124 document updates over 15 minutes."},{id:"log-004",timestamp:"2025-11-22T21:03:30.000Z",level:"warning",service:"firestore",message:"Firestore write retries observed for collection 'scans'.",details:"Exceeded 3 retries before succeeding; network latency spikes on europe-west3 region."},{id:"log-005",timestamp:"2025-11-22T18:45:00.000Z",level:"info",service:"goatcounter",message:"GoatCounter reported 18 new referrers from reddit.com/r/SFDataHub."},{id:"log-006",timestamp:"2025-11-22T17:12:09.000Z",level:"error",service:"scan-import-api",message:"Scan import timed out while waiting for external asset fetch.",details:"HTTP 504 from `player-assets.sfdatahub.com` after 31s.",context:{requestId:"s-import-8774",url:"https://player-assets.sfdatahub.com/har/..."}},{id:"log-007",timestamp:"2025-11-22T16:22:46.000Z",level:"info",service:"other",message:"Daily backup of Firestore (sfdatahub-staging) completed in 12m 8s."}],xS=[{label:"All services",value:"all"},{label:"Auth API",value:"auth-api"},{label:"Scan Import API",value:"scan-import-api"},{label:"Firestore Database",value:"firestore"},{label:"GoatCounter Analytics",value:"goatcounter"},{label:"Other",value:"other"}],RS=[{label:"All levels",value:"all"},{label:"Errors",value:"error"},{label:"Warnings",value:"warning"},{label:"Info",value:"info"}],NS={"1h":3600*1e3,"24h":1440*60*1e3,"7d":10080*60*1e3,all:null},CS=[{label:"Last hour",value:"1h"},{label:"Last 24 hours",value:"24h"},{label:"Last 7 days",value:"7d"},{label:"All time",value:"all"}],rv=Object.fromEntries(ps.map(s=>[s.id,s.name]));function lv(s){const t=new Date(s);if(Number.isNaN(t.getTime()))return s;const i=t.toISOString().slice(0,10),r=t.toISOString().slice(11,16);return`${i} - ${r}`}function DS(){const t=Li().state?.defaultFilters??{},[i,r]=j.useState(t.service??"all"),[o,c]=j.useState(t.level??"all"),[m,g]=j.useState("24h"),[y,v]=j.useState(""),[b,S]=j.useState(null),N=j.useMemo(()=>{const M=Date.now(),Q=y.trim().toLowerCase();return wS.filter(C=>{if(i!=="all"&&C.service!==i||o!=="all"&&C.level!==o)return!1;const X=NS[m];if(X!==null){const ie=Date.parse(C.timestamp);if(Number.isNaN(ie)||ie<M-X)return!1}return!(Q&&!C.message.toLowerCase().includes(Q))})},[i,o,m,y]),O=j.useMemo(()=>({error:N.filter(M=>M.level==="error").length,warning:N.filter(M=>M.level==="warning").length,info:N.filter(M=>M.level==="info").length}),[N]);return d.jsxs(Ui,{title:"Logs",description:"Inspect errors, warnings and info across SFDataHub services",headerContent:d.jsx(Va,{title:"Logs",subtitle:"Inspect errors, warnings and info across SFDataHub services",hintRight:"Demo data only - backend wiring later"}),children:[d.jsxs("div",{className:"logs-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Service"}),d.jsx("select",{value:i,onChange:M=>r(M.target.value),children:xS.map(M=>d.jsx("option",{value:M.value,children:M.label},M.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Level"}),d.jsx("select",{value:o,onChange:M=>c(M.target.value),children:RS.map(M=>d.jsx("option",{value:M.value,children:M.label},M.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Time range"}),d.jsx("select",{value:m,onChange:M=>g(M.target.value),children:CS.map(M=>d.jsx("option",{value:M.value,children:M.label},M.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Search message"}),d.jsx("input",{value:y,onChange:M=>v(M.target.value),placeholder:"Search text"})]})]}),d.jsxs("div",{className:"logs-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Errors"}),d.jsx("strong",{children:O.error})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Warnings"}),d.jsx("strong",{children:O.warning})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Info"}),d.jsx("strong",{children:O.info})]})]}),d.jsx("div",{className:"log-table",children:N.map(M=>d.jsxs("button",{type:"button",className:"log-row",onClick:()=>S(M),children:[d.jsxs("div",{className:"log-row__head",children:[d.jsx("span",{className:"log-row__timestamp",children:lv(M.timestamp)}),d.jsx("span",{className:`log-badge log-badge--${M.level}`,children:M.level})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-row__service",children:rv[M.service]??"Other"}),d.jsx("span",{className:"log-row__message",children:M.message})]})]},M.id))}),b&&d.jsx("div",{className:"log-modal",role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"log-modal__content",children:[d.jsxs("div",{className:"log-modal__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__eyebrow",children:b.level.toUpperCase()}),d.jsx("h2",{children:b.message})]}),d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>S(null),children:"Close"})]}),d.jsxs("div",{className:"log-modal__body",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Timestamp:"})," ",lv(b.timestamp)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Service:"})," ",rv[b.service]??"Other"]}),b.details&&d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__section-title",children:"Details"}),d.jsx("p",{children:b.details})]}),b.context&&d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__section-title",children:"Context"}),d.jsx("pre",{children:JSON.stringify(b.context,null,2)})]})]})]})})]})}function jS(){return d.jsxs(Ui,{title:"Settings",description:"Konfiguriere Plattform- und Moderationseinstellungen.",children:[d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Theme"}),d.jsx("p",{children:"Dark Mode ist aktiviert. Weitere Optionen folgen im nchsten Release."})]}),d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Benachrichtigungen"}),d.jsx("p",{children:"Keine kritischen Alerts. Aktiviert: E-Mail an alle Moderatoren."})]})]})}function IS(s){return s.reduce((t,i)=>(i.roles.includes("admin")&&(t.admins+=1),i.roles.includes("moderator")&&(t.moderators+=1),(i.status==="suspended"||i.status==="banned")&&(t.suspended+=1),t),{admins:0,moderators:0,invited:0,suspended:0})}const ic="https://auth.sfdatahub.com".replace(/\/+$/,""),L_="/admin/users",U_=["user","moderator","developer","admin"],MS={admin:"admin",owner:"admin",moderator:"moderator",mod:"moderator",developer:"developer",dev:"developer",creator:"developer",user:"user"},OS=["active","suspended","banned"],VS=["discord","google"],LS=s=>{const t=i=>{const r=U_.indexOf(i);return r===-1?Number.MAX_SAFE_INTEGER:r};return[...s].sort((i,r)=>t(i)-t(r))},z_=s=>typeof s=="string"&&VS.includes(s),ov=s=>{if(typeof s=="number"){const t=new Date(s);return Number.isNaN(t.getTime())?null:t.toISOString()}if(typeof s=="string"){const t=new Date(s);return Number.isNaN(t.getTime())?null:t.toISOString()}return null},US=s=>{if(!Array.isArray(s))return["user"];const t=s.map(r=>MS[String(r).toLowerCase()]).filter(r=>!!r),i=Array.from(new Set(t));return i.length?LS(i):["user"]},zS=s=>typeof s=="string"&&OS.includes(s)?s:"active",BS=s=>{if(!s||typeof s!="object")return;const t={};return Object.entries(s).forEach(([i,r])=>{z_(i)&&(!r||typeof r!="object"||(t[i]={id:String(r.id??""),displayName:typeof r.displayName=="string"?r.displayName:void 0,avatarUrl:typeof r.avatarUrl=="string"?r.avatarUrl:void 0}))}),Object.keys(t).length?t:void 0},B_=s=>{const t=s??{},i=typeof t.id=="string"&&t.id.length?t.id:"unknown-user",r=typeof t.userId=="string"&&t.userId.length?t.userId:i??"unknown-user",o=Array.isArray(t.flags)?t.flags.map(c=>String(c)):void 0;return{id:i,userId:r,displayName:typeof t.displayName=="string"&&t.displayName.length?t.displayName:t.profile?.displayName??null,avatarUrl:typeof t.avatarUrl=="string"?t.avatarUrl:null,primaryProvider:z_(t.primaryProvider)?t.primaryProvider:null,providers:BS(t.providers),profile:t.profile,roles:US(t.roles),status:zS(t.status),createdAt:ov(t.createdAt),lastLoginAt:ov(t.lastLoginAt),notes:typeof t.notes=="string"?t.notes:null,flags:o,isSystem:t.isSystem===!0||t.system===!0||(o??[]).includes("system")}},k_=async s=>{if(s.ok){if(s.status===204)return{};try{return await s.json()}catch{return{}}}try{const t=await s.json(),i=t?.error??t?.message??s.statusText;throw new Error(i||`Failed with status ${s.status}.`)}catch(t){throw t instanceof Error?t:new Error(s.statusText||"Request failed.")}};async function kS(){if(!ic)throw new Error("Auth API base URL is missing (VITE_AUTH_BASE_URL).");const s=await fetch(`${ic}${L_}`,{method:"GET",credentials:"include"}),t=await k_(s);return(Array.isArray(t?.users)?t.users:[]).map(B_)}async function PS(s,t){if(!ic)throw new Error("Auth API base URL is missing (VITE_AUTH_BASE_URL).");if(!s)throw new Error("User id is required to update roles.");const i=`${ic}${L_}/${encodeURIComponent(s)}/roles`,r=await fetch(i,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({roles:t})}),o=await k_(r),c=o?.user??o;return B_(c)}const P_=U_;function qS(){const[s,t]=j.useState([]),[i,r]=j.useState(!1),[o,c]=j.useState(null),m=j.useCallback(async v=>{if(!v?.cancelled){r(!0),c(null);try{const b=await kS();v?.cancelled||t(b)}catch(b){const S=b instanceof Error?b.message:"Unexpected error while loading admin users.";v?.cancelled||(c(S),t([]))}finally{v?.cancelled||r(!1)}}},[]);j.useEffect(()=>{const v={cancelled:!1};return m(v),()=>{v.cancelled=!0}},[m]);const g=j.useCallback(()=>{m()},[m]),y=j.useCallback(v=>{t(b=>{let S=!1;const N=b.map(O=>O.userId===v.userId||O.id===v.id?(S=!0,v):O);return S?N:[v,...N]})},[]);return{users:s,isLoading:i,error:o,refresh:g,replaceUser:y}}const HS=P_,FS=[{label:"All roles",value:"all"},{label:"Admin",value:"admin"},{label:"Moderator",value:"moderator"},{label:"Developer",value:"developer"},{label:"User",value:"user"}],GS=[{label:"All statuses",value:"all"},{label:"Active",value:"active"},{label:"Suspended",value:"suspended"},{label:"Banned",value:"banned"}],uv={discord:"Discord",google:"Google"},Bf={admin:"Admin",moderator:"Moderator",mod:"Moderator",creator:"Developer",developer:"Developer",user:"User",owner:"Owner"},cv={active:"Active",suspended:"Suspended",banned:"Banned"},kf=s=>{const t=i=>{const r=P_.indexOf(i);return r===-1?Number.MAX_SAFE_INTEGER:r};return[...s].sort((i,r)=>t(i)-t(r))},QS=s=>s.isSystem===!0||(s.flags??[]).includes("system"),hv=(s,t)=>s.userId===t.userId||s.id===t.id;function KS(s){return s.trim().toLowerCase()}function ku(s){if(!s)return"-";const t=new Date(s);if(Number.isNaN(t.getTime()))return s;const i=t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${i} at ${r}`}function Pu(s){return s.displayName??s.profile?.displayName??s.userId??"Unknown user"}function fv(s){const t=new Set;s.primaryProvider&&t.add(s.primaryProvider);const i=s.providers??{};return Object.keys(i).forEach(r=>t.add(r)),Array.from(t)}function YS(){const[s,t]=j.useState("all"),[i,r]=j.useState("all"),[o,c]=j.useState(""),[m,g]=j.useState(null),[y,v]=j.useState(null),[b,S]=j.useState(null),[N,O]=j.useState(!1),M=j.useRef(null),{users:Q,isLoading:C,error:X,refresh:ie,replaceUser:ne}=qS(),{user:ye}=yc(),be=j.useMemo(()=>(ye?.roles??[]).map(w=>w.toLowerCase()),[ye]).some(w=>w==="admin"||w==="owner"),I=j.useMemo(()=>{const w=KS(o);return Q.filter(pe=>{if(s!=="all"&&!pe.roles.includes(s)||i!=="all"&&pe.status!==i)return!1;const ke=Pu(pe).toLowerCase();return!(w&&!`${ke} ${pe.id}`.toLowerCase().includes(w))})},[s,i,o,Q]),x=j.useMemo(()=>{if(!y)return;const w=typeof window<"u"?Math.max(12,window.innerWidth-260):null,pe=typeof window<"u"?Math.max(12,window.innerHeight-220):null;return{left:w?Math.min(y.x,w):y.x,top:pe?Math.min(y.y,pe):y.y}},[y]);j.useEffect(()=>{if(!m)return;const w=Q.find(pe=>hv(pe,m));w&&w!==m&&g(w)},[m,Q]);const R=j.useCallback(()=>{v(null),S(null),O(!1)},[]),L=j.useCallback((w,pe)=>{!be||QS(pe)||typeof window<"u"&&window.matchMedia?.("(pointer: coarse)").matches||(w.preventDefault(),v({user:pe,x:w.clientX,y:w.clientY,roles:kf(pe.roles)}),S(null),O(!1))},[be]);j.useEffect(()=>{if(!y)return;const w=ke=>{ke.key==="Escape"&&R()},pe=ke=>{M.current&&(M.current.contains(ke.target)||R())};return window.addEventListener("keydown",w),window.addEventListener("mousedown",pe),()=>{window.removeEventListener("keydown",w),window.removeEventListener("mousedown",pe)}},[R,y]);const z=j.useCallback(async w=>{if(!y||N)return;const pe=y.roles,ke=new Set(pe);ke.has(w)?ke.delete(w):ke.add(w);const $=kf(Array.from(ke));v({...y,roles:$}),O(!0),S(null);try{const se=await PS(y.user.userId||y.user.id,$);ne(se),g(ue=>ue&&hv(ue,se)?se:ue),v(ue=>ue&&{...ue,user:se,roles:kf(se.roles)})}catch(se){S(se instanceof Error?se.message:"Failed to update roles."),v(ue=>ue&&{...ue,roles:pe})}finally{O(!1)}},[N,ne,y]),B=j.useMemo(()=>IS(I),[I]);return d.jsxs(Ui,{title:"Admin Users",description:"View and edit admin users from auth-api (right-click a user to toggle roles).",headerContent:d.jsx(Va,{title:"Admin Users",subtitle:"Manage access to SFDataHub admin tools via auth-api.",hintRight:"GET /admin/users  PATCH /admin/users/:userId/roles"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:X?`Couldn't load admin users. ${X}`:"Connected to auth-api (roles editable)."}),d.jsxs("div",{className:"admin-top__actions",children:[C&&d.jsx("span",{className:"admin-top__status",children:"Loading..."}),d.jsx("button",{type:"button",className:"btn secondary",onClick:ie,disabled:C,children:"Refresh"})]})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Role"}),d.jsx("select",{value:s,onChange:w=>t(w.target.value),children:FS.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:i,onChange:w=>r(w.target.value),children:GS.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value))})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by name or id"}),d.jsx("input",{value:o,onChange:w=>c(w.target.value),placeholder:"Search text"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Total admins"}),d.jsx("strong",{children:B.admins})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Moderators"}),d.jsx("strong",{children:B.moderators})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Invited users"}),d.jsx("strong",{children:B.invited})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Suspended users"}),d.jsx("strong",{children:B.suspended})]})]}),d.jsxs("div",{className:"user-table",children:[I.map(w=>d.jsxs("button",{type:"button",className:"user-row",onClick:()=>g(w),onContextMenu:pe=>L(pe,w),children:[d.jsxs("div",{className:"user-cell user-cell--name",children:[d.jsx("p",{className:"user-name",children:Pu(w)}),d.jsx("p",{className:"user-id",children:w.id})]}),d.jsx("div",{className:"user-cell user-cell--providers",children:fv(w).map(pe=>d.jsx("span",{className:`pill provider-pill provider-pill--${pe}`,children:uv[pe]},pe))}),d.jsx("div",{className:"user-cell user-cell--roles",children:w.roles.map(pe=>d.jsx("span",{className:`pill role-pill role-pill--${pe}`,children:Bf[pe]??pe},pe))}),d.jsx("div",{className:"user-cell",children:d.jsx("span",{className:`status-chip status-chip--${w.status}`,children:cv[w.status]})}),d.jsx("div",{className:"user-cell",children:d.jsxs("p",{className:"user-meta",children:[d.jsx("span",{className:"user-meta__label",children:"Created"}),ku(w.createdAt)]})}),d.jsx("div",{className:"user-cell",children:d.jsxs("p",{className:"user-meta",children:[d.jsx("span",{className:"user-meta__label",children:"Last login"}),ku(w.lastLoginAt)]})})]},w.id)),I.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No users match your filters."})})]}),y&&d.jsx("div",{className:"role-menu-overlay",onClick:R,children:d.jsxs("div",{ref:M,className:"role-menu",style:x,onClick:w=>w.stopPropagation(),children:[d.jsxs("div",{className:"role-menu__header",children:[d.jsx("p",{className:"role-menu__eyebrow",children:"Roles"}),d.jsx("h3",{className:"role-menu__title",children:Pu(y.user)}),d.jsx("p",{className:"role-menu__id",children:y.user.userId})]}),b&&d.jsx("p",{className:"role-menu__error",children:b}),d.jsx("div",{className:"role-menu__roles",children:HS.map(w=>{const pe=y.roles.includes(w);return d.jsx("button",{type:"button",className:`pill role-pill role-pill--${w} ${pe?"":"pill--ghost"}`,onClick:()=>z(w),disabled:N,"aria-pressed":pe,children:Bf[w]??w},w)})}),d.jsxs("div",{className:"role-menu__footer",children:[d.jsx("span",{className:"role-menu__status",children:N?"Saving...":"Right-click a user to manage roles"}),d.jsx("button",{type:"button",className:"text-link",onClick:R,disabled:N,children:"Close"})]})]})}),m&&d.jsxs("aside",{className:"user-detail-drawer",children:[d.jsxs("div",{className:"user-detail-drawer__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"User details"}),d.jsx("h2",{children:Pu(m)}),d.jsx("p",{className:"user-detail-drawer__id",children:m.userId})]}),d.jsxs("div",{className:"user-detail-drawer__header-meta",children:[d.jsx("span",{className:`status-chip status-chip--${m.status}`,children:cv[m.status]}),d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>g(null),children:"Close"})]})]}),d.jsxs("div",{className:"user-detail-drawer__grid",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Providers"}),d.jsx("div",{className:"user-detail-drawer__badges",children:fv(m).map(w=>d.jsx("span",{className:`pill provider-pill provider-pill--${w}`,children:uv[w]},w))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Roles"}),d.jsx("div",{className:"user-detail-drawer__badges",children:m.roles.map(w=>d.jsx("span",{className:`pill role-pill role-pill--${w}`,children:Bf[w]??w},w))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Created"}),d.jsx("p",{className:"user-meta",children:ku(m.createdAt)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Last login"}),d.jsx("p",{className:"user-meta",children:ku(m.lastLoginAt)})]})]}),d.jsxs("div",{className:"user-detail-drawer__activity",children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Activity (coming soon)"}),d.jsx("p",{className:"user-meta",children:"Recent actions and audit logs will appear here once wired to the backend."})]})]})]})}const _r="https://auth.sfdatahub.com".replace(/\/+$/,"");async function Ld(s){if(s.ok)return s.json();let t="";try{t=(await s.json())?.error??s.statusText}catch{t=s.statusText}throw new Error(`Request failed (${s.status}): ${t}`)}async function XS(s,t){if(!_r)throw new Error("AUTH base URL missing (VITE_AUTH_BASE_URL).");if(!s)throw new Error("Feature id is required.");const i=`${_r}/admin/access-control/features/${encodeURIComponent(s)}`,r=await fetch(i,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Ld(r)}async function $S(s,t){if(!_r)throw new Error("AUTH base URL missing (VITE_AUTH_BASE_URL).");if(!s)throw new Error("Group id is required.");const i=`${_r}/admin/access-control/groups/${encodeURIComponent(s)}`,r=await fetch(i,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Ld(r)}async function ZS(){if(!_r)throw new Error("AUTH base URL missing (VITE_AUTH_BASE_URL).");const s=`${_r}/admin/access-control`,t=await fetch(s,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});return Ld(t)}const JS=["public","logged_in","beta","dev_only","hidden"];function ac(s){if(s&&typeof s.toDate=="function"){const t=s.toDate();return t instanceof Date&&!Number.isNaN(t.getTime())?t:null}if(s instanceof Date)return Number.isNaN(s.getTime())?null:s;if(typeof s=="number"){const t=new Date(s);return Number.isNaN(t.getTime())?null:t}if(typeof s=="string"&&s.trim()){const t=new Date(s);return Number.isNaN(t.getTime())?null:t}return null}function WS(s){return typeof s=="string"&&s.trim()?s.trim():"controlPanel"}function eA(s){if(typeof s=="string"&&s.trim()){const t=s.trim().toLowerCase();return JS.includes(t),t}return"hidden"}function Ud(s,t="user"){return typeof s=="string"&&s.trim()?s.trim().toLowerCase():t}function q_(s){if(!Array.isArray(s))return;const t=s.map(i=>Ud(i)).filter((i,r,o)=>i&&o.indexOf(i)===r);return t.length?t:void 0}function id(s){if(!Array.isArray(s))return;const t=s.map(i=>typeof i=="string"?i.trim():"").filter(i=>i.length>0);return t.length?t:void 0}function tA(s,t){return{id:s,route:typeof t.route=="string"&&t.route.trim()?t.route:"/",area:WS(t.area),titleKey:typeof t.titleKey=="string"&&t.titleKey.trim()?t.titleKey:s,status:eA(t.status),minRole:Ud(t.minRole),allowedRoles:q_(t.allowedRoles),allowedGroups:id(t.allowedGroups),allowedUserIds:id(t.allowedUserIds),showInTopbar:t.showInTopbar===!0,showInSidebar:t.showInSidebar===!0,navOrder:typeof t.navOrder=="number"?t.navOrder:void 0,isExperimental:t.isExperimental===!0,createdAt:ac(t.createdAt),updatedAt:ac(t.updatedAt),createdBy:typeof t.createdBy=="string"?t.createdBy:void 0,updatedBy:typeof t.updatedBy=="string"?t.updatedBy:void 0}}function nA(s,t){return{id:s,label:typeof t.label=="string"&&t.label.trim()?t.label:s,description:typeof t.description=="string"?t.description:void 0,userIds:id(t.userIds),minRole:t.minRole?Ud(t.minRole):void 0,allowedRoles:q_(t.allowedRoles),isSystem:t.isSystem===!0,createdAt:ac(t.createdAt),updatedAt:ac(t.updatedAt),createdBy:typeof t.createdBy=="string"?t.createdBy:void 0,updatedBy:typeof t.updatedBy=="string"?t.updatedBy:void 0}}function iA(){const[s,t]=j.useState([]),[i,r]=j.useState([]),[o,c]=j.useState(!0),[m,g]=j.useState(null),{user:y,isLoading:v}=yc(),b=j.useCallback(async N=>{c(!0),g(null);try{const O=await ZS();if(N?.cancelled)return;const M=(O.features??[]).map(C=>{const X=typeof C.id=="string"?C.id:"";return X?tA(X,C):null}).filter(Boolean),Q=(O.groups??[]).map(C=>{const X=typeof C.id=="string"?C.id:"";return X?nA(X,C):null}).filter(Boolean);M.sort((C,X)=>{const ie=C.navOrder??Number.MAX_SAFE_INTEGER,ne=X.navOrder??Number.MAX_SAFE_INTEGER;return ie!==ne?ie-ne:C.route.localeCompare(X.route)}),Q.sort((C,X)=>C.id.localeCompare(X.id)),t(M),r(Q)}catch(O){const M=O instanceof Error?O.message:"Failed to load access data from auth-api.";console.error("[AccessControl] Failed to load access data:",O),N?.cancelled||(g(M),t([]),r([]))}finally{N?.cancelled||c(!1)}},[]);j.useEffect(()=>{const N={cancelled:!1};return v?(g(null),()=>{N.cancelled=!0}):y?(b(N),()=>{N.cancelled=!0}):(t([]),r([]),c(!1),g(null),()=>{N.cancelled=!0})},[v,y,b]);const S=j.useCallback(()=>{if(v||!y){t([]),r([]),c(!1),g(null);return}b()},[v,y,b]);return{features:s,accessGroups:i,isLoading:o,error:m,refresh:S}}const dv=[{value:"all",label:"All statuses"},{value:"public",label:"Public"},{value:"logged_in",label:"Logged in"},{value:"beta",label:"Beta"},{value:"dev_only",label:"Dev only"},{value:"hidden",label:"Hidden"}],aA={public:{label:"Public",tone:"status-badge--public"},logged_in:{label:"Logged in",tone:"status-badge--logged-in"},beta:{label:"Beta",tone:"status-badge--beta"},dev_only:{label:"Dev only",tone:"status-badge--dev"},hidden:{label:"Hidden",tone:"status-badge--hidden"}},sA={admin:"Admin",owner:"Owner",mod:"Moderator",moderator:"Moderator",developer:"Developer",user:"User"},qu=["admin","moderator","developer","user"];function mv(s){return s.trim().toLowerCase()}function rA(s,t){return t?`${s.route} ${s.titleKey} ${s.area}`.toLowerCase().includes(t):!0}function lA(s,t){return t?`${s.id} ${s.label??""}`.toLowerCase().includes(t):!0}function Ra(s){return s?sA[s]??s:""}function oA(s){if(!s)return"";const t=Date.now(),i=s.getTime()-t,r=Math.abs(i),o=Math.round(r/6e4),c=Math.round(r/(3600*1e3)),m=Math.round(r/(1440*60*1e3));return o<90?i>=0?`in ${o}m`:`${o}m ago`:c<48?i>=0?`in ${c}h`:`${c}h ago`:m<10?i>=0?`in ${m}d`:`${m}d ago`:s.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Pf(s,t){const i=s??[],r=t??[];return i.length!==r.length?!1:i.every(o=>r.includes(o))}function uA(){const{features:s,accessGroups:t,isLoading:i,error:r,refresh:o}=iA(),[c,m]=j.useState(""),[g,y]=j.useState("all"),[v,b]=j.useState(""),[S,N]=j.useState(null),[O,M]=j.useState(null),[Q,C]=j.useState(null),[X,ie]=j.useState(!1),[ne,ye]=j.useState(null),[he,be]=j.useState(null),[I,x]=j.useState(null),[R,L]=j.useState(!1),z=j.useMemo(()=>{const k=mv(c);return s.filter(oe=>g!=="all"&&oe.status!==g?!1:rA(oe,k))},[c,s,g]),B=j.useMemo(()=>{const k=mv(v);return t.filter(oe=>lA(oe,k))},[t,v]),w=j.useMemo(()=>t.map(k=>({id:k.id,label:k.label??k.id})),[t]),pe=k=>{N(k),M({...k}),C(null)},ke=()=>{N(null),M(null),C(null)},$=(k,oe)=>{if(!O)return;const ve=O[k]??[],Re=new Set(ve);Re.has(oe)?Re.delete(oe):Re.add(oe),M({...O,[k]:Array.from(Re)})},se=j.useMemo(()=>!O||!S?!1:O.status!==S.status||O.minRole!==S.minRole||O.showInSidebar!==S.showInSidebar||O.showInTopbar!==S.showInTopbar||!Pf(O.allowedRoles,S.allowedRoles)||!Pf(O.allowedGroups,S.allowedGroups),[S,O]),ue=async()=>{if(!(!O||!S)){ie(!0),C(null);try{await XS(S.id,{status:O.status,minRole:O.minRole,allowedRoles:O.allowedRoles,allowedGroups:O.allowedGroups,showInSidebar:O.showInSidebar,showInTopbar:O.showInTopbar}),ke()}catch(k){const oe=k instanceof Error?k.message:"Failed to save feature.";C(oe)}finally{ie(!1)}}},Oe=k=>{ye(k),be({...k}),x(null)},Ve=()=>{ye(null),be(null),x(null)},U=k=>{if(!he)return;const oe=he.allowedRoles??[],ve=new Set(oe);ve.has(k)?ve.delete(k):ve.add(k),be({...he,allowedRoles:Array.from(ve)})},J=j.useMemo(()=>!he||!ne?!1:(he.label??"")!==(ne.label??"")||(he.description??"")!==(ne.description??"")||he.minRole!==ne.minRole||!Pf(he.allowedRoles,ne.allowedRoles),[ne,he]),ae=async()=>{if(!(!he||!ne)){L(!0),x(null);try{await $S(ne.id,{label:he.label,description:he.description,minRole:he.minRole,allowedRoles:he.allowedRoles}),Ve()}catch(k){const oe=k instanceof Error?k.message:"Failed to save group.";x(oe)}finally{L(!1)}}};return d.jsxs(Ui,{title:"Access & Features",description:"View which features and pages are visible for which roles and access groups.",headerContent:d.jsx(Va,{title:"Access & Features",subtitle:"View which features and pages are visible for which roles and access groups.",hintRight:"Data loaded via auth-api (read/write via backend)"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:r?"Could not load access data from auth-api.":"Live snapshot from feature_access and access_groups (read via auth-api, write via backend)."}),r&&d.jsxs("p",{className:"admin-top__hint",children:["Debug: ",r]}),d.jsxs("div",{className:"admin-top__actions",children:[i&&d.jsx("span",{className:"admin-top__status",children:"Loading..."}),d.jsx("button",{type:"button",className:"btn secondary",onClick:o,disabled:i,children:"Refresh"})]})]}),d.jsxs("div",{className:"access-grid",children:[d.jsxs("section",{className:"access-card",children:[d.jsxs("header",{className:"access-card__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Features"}),d.jsx("h2",{className:"access-card__title",children:"Features & Pages"}),d.jsx("p",{className:"access-card__subtitle",children:"Documents from collection feature_access."})]}),d.jsxs("span",{className:"access-card__count",children:[z.length," items"]})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by route, title, or area"}),d.jsx("input",{value:c,onChange:k=>m(k.target.value),placeholder:"/access, controlPanel, ..."})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:g,onChange:k=>y(k.target.value),children:dv.map(k=>d.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),d.jsx("div",{className:"access-table__wrapper",children:d.jsxs("table",{className:"access-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Route"}),d.jsx("th",{children:"Area"}),d.jsx("th",{children:"Title key"}),d.jsx("th",{children:"Min role"}),d.jsx("th",{children:"Roles / Groups"}),d.jsx("th",{children:"Visibility"}),d.jsx("th",{children:"Updated"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:z.map(k=>{const oe=aA[k.status]??{label:k.status,tone:"status-badge--hidden"};return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:`status-badge ${oe.tone}`,children:oe.label})}),d.jsx("td",{className:"access-table__mono",children:k.route}),d.jsx("td",{children:k.area}),d.jsx("td",{children:k.titleKey}),d.jsx("td",{children:d.jsx("span",{className:`pill role-pill role-pill--${k.minRole}`,children:Ra(k.minRole)})}),d.jsx("td",{children:d.jsxs("div",{className:"access-table__chips",children:[k.allowedRoles?.map(ve=>d.jsx("span",{className:`pill role-pill role-pill--${ve}`,children:Ra(ve)},ve)),k.allowedGroups?.map(ve=>d.jsx("span",{className:"pill access-pill",children:ve},ve)),!k.allowedRoles?.length&&!k.allowedGroups?.length&&d.jsx("span",{className:"access-table__meta",children:""})]})}),d.jsx("td",{children:d.jsxs("div",{className:"access-table__flags",children:[d.jsx("span",{className:`visibility-flag ${k.showInSidebar?"visibility-flag--on":"visibility-flag--off"}`,children:"Sidebar"}),d.jsx("span",{className:`visibility-flag ${k.showInTopbar?"visibility-flag--on":"visibility-flag--off"}`,children:"Topbar"})]})}),d.jsx("td",{className:"access-table__meta",children:oA(k.updatedAt??k.createdAt)}),d.jsx("td",{children:d.jsx("button",{type:"button",className:"text-link",onClick:()=>pe(k),children:"Edit"})})]},k.id)})})]})}),z.length===0&&!i&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No features match your filters."})})]}),d.jsxs("section",{className:"access-card",children:[d.jsxs("header",{className:"access-card__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Groups"}),d.jsx("h2",{className:"access-card__title",children:"Access groups"}),d.jsx("p",{className:"access-card__subtitle",children:"Documents from collection access_groups."})]}),d.jsxs("span",{className:"access-card__count",children:[B.length," items"]})]}),d.jsx("div",{className:"admin-filters",children:d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by id or label"}),d.jsx("input",{value:v,onChange:k=>b(k.target.value),placeholder:"beta_testers, creator_program"})]})}),d.jsx("div",{className:"access-table__wrapper",children:d.jsxs("table",{className:"access-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"ID"}),d.jsx("th",{children:"Label"}),d.jsx("th",{children:"Description"}),d.jsx("th",{children:"Min role"}),d.jsx("th",{children:"Allowed roles"}),d.jsx("th",{children:"User count"}),d.jsx("th",{children:"Flags"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:B.map(k=>d.jsxs("tr",{children:[d.jsx("td",{className:"access-table__mono",children:k.id}),d.jsx("td",{children:k.label}),d.jsx("td",{className:"access-table__meta",children:k.description??""}),d.jsx("td",{children:d.jsx("span",{className:`pill role-pill role-pill--${k.minRole??"user"}`,children:Ra(k.minRole??"user")})}),d.jsx("td",{children:d.jsxs("div",{className:"access-table__chips",children:[k.allowedRoles?.map(oe=>d.jsx("span",{className:`pill role-pill role-pill--${oe}`,children:Ra(oe)},oe)),!k.allowedRoles?.length&&d.jsx("span",{className:"access-table__meta",children:""})]})}),d.jsx("td",{children:k.userIds?.length??0}),d.jsx("td",{children:d.jsx("div",{className:"access-table__flags",children:d.jsx("span",{className:`visibility-flag ${k.isSystem?"visibility-flag--on":"visibility-flag--off"}`,children:k.isSystem?"System":"Custom"})})}),d.jsx("td",{children:d.jsx("button",{type:"button",className:"text-link",onClick:()=>Oe(k),disabled:k.isSystem===!0,title:k.isSystem?"System groups are managed elsewhere":"Edit group",children:"Edit"})})]},k.id))})]})}),B.length===0&&!i&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No access groups match your filters."})})]})]}),O&&S&&d.jsx("div",{className:"log-modal",role:"dialog","aria-modal":"true","aria-label":"Edit feature access",children:d.jsxs("div",{className:"log-modal__content access-modal",children:[d.jsxs("header",{className:"log-modal__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__eyebrow",children:"Edit feature"}),d.jsx("h2",{className:"access-modal__title",children:S.titleKey}),d.jsx("p",{className:"access-table__meta",children:S.route})]}),d.jsx("button",{type:"button",className:"text-link",onClick:ke,disabled:X,children:"Close"})]}),Q&&d.jsxs("div",{className:"error-banner",children:["Failed to save: ",Q]}),d.jsxs("div",{className:"access-modal__form",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:O.status,onChange:k=>M({...O,status:k.target.value}),children:dv.filter(k=>k.value!=="all").map(k=>d.jsx("option",{value:k.value,children:k.label},k.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Min role"}),d.jsx("select",{value:O.minRole,onChange:k=>M({...O,minRole:k.target.value}),children:qu.map(k=>d.jsx("option",{value:k,children:Ra(k)},k))})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Allowed roles"}),d.jsx("div",{className:"access-modal__chips",children:qu.map(k=>{const oe=O.allowedRoles?.includes(k)??!1;return d.jsx("button",{type:"button",className:`pill role-pill role-pill--${k} ${oe?"":"pill--ghost"}`,onClick:()=>$("allowedRoles",k),"aria-pressed":oe,children:Ra(k)},k)})})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Allowed groups"}),d.jsxs("div",{className:"access-modal__chips",children:[w.map(k=>{const oe=O.allowedGroups?.includes(k.id)??!1;return d.jsx("button",{type:"button",className:`pill access-pill ${oe?"":"pill--ghost"}`,onClick:()=>$("allowedGroups",k.id),"aria-pressed":oe,title:k.label,children:k.label},k.id)}),!w.length&&d.jsx("span",{className:"access-table__meta",children:"No groups loaded"})]})]}),d.jsxs("div",{className:"access-modal__toggles",children:[d.jsxs("label",{className:"access-toggle",children:[d.jsx("input",{type:"checkbox",checked:O.showInSidebar,onChange:k=>M({...O,showInSidebar:k.target.checked})}),d.jsx("span",{children:"Show in sidebar"})]}),d.jsxs("label",{className:"access-toggle",children:[d.jsx("input",{type:"checkbox",checked:O.showInTopbar,onChange:k=>M({...O,showInTopbar:k.target.checked})}),d.jsx("span",{children:"Show in topbar"})]})]})]}),d.jsxs("footer",{className:"access-modal__footer",children:[d.jsx("button",{type:"button",className:"btn secondary",onClick:ke,disabled:X,children:"Cancel"}),d.jsx("button",{type:"button",className:"btn",onClick:ue,disabled:!se||X,children:X?"Saving...":"Save changes"})]})]})}),he&&ne&&d.jsx("div",{className:"log-modal",role:"dialog","aria-modal":"true","aria-label":"Edit access group",children:d.jsxs("div",{className:"log-modal__content access-modal",children:[d.jsxs("header",{className:"log-modal__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__eyebrow",children:"Edit group"}),d.jsx("h2",{className:"access-modal__title",children:ne.label}),d.jsx("p",{className:"access-table__meta",children:ne.id})]}),d.jsx("button",{type:"button",className:"text-link",onClick:Ve,disabled:R,children:"Close"})]}),I&&d.jsxs("div",{className:"error-banner",children:["Failed to save: ",I]}),d.jsxs("div",{className:"access-modal__form",children:[d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Label"}),d.jsx("input",{value:he.label??"",onChange:k=>be({...he,label:k.target.value}),placeholder:"Group label"})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Description"}),d.jsx("textarea",{value:he.description??"",onChange:k=>be({...he,description:k.target.value}),placeholder:"Short description",rows:3,style:{resize:"vertical"}})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Min role"}),d.jsx("select",{value:he.minRole??"user",onChange:k=>be({...he,minRole:k.target.value}),children:qu.map(k=>d.jsx("option",{value:k,children:Ra(k)},k))})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Allowed roles"}),d.jsx("div",{className:"access-modal__chips",children:qu.map(k=>{const oe=he.allowedRoles?.includes(k)??!1;return d.jsx("button",{type:"button",className:`pill role-pill role-pill--${k} ${oe?"":"pill--ghost"}`,onClick:()=>U(k),"aria-pressed":oe,children:Ra(k)},k)})})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Flags"}),d.jsx("div",{className:"access-table__flags",children:d.jsx("span",{className:`visibility-flag ${he.isSystem?"visibility-flag--on":"visibility-flag--off"}`,children:he.isSystem?"System group":"Custom group"})})]})]}),d.jsxs("footer",{className:"access-modal__footer",children:[d.jsx("button",{type:"button",className:"btn secondary",onClick:Ve,disabled:R,children:"Cancel"}),d.jsx("button",{type:"button",className:"btn",onClick:ae,disabled:!J||R,children:R?"Saving...":"Save changes"})]})]})})]})}const cA=["owner","admin"];function pv({title:s,description:t,children:i}){return d.jsx("div",{className:"gate-screen",children:d.jsxs("div",{className:"gate-card",children:[d.jsx("p",{className:"content-shell__eyebrow",children:"SFDataHub"}),d.jsx("h1",{className:"gate-title",children:s}),d.jsx("p",{className:"gate-description",children:t}),d.jsx("div",{className:"gate-actions",children:i})]})})}function hA({children:s}){const{status:t,user:i,isLoading:r,login:o}=yc(),c=(i?.roles??[]).some(g=>cA.includes(g.toLowerCase()));return r||t==="idle"||t==="loading"?d.jsx(pv,{title:"Loading Control Panel",description:"Checking your session and permissions",children:d.jsxs("div",{className:"topbar__badge topbar__badge--muted",children:[d.jsx("span",{className:"topbar__spinner","aria-hidden":"true"}),d.jsx("span",{children:"Loading session..."})]})}):t==="authenticated"&&c?s:d.jsx(pv,{title:"Login required",description:"Dieses Control Panel ist nur fuer SFDataHub Owner & Admins. Bitte logge dich ein.",children:d.jsxs("div",{className:"gate-buttons",children:[d.jsx("button",{type:"button",className:"topbar__login topbar__login--discord",onClick:()=>o("discord"),children:"Login Discord"}),d.jsx("button",{type:"button",className:"topbar__login topbar__login--google",onClick:()=>o("google"),children:"Login Google"})]})})}var gv={};const H_=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},fA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],m=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(m&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],m=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|m&63)}}return t.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],m=o+1<s.length,g=m?s[o+1]:0,y=o+2<s.length,v=y?s[o+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|v>>6,O=v&63;y||(O=64,m||(N=64)),r.push(i[b],i[S],i[N],i[O])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(H_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):fA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||v==null||S==null)throw new dA;const N=c<<2|g>>4;if(r.push(N),v!==64){const O=g<<4&240|v>>2;if(r.push(O),S!==64){const M=v<<6&192|S;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mA=function(s){const t=H_(s);return F_.encodeByteArray(t,!0)},sc=function(s){return mA(s).replace(/\./g,"")},pA=function(s){try{return F_.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yA=()=>gA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof gv>"u")return;const s=gv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_A=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&pA(s[1]);return t&&JSON.parse(t)},zd=()=>{try{return yA()||vA()||_A()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},EA=s=>{var t,i;return(i=(t=zd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},bA=s=>{const t=EA(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},G_=()=>{var s;return(s=zd())===null||s===void 0?void 0:s.config};class TA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function SA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[sc(JSON.stringify(i)),sc(JSON.stringify(m)),""].join(".")}function AA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wA(){var s;const t=(s=zd())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return!wA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function NA(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}const CA="FirebaseError";class Dr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=CA,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],m=c?DA(c,r):"Error",g=`${this.serviceName}: ${m} (${o}).`;return new Dr(o,g,r)}}function DA(s,t){return s.replace(jA,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const jA=/\{\$([^}]+)}/g;function ad(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=s[o],m=t[o];if(yv(c)&&yv(m)){if(!ad(c,m))return!1}else if(c!==m)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function yv(s){return s!==null&&typeof s=="object"}function rc(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ds="[DEFAULT]";class IA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new TA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t?.identifier),o=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OA(t))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ds){return this.instances.has(t)}getOptions(t=ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&m.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const m=this.instances.get(o);return m&&t(m,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ds){return this.component?this.component.multipleInstances?t:ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(s){return s===ds?void 0:s}function OA(s){return s.instantiationMode==="EAGER"}class VA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new IA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const LA={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},UA=ze.INFO,zA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},BA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=zA[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class K_{constructor(t){this.name=t,this._logLevel=UA,this._logHandler=BA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ze))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...t),this._logHandler(this,ze.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...t),this._logHandler(this,ze.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...t),this._logHandler(this,ze.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...t),this._logHandler(this,ze.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...t),this._logHandler(this,ze.ERROR,...t)}}const kA=(s,t)=>t.some(i=>s instanceof i);let vv,_v;function PA(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y_=new WeakMap,sd=new WeakMap,X_=new WeakMap,qf=new WeakMap,Bd=new WeakMap;function HA(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",m)},c=()=>{i(Da(s.result)),o()},m=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",m)});return t.then(i=>{i instanceof IDBCursor&&Y_.set(i,s)}).catch(()=>{}),Bd.set(t,s),t}function FA(s){if(sd.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",m),s.removeEventListener("abort",m)},c=()=>{i(),o()},m=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",m),s.addEventListener("abort",m)});sd.set(s,t)}let rd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return sd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||X_.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function GA(s){rd=s(rd)}function QA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Hf(this),t,...i);return X_.set(r,t.sort?t.sort():[t]),Da(r)}:qA().includes(s)?function(...t){return s.apply(Hf(this),t),Da(Y_.get(this))}:function(...t){return Da(s.apply(Hf(this),t))}}function KA(s){return typeof s=="function"?QA(s):(s instanceof IDBTransaction&&FA(s),kA(s,PA())?new Proxy(s,rd):s)}function Da(s){if(s instanceof IDBRequest)return HA(s);if(qf.has(s))return qf.get(s);const t=KA(s);return t!==s&&(qf.set(s,t),Bd.set(t,s)),t}const Hf=s=>Bd.get(s);function YA(s,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const m=indexedDB.open(s,t),g=Da(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Da(m.result),y.oldVersion,y.newVersion,Da(m.transaction),y)}),i&&m.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Ff=new Map;function Ev(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ff.get(t))return Ff.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=$A.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||XA.includes(i)))return;const c=async function(m,...g){const y=this.transaction(m,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return Ff.set(t,c),c}GA(s=>({...s,get:(t,i,r)=>Ev(t,i)||s.get(t,i,r),has:(t,i)=>!!Ev(t,i)||s.has(t,i)}));class ZA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function JA(s){const t=s.getComponent();return t?.type==="VERSION"}const ld="@firebase/app",bv="0.10.13";const Oi=new K_("@firebase/app"),WA="@firebase/app-compat",e1="@firebase/analytics-compat",t1="@firebase/analytics",n1="@firebase/app-check-compat",i1="@firebase/app-check",a1="@firebase/auth",s1="@firebase/auth-compat",r1="@firebase/database",l1="@firebase/data-connect",o1="@firebase/database-compat",u1="@firebase/functions",c1="@firebase/functions-compat",h1="@firebase/installations",f1="@firebase/installations-compat",d1="@firebase/messaging",m1="@firebase/messaging-compat",p1="@firebase/performance",g1="@firebase/performance-compat",y1="@firebase/remote-config",v1="@firebase/remote-config-compat",_1="@firebase/storage",E1="@firebase/storage-compat",b1="@firebase/firestore",T1="@firebase/vertexai-preview",S1="@firebase/firestore-compat",A1="firebase",w1="10.14.1";const od="[DEFAULT]",x1={[ld]:"fire-core",[WA]:"fire-core-compat",[t1]:"fire-analytics",[e1]:"fire-analytics-compat",[i1]:"fire-app-check",[n1]:"fire-app-check-compat",[a1]:"fire-auth",[s1]:"fire-auth-compat",[r1]:"fire-rtdb",[l1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[u1]:"fire-fn",[c1]:"fire-fn-compat",[h1]:"fire-iid",[f1]:"fire-iid-compat",[d1]:"fire-fcm",[m1]:"fire-fcm-compat",[p1]:"fire-perf",[g1]:"fire-perf-compat",[y1]:"fire-rc",[v1]:"fire-rc-compat",[_1]:"fire-gcs",[E1]:"fire-gcs-compat",[b1]:"fire-fst",[S1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};const lc=new Map,R1=new Map,ud=new Map;function Tv(s,t){try{s.container.addComponent(t)}catch(i){Oi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function oc(s){const t=s.name;if(ud.has(t))return Oi.debug(`There were multiple attempts to register component ${t}.`),!1;ud.set(t,s);for(const i of lc.values())Tv(i,s);for(const i of R1.values())Tv(i,s);return!0}function N1(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new Q_("app","Firebase",C1);class D1{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}const j1=w1;function $_(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:od,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw ja.create("bad-app-name",{appName:String(o)});if(i||(i=G_()),!i)throw ja.create("no-options");const c=lc.get(o);if(c){if(ad(i,c.options)&&ad(r,c.config))return c;throw ja.create("duplicate-app",{appName:o})}const m=new VA(o);for(const y of ud.values())m.addComponent(y);const g=new D1(i,r,m);return lc.set(o,g),g}function I1(s=od){const t=lc.get(s);if(!t&&s===od&&G_())return $_();if(!t)throw ja.create("no-app",{appName:s});return t}function mr(s,t,i){var r;let o=(r=x1[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),m=t.match(/\s|\//);if(c||m){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&m&&g.push("and"),m&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}oc(new Yl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const M1="firebase-heartbeat-database",O1=1,Xl="firebase-heartbeat-store";let Gf=null;function Z_(){return Gf||(Gf=YA(M1,O1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ja.create("idb-open",{originalErrorMessage:s.message})})),Gf}async function V1(s){try{const i=(await Z_()).transaction(Xl),r=await i.objectStore(Xl).get(J_(s));return await i.done,r}catch(t){if(t instanceof Dr)Oi.warn(t.message);else{const i=ja.create("idb-get",{originalErrorMessage:t?.message});Oi.warn(i.message)}}}async function Sv(s,t){try{const r=(await Z_()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(t,J_(s)),await r.done}catch(i){if(i instanceof Dr)Oi.warn(i.message);else{const r=ja.create("idb-set",{originalErrorMessage:i?.message});Oi.warn(r.message)}}}function J_(s){return`${s.name}!${s.options.appId}`}const L1=1024,U1=720*60*60*1e3;class z1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new k1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Av();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(m=>m.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(m=>{const g=new Date(m.date).valueOf();return Date.now()-g<=U1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Oi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Av(),{heartbeatsToSend:r,unsentEntries:o}=B1(this._heartbeatsCache.heartbeats),c=sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Oi.warn(i),""}}}function Av(){return new Date().toISOString().substring(0,10)}function B1(s,t=L1){const i=[];let r=s.slice();for(const o of s){const c=i.find(m=>m.agent===o.agent);if(c){if(c.dates.push(o.date),wv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),wv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class k1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?NA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await V1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function wv(s){return sc(JSON.stringify({version:2,heartbeats:s})).length}function P1(s){oc(new Yl("platform-logger",t=>new ZA(t),"PRIVATE")),oc(new Yl("heartbeat",t=>new z1(t),"PRIVATE")),mr(ld,bv,s),mr(ld,bv,"esm2017"),mr("fire-js","")}P1("");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gs,W_;(function(){var s;function t(I,x){function R(){}R.prototype=x.prototype,I.D=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(L,z,B){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return x.prototype[z].apply(L,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,R){R||(R=0);var L=Array(16);if(typeof x=="string")for(var z=0;16>z;++z)L[z]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(z=0;16>z;++z)L[z]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],z=I.g[2];var B=I.g[3],w=x+(B^R&(z^B))+L[0]+3614090360&4294967295;x=R+(w<<7&4294967295|w>>>25),w=B+(z^x&(R^z))+L[1]+3905402710&4294967295,B=x+(w<<12&4294967295|w>>>20),w=z+(R^B&(x^R))+L[2]+606105819&4294967295,z=B+(w<<17&4294967295|w>>>15),w=R+(x^z&(B^x))+L[3]+3250441966&4294967295,R=z+(w<<22&4294967295|w>>>10),w=x+(B^R&(z^B))+L[4]+4118548399&4294967295,x=R+(w<<7&4294967295|w>>>25),w=B+(z^x&(R^z))+L[5]+1200080426&4294967295,B=x+(w<<12&4294967295|w>>>20),w=z+(R^B&(x^R))+L[6]+2821735955&4294967295,z=B+(w<<17&4294967295|w>>>15),w=R+(x^z&(B^x))+L[7]+4249261313&4294967295,R=z+(w<<22&4294967295|w>>>10),w=x+(B^R&(z^B))+L[8]+1770035416&4294967295,x=R+(w<<7&4294967295|w>>>25),w=B+(z^x&(R^z))+L[9]+2336552879&4294967295,B=x+(w<<12&4294967295|w>>>20),w=z+(R^B&(x^R))+L[10]+4294925233&4294967295,z=B+(w<<17&4294967295|w>>>15),w=R+(x^z&(B^x))+L[11]+2304563134&4294967295,R=z+(w<<22&4294967295|w>>>10),w=x+(B^R&(z^B))+L[12]+1804603682&4294967295,x=R+(w<<7&4294967295|w>>>25),w=B+(z^x&(R^z))+L[13]+4254626195&4294967295,B=x+(w<<12&4294967295|w>>>20),w=z+(R^B&(x^R))+L[14]+2792965006&4294967295,z=B+(w<<17&4294967295|w>>>15),w=R+(x^z&(B^x))+L[15]+1236535329&4294967295,R=z+(w<<22&4294967295|w>>>10),w=x+(z^B&(R^z))+L[1]+4129170786&4294967295,x=R+(w<<5&4294967295|w>>>27),w=B+(R^z&(x^R))+L[6]+3225465664&4294967295,B=x+(w<<9&4294967295|w>>>23),w=z+(x^R&(B^x))+L[11]+643717713&4294967295,z=B+(w<<14&4294967295|w>>>18),w=R+(B^x&(z^B))+L[0]+3921069994&4294967295,R=z+(w<<20&4294967295|w>>>12),w=x+(z^B&(R^z))+L[5]+3593408605&4294967295,x=R+(w<<5&4294967295|w>>>27),w=B+(R^z&(x^R))+L[10]+38016083&4294967295,B=x+(w<<9&4294967295|w>>>23),w=z+(x^R&(B^x))+L[15]+3634488961&4294967295,z=B+(w<<14&4294967295|w>>>18),w=R+(B^x&(z^B))+L[4]+3889429448&4294967295,R=z+(w<<20&4294967295|w>>>12),w=x+(z^B&(R^z))+L[9]+568446438&4294967295,x=R+(w<<5&4294967295|w>>>27),w=B+(R^z&(x^R))+L[14]+3275163606&4294967295,B=x+(w<<9&4294967295|w>>>23),w=z+(x^R&(B^x))+L[3]+4107603335&4294967295,z=B+(w<<14&4294967295|w>>>18),w=R+(B^x&(z^B))+L[8]+1163531501&4294967295,R=z+(w<<20&4294967295|w>>>12),w=x+(z^B&(R^z))+L[13]+2850285829&4294967295,x=R+(w<<5&4294967295|w>>>27),w=B+(R^z&(x^R))+L[2]+4243563512&4294967295,B=x+(w<<9&4294967295|w>>>23),w=z+(x^R&(B^x))+L[7]+1735328473&4294967295,z=B+(w<<14&4294967295|w>>>18),w=R+(B^x&(z^B))+L[12]+2368359562&4294967295,R=z+(w<<20&4294967295|w>>>12),w=x+(R^z^B)+L[5]+4294588738&4294967295,x=R+(w<<4&4294967295|w>>>28),w=B+(x^R^z)+L[8]+2272392833&4294967295,B=x+(w<<11&4294967295|w>>>21),w=z+(B^x^R)+L[11]+1839030562&4294967295,z=B+(w<<16&4294967295|w>>>16),w=R+(z^B^x)+L[14]+4259657740&4294967295,R=z+(w<<23&4294967295|w>>>9),w=x+(R^z^B)+L[1]+2763975236&4294967295,x=R+(w<<4&4294967295|w>>>28),w=B+(x^R^z)+L[4]+1272893353&4294967295,B=x+(w<<11&4294967295|w>>>21),w=z+(B^x^R)+L[7]+4139469664&4294967295,z=B+(w<<16&4294967295|w>>>16),w=R+(z^B^x)+L[10]+3200236656&4294967295,R=z+(w<<23&4294967295|w>>>9),w=x+(R^z^B)+L[13]+681279174&4294967295,x=R+(w<<4&4294967295|w>>>28),w=B+(x^R^z)+L[0]+3936430074&4294967295,B=x+(w<<11&4294967295|w>>>21),w=z+(B^x^R)+L[3]+3572445317&4294967295,z=B+(w<<16&4294967295|w>>>16),w=R+(z^B^x)+L[6]+76029189&4294967295,R=z+(w<<23&4294967295|w>>>9),w=x+(R^z^B)+L[9]+3654602809&4294967295,x=R+(w<<4&4294967295|w>>>28),w=B+(x^R^z)+L[12]+3873151461&4294967295,B=x+(w<<11&4294967295|w>>>21),w=z+(B^x^R)+L[15]+530742520&4294967295,z=B+(w<<16&4294967295|w>>>16),w=R+(z^B^x)+L[2]+3299628645&4294967295,R=z+(w<<23&4294967295|w>>>9),w=x+(z^(R|~B))+L[0]+4096336452&4294967295,x=R+(w<<6&4294967295|w>>>26),w=B+(R^(x|~z))+L[7]+1126891415&4294967295,B=x+(w<<10&4294967295|w>>>22),w=z+(x^(B|~R))+L[14]+2878612391&4294967295,z=B+(w<<15&4294967295|w>>>17),w=R+(B^(z|~x))+L[5]+4237533241&4294967295,R=z+(w<<21&4294967295|w>>>11),w=x+(z^(R|~B))+L[12]+1700485571&4294967295,x=R+(w<<6&4294967295|w>>>26),w=B+(R^(x|~z))+L[3]+2399980690&4294967295,B=x+(w<<10&4294967295|w>>>22),w=z+(x^(B|~R))+L[10]+4293915773&4294967295,z=B+(w<<15&4294967295|w>>>17),w=R+(B^(z|~x))+L[1]+2240044497&4294967295,R=z+(w<<21&4294967295|w>>>11),w=x+(z^(R|~B))+L[8]+1873313359&4294967295,x=R+(w<<6&4294967295|w>>>26),w=B+(R^(x|~z))+L[15]+4264355552&4294967295,B=x+(w<<10&4294967295|w>>>22),w=z+(x^(B|~R))+L[6]+2734768916&4294967295,z=B+(w<<15&4294967295|w>>>17),w=R+(B^(z|~x))+L[13]+1309151649&4294967295,R=z+(w<<21&4294967295|w>>>11),w=x+(z^(R|~B))+L[4]+4149444226&4294967295,x=R+(w<<6&4294967295|w>>>26),w=B+(R^(x|~z))+L[11]+3174756917&4294967295,B=x+(w<<10&4294967295|w>>>22),w=z+(x^(B|~R))+L[2]+718787259&4294967295,z=B+(w<<15&4294967295|w>>>17),w=R+(B^(z|~x))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(z+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+z&4294967295,I.g[3]=I.g[3]+B&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var R=x-this.blockSize,L=this.B,z=this.h,B=0;B<x;){if(z==0)for(;B<=R;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<x;)if(L[z++]=I.charCodeAt(B++),z==this.blockSize){o(this,L),z=0;break}}else for(;B<x;)if(L[z++]=I[B++],z==this.blockSize){o(this,L),z=0;break}}this.h=z,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var R=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=R&255,R/=256;for(this.u(I),I=Array(16),x=R=0;4>x;++x)for(var L=0;32>L;L+=8)I[R++]=this.g[x]>>>L&255;return I};function c(I,x){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function m(I,x){this.h=x;for(var R=[],L=!0,z=I.length-1;0<=z;z--){var B=I[z]|0;L&&B==x||(R[z]=B,L=!1)}this.g=R}var g={};function y(I){return-128<=I&&128>I?c(I,function(x){return new m([x|0],0>x?-1:0)}):new m([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(0>I)return C(v(-I));for(var x=[],R=1,L=0;I>=R;L++)x[L]=I/R|0,R*=4294967296;return new m(x,0)}function b(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return C(b(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(x,8)),L=S,z=0;z<I.length;z+=8){var B=Math.min(8,I.length-z),w=parseInt(I.substring(z,z+B),x);8>B?(B=v(Math.pow(x,B)),L=L.j(B).add(v(w))):(L=L.j(R),L=L.add(v(w)))}return L}var S=y(0),N=y(1),O=y(16777216);s=m.prototype,s.m=function(){if(Q(this))return-C(this).m();for(var I=0,x=1,R=0;R<this.g.length;R++){var L=this.i(R);I+=(0<=L?L:4294967296+L)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(Q(this))return"-"+C(this).toString(I);for(var x=v(Math.pow(I,6)),R=this,L="";;){var z=ye(R,x).g;R=X(R,z.j(x));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=z,M(R))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function Q(I){return I.h==-1}s.l=function(I){return I=X(this,I),Q(I)?-1:M(I)?0:1};function C(I){for(var x=I.g.length,R=[],L=0;L<x;L++)R[L]=~I.g[L];return new m(R,~I.h).add(N)}s.abs=function(){return Q(this)?C(this):this},s.add=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],L=0,z=0;z<=x;z++){var B=L+(this.i(z)&65535)+(I.i(z)&65535),w=(B>>>16)+(this.i(z)>>>16)+(I.i(z)>>>16);L=w>>>16,B&=65535,w&=65535,R[z]=w<<16|B}return new m(R,R[R.length-1]&-2147483648?-1:0)};function X(I,x){return I.add(C(x))}s.j=function(I){if(M(this)||M(I))return S;if(Q(this))return Q(I)?C(this).j(C(I)):C(C(this).j(I));if(Q(I))return C(this.j(C(I)));if(0>this.l(O)&&0>I.l(O))return v(this.m()*I.m());for(var x=this.g.length+I.g.length,R=[],L=0;L<2*x;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<I.g.length;z++){var B=this.i(L)>>>16,w=this.i(L)&65535,pe=I.i(z)>>>16,ke=I.i(z)&65535;R[2*L+2*z]+=w*ke,ie(R,2*L+2*z),R[2*L+2*z+1]+=B*ke,ie(R,2*L+2*z+1),R[2*L+2*z+1]+=w*pe,ie(R,2*L+2*z+1),R[2*L+2*z+2]+=B*pe,ie(R,2*L+2*z+2)}for(L=0;L<x;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=x;L<2*x;L++)R[L]=0;return new m(R,0)};function ie(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ne(I,x){this.g=I,this.h=x}function ye(I,x){if(M(x))throw Error("division by zero");if(M(I))return new ne(S,S);if(Q(I))return x=ye(C(I),x),new ne(C(x.g),C(x.h));if(Q(x))return x=ye(I,C(x)),new ne(C(x.g),x.h);if(30<I.g.length){if(Q(I)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=N,L=x;0>=L.l(I);)R=he(R),L=he(L);var z=be(R,1),B=be(L,1);for(L=be(L,2),R=be(R,2);!M(L);){var w=B.add(L);0>=w.l(I)&&(z=z.add(R),B=w),L=be(L,1),R=be(R,1)}return x=X(I,z.j(x)),new ne(z,x)}for(z=S;0<=I.l(x);){for(R=Math.max(1,Math.floor(I.m()/x.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=v(R),w=B.j(x);Q(w)||0<w.l(I);)R-=L,B=v(R),w=B.j(x);M(B)&&(B=N),z=z.add(B),I=X(I,w)}return new ne(z,I)}s.A=function(I){return ye(this,I).h},s.and=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],L=0;L<x;L++)R[L]=this.i(L)&I.i(L);return new m(R,this.h&I.h)},s.or=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],L=0;L<x;L++)R[L]=this.i(L)|I.i(L);return new m(R,this.h|I.h)},s.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],L=0;L<x;L++)R[L]=this.i(L)^I.i(L);return new m(R,this.h^I.h)};function he(I){for(var x=I.g.length+1,R=[],L=0;L<x;L++)R[L]=I.i(L)<<1|I.i(L-1)>>>31;return new m(R,I.h)}function be(I,x){var R=x>>5;x%=32;for(var L=I.g.length-R,z=[],B=0;B<L;B++)z[B]=0<x?I.i(B+R)>>>x|I.i(B+R+1)<<32-x:I.i(B+R);return new m(z,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,W_=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=v,m.fromString=b,gs=m}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var e0,kl,t0,Zu,cd,n0,i0,a0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,E){return u==Array.prototype||u==Object.prototype||(u[p]=E.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var p=0;p<u.length;++p){var E=u[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,p){if(p)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in E))break e;E=E[q]}u=u[u.length-1],A=E[u],p=p(A),p!=A&&p!=null&&t(E,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var E=0,A=!1,q={next:function(){if(!A&&E<u.length){var Y=E++;return{value:p(Y,u[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,E){return E})}});var m=m||{},g=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function b(u,p,E){return u.call.apply(u.bind,arguments)}function S(u,p,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),u.apply(p,q)}}return function(){return u.apply(p,arguments)}}function N(u,p,E){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:S,N.apply(null,arguments)}function O(u,p){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function M(u,p){function E(){}E.prototype=p.prototype,u.aa=p.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,q,Y){for(var le=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)le[Qe-2]=arguments[Qe];return p.prototype[q].apply(A,le)}}function Q(u){const p=u.length;if(0<p){const E=Array(p);for(let A=0;A<p;A++)E[A]=u[A];return E}return[]}function C(u,p){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(y(A)){const q=u.length||0,Y=A.length||0;u.length=q+Y;for(let le=0;le<Y;le++)u[q+le]=A[le]}else u.push(A)}}class X{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ie(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ye(u){return ye[" "](u),u}ye[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function be(u,p,E){for(const A in u)p.call(E,u[A],A,u)}function I(u,p){for(const E in u)p.call(void 0,u[E],E,u)}function x(u){const p={};for(const E in u)p[E]=u[E];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,p){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)u[E]=A[E];for(let Y=0;Y<R.length;Y++)E=R[Y],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function z(u){var p=1;u=u.split(":");const E=[];for(;0<p&&u.length;)E.push(u.shift()),p--;return u.length&&E.push(u.join(":")),E}function B(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Oe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class pe{constructor(){this.h=this.g=null}add(p,E){const A=ke.get();A.set(p,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ke=new X(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,Oe=new pe,Ve=()=>{const u=g.Promise.resolve(void 0);se=()=>{u.then(U)}};var U=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(E){B(E)}var p=ke;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ue=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};g.addEventListener("test",E,p),g.removeEventListener("test",E,p)}catch{}return u})();function oe(u,p){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(he){e:{try{ye(p.nodeName);var q=!0;break e}catch{}q=!1}q||(p=null)}}else E=="mouseover"?p=u.fromElement:E=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&oe.aa.h.call(this)}}M(oe,ae);var ve={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),It=0;function at(u,p,E,A,q){this.listener=u,this.proxy=null,this.src=p,this.type=E,this.capture=!!A,this.ha=q,this.key=++It,this.da=this.fa=!1}function qn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,p,E,A,q){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var le=Ts(u,p,A,q);return-1<le?(p=u[le],E||(p.fa=!1)):(p=new at(p,this.src,Y,!!A,q),p.fa=E,u.push(p)),p};function Ua(u,p){var E=p.type;if(E in u.g){var A=u.g[E],q=Array.prototype.indexOf.call(A,p,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(A,q,1),Y&&(qn(p),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Ts(u,p,E,A){for(var q=0;q<u.length;++q){var Y=u[q];if(!Y.da&&Y.listener==p&&Y.capture==!!E&&Y.ha==A)return q}return-1}var In="closure_lm_"+(1e6*Math.random()|0),za={};function Ss(u,p,E,A,q){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)Ss(u,p[Y],E,A,q);return null}return E=uo(E),u&&u[Re]?u.K(p,E,v(A)?!!A.capture:!1,q):Rc(u,p,E,!1,A,q)}function Rc(u,p,E,A,q,Y){if(!p)throw Error("Invalid event type");var le=v(q)?!!q.capture:!!q,Qe=Vr(u);if(Qe||(u[In]=Qe=new si(u)),E=Qe.add(p,E,A,le,Y),E.proxy)return E;if(A=oo(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)k||(q=le),q===void 0&&(q=!1),u.addEventListener(p.toString(),A,q);else if(u.attachEvent)u.attachEvent(ws(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function oo(){function u(E){return p.call(u.src,u.listener,E)}const p=Nc;return u}function As(u,p,E,A,q){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)As(u,p[Y],E,A,q);else A=v(A)?!!A.capture:!!A,E=uo(E),u&&u[Re]?(u=u.i,p=String(p).toString(),p in u.g&&(Y=u.g[p],E=Ts(Y,E,A,q),-1<E&&(qn(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete u.g[p],u.h--)))):u&&(u=Vr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ts(p,E,A,q)),(E=-1<u?p[u]:null)&&Ba(E))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Re])Ua(p.i,u);else{var E=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(E,A,u.capture):p.detachEvent?p.detachEvent(ws(E),A):p.addListener&&p.removeListener&&p.removeListener(A),(E=Vr(p))?(Ua(E,u),E.h==0&&(E.src=null,p[In]=null)):qn(u)}}}function ws(u){return u in za?za[u]:za[u]="on"+u}function Nc(u,p){if(u.da)u=!0;else{p=new oe(p,this);var E=u.listener,A=u.ha||u.src;u.fa&&Ba(u),u=E.call(A,p)}return u}function Vr(u){return u=u[In],u instanceof si?u:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(u){return typeof u=="function"?u:(u[Mt]||(u[Mt]=function(p){return u.handleEvent(p)}),u[Mt])}function St(){J.call(this),this.i=new si(this),this.M=this,this.F=null}M(St,J),St.prototype[Re]=!0,St.prototype.removeEventListener=function(u,p,E,A){As(this,u,p,E,A)};function xt(u,p){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new ae(p,u);else if(p instanceof ae)p.target=p.target||u;else{var q=p;p=new ae(A,u),L(p,q)}if(q=!0,E)for(var Y=E.length-1;0<=Y;Y--){var le=p.g=E[Y];q=ri(le,A,!0,p)&&q}if(le=p.g=u,q=ri(le,A,!0,p)&&q,q=ri(le,A,!1,p)&&q,E)for(Y=0;Y<E.length;Y++)le=p.g=E[Y],q=ri(le,A,!1,p)&&q}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var E=u.g[p],A=0;A<E.length;A++)qn(E[A]);delete u.g[p],u.h--}}this.F=null},St.prototype.K=function(u,p,E,A){return this.i.add(String(u),p,!1,E,A)},St.prototype.L=function(u,p,E,A){return this.i.add(String(u),p,!0,E,A)};function ri(u,p,E,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,Y=0;Y<p.length;++Y){var le=p[Y];if(le&&!le.da&&le.capture==E){var Qe=le.listener,gt=le.ha||le.src;le.fa&&Ua(u.i,le),q=Qe.call(gt,A)!==!1&&q}}return q&&!A.defaultPrevented}function co(u,p,E){if(typeof u=="function")E&&(u=N(u,E));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:g.setTimeout(u,p||0)}function Lr(u){u.g=co(()=>{u.g=null,u.i&&(u.i=!1,Lr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Cc extends J{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){J.call(this),this.h=u,this.g={}}M(ka,J);var Bi=[];function Ht(u){be(u.g,function(p,E){this.g.hasOwnProperty(E)&&Ba(p)},u),u.g={}}ka.prototype.N=function(){ka.aa.N.call(this),Ht(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=g.JSON.stringify,$t=g.JSON.parse,Dc=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ur(){}Ur.prototype.h=null;function ho(u){return u.h||(u.h=u.i())}function Pa(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ae.call(this,"d")}M(ki,ae);function Mn(){ae.call(this,"c")}M(Mn,ae);var En={},Pi=null;function xs(){return Pi=Pi||new St}En.La="serverreachability";function zr(u){ae.call(this,En.La,u)}M(zr,ae);function li(u){const p=xs();xt(p,new zr(p))}En.STAT_EVENT="statevent";function qi(u,p){ae.call(this,En.STAT_EVENT,u),this.stat=p}M(qi,ae);function Ot(u){const p=xs();xt(p,new qi(p,u))}En.Ma="timingevent";function Br(u,p){ae.call(this,En.Ma,u),this.size=p}M(Br,ae);function Hi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},p)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function kr(u,p,E,A,q,Y){u.info(function(){if(u.g)if(Y)for(var le="",Qe=Y.split("&"),gt=0;gt<Qe.length;gt++){var Ne=Qe[gt].split("=");if(1<Ne.length){var Nt=Ne[0];Ne=Ne[1];var Ct=Nt.split("_");le=2<=Ct.length&&Ct[1]=="type"?le+(Nt+"="+Ne+"&"):le+(Nt+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+p+`
`+E+`
`+le})}function Pr(u,p,E,A,q,Y,le){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+p+`
`+E+`
`+Y+" "+le})}function oi(u,p,E,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fn(u,E)+(A?" "+A:"")})}function fo(u,p){u.info(function(){return"TIMEOUT: "+p})}Fi.prototype.info=function(){};function Fn(u,p){if(!u.g)return p;if(!p)return null;try{var E=JSON.parse(p);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return _n(E)}catch{return p}}var rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Gi(){}M(Gi,Ur),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},Gn=new Gi;function Qn(u,p,E,A){this.j=u,this.i=p,this.l=E,this.R=A||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var qr={},ui={};function qa(u,p,E){u.L=1,u.v=Ga(lt(p)),u.m=E,u.P=!0,ci(u,null)}function ci(u,p){u.F=Date.now(),On(u),u.A=lt(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),di(E.i,"t",A),u.C=0,E=u.j.J,u.h=new mo,u.g=Do(u.j,E?p:null,!u.m),0<u.O&&(u.M=new Cc(N(u.Y,u,u.g),u.O)),p=u.U,E=u.g,A=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Bi[0]=q.toString()),q=Bi);for(var Y=0;Y<q.length;Y++){var le=Ss(E,q[Y],A||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),li(),kr(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Wt(u)==3?p.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=Wt(this.g);var p=this.g.Ba();const aa=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Ya(this.g)))){this.J||Ct!=4||p==7||(p==8||0>=aa?li(3):li(2)),Rs(this);var E=this.g.Z();this.X=E;t:if(hi(this)){var A=Ya(this.g);u="";var q=A.length,Y=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Qi(this);var le="";break t}this.h.i=new g.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(Y&&p==q-1)});A.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,Pr(this.i,this.u,this.A,this.l,this.R,Ct,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,gt=this.g;if((Qe=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Qe)){var Ne=Qe;break t}}Ne=null}if(E=Ne)oi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kn(this,E);else{this.o=!1,this.s=3,Ot(12),Zt(this),Qi(this);break e}}if(this.P){E=!0;let an;for(;!this.J&&this.C<le.length;)if(an=Ha(this,le),an==ui){Ct==4&&(this.s=4,Ot(14),E=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==qr){this.s=4,Ot(15),oi(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else oi(this.i,this.l,an,null),Kn(this,an);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||le.length!=0||this.h.h||(this.s=1,Ot(16),E=!1),this.o=this.o&&E,!E)oi(this.i,this.l,le,"[Invalid Chunked Response]"),Zt(this),Qi(this);else if(0<le.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Wr(Nt),Nt.M=!0,Ot(11))}}else oi(this.i,this.l,le,null),Kn(this,le);Ct==4&&Zt(this),this.o&&!this.J&&(Ct==4?Ro(this.j,this):(this.o=!1,On(this)))}else bo(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Zt(this),Qi(this)}}}catch{}finally{}};function hi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ha(u,p){var E=u.C,A=p.indexOf(`
`,E);return A==-1?ui:(E=Number(p.substring(E,A)),isNaN(E)?qr:(A+=1,A+E>p.length?ui:(p=p.slice(A,A+E),u.C=A+E,p)))}Qn.prototype.cancel=function(){this.J=!0,Zt(this)};function On(u){u.S=Date.now()+u.I,ht(u,u.I)}function ht(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Hi(N(u.ba,u),p)}function Rs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fo(this.i,this.A),this.L!=2&&(li(),Ot(17)),Zt(this),this.s=2,Qi(this)):ht(this,this.S-u)};function Qi(u){u.j.G==0||u.J||Ro(u.j,u)}function Zt(u){Rs(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ht(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Kn(u,p){try{var E=u.j;if(E.G!=0&&(E.g==u||Ki(E.h,u))){if(!u.K&&Ki(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)na(E),ta(E);else break e;Jr(E),Ot(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Hi(N(E.Za,E),6e3));if(1>=po(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else pi(E,11)}else if((u.K||E.g==u)&&na(E),!ie(p))for(q=E.Da.g.parse(p),p=0;p<q.length;p++){let Ne=q[p];if(E.T=Ne[0],Ne=Ne[1],E.G==2)if(Ne[0]=="c"){E.K=Ne[1],E.ia=Ne[2];const Nt=Ne[3];Nt!=null&&(E.la=Nt,E.j.info("VER="+E.la));const Ct=Ne[4];Ct!=null&&(E.Aa=Ct,E.j.info("SVER="+E.Aa));const aa=Ne[5];aa!=null&&typeof aa=="number"&&0<aa&&(A=1.5*aa,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const an=u.g;if(an){const Za=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var Y=A.h;Y.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yi(Y,Y.h),Y.h=null))}if(A.D){const gi=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;gi&&(A.ya=gi,Pe(A.I,A.D,gi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var le=u;if(A.qa=Co(A,A.J?A.ia:null,A.W),le.K){bn(A.h,le);var Qe=le,gt=A.L;gt&&(Qe.I=gt),Qe.B&&(Rs(Qe),On(Qe)),A.g=le}else wo(A);0<E.i.length&&Vs(E)}else Ne[0]!="stop"&&Ne[0]!="close"||pi(E,7);else E.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?pi(E,7):$r(E):Ne[0]!="noop"&&E.l&&E.l.ta(Ne),E.v=0)}}li(4)}catch{}}var jc=class{constructor(u,p){this.g=u,this.map=p}};function Hr(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function po(u){return u.h?1:u.g?u.g.size:0}function Ki(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Yi(u,p){u.g?u.g.add(p):u.h=p}function bn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Hr.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const E of u.g.values())p=p.concat(E.D);return p}return Q(u.i)}function go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],E=u.length,A=0;A<E;A++)p.push(u[A]);return p}p=[],E=0;for(A in u)p[E++]=u[A];return p}function Ic(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var E=0;E<u;E++)p.push(E);return p}p=[],E=0;for(const A in u)p[E++]=A;return p}}}function Ns(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var E=Ic(u),A=go(u),q=A.length,Y=0;Y<q;Y++)p.call(void 0,A[Y],E&&E[Y],u)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(u,p){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),q=null;if(0<=A){var Y=u[E].substring(0,A);q=u[E].substring(A+1)}else Y=u[E];p(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function fi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fi){this.h=u.h,Xi(this,u.j),this.o=u.o,this.g=u.g,Fa(this,u.s),this.l=u.l;var p=u.i,E=new Yn;E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),Ds(this,E),this.m=u.m}else u&&(p=String(u).match(Gr))?(this.h=!1,Xi(this,p[1]||"",!0),this.o=$i(p[2]||""),this.g=$i(p[3]||"",!0),Fa(this,p[4]),this.l=$i(p[5]||"",!0),Ds(this,p[6]||"",!0),this.m=$i(p[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}fi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Tn(p,Qr,!0),":");var E=this.g;return(E||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Tn(p,Qr,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Tn(E,E.charAt(0)=="/"?Kr:yo,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Tn(E,Vc)),u.join("")};function lt(u){return new fi(u)}function Xi(u,p,E){u.j=E?$i(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Fa(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ds(u,p,E){p instanceof Yn?(u.i=p,vo(u.i,u.h)):(E||(p=Tn(p,Oc)),u.i=new Yn(p,u.h))}function Pe(u,p,E){u.i.set(p,E)}function Ga(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $i(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tn(u,p,E){return typeof u=="string"?(u=encodeURI(u).replace(p,Mc),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qr=/[#\/\?@]/g,yo=/[#\?:]/g,Kr=/[#\?]/g,Oc=/[#\?@]/g,Vc=/#/g;function Yn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&Cs(u.i,function(p,E){u.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}s=Yn.prototype,s.add=function(u,p){Rt(this),this.i=null,u=cn(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(p),this.h+=1,this};function js(u,p){Rt(u),p=cn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Is(u,p){return Rt(u),p=cn(u,p),u.g.has(p)}s.forEach=function(u,p){Rt(this),this.g.forEach(function(E,A){E.forEach(function(q){u.call(p,q,A,this)},this)},this)},s.na=function(){Rt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),E=[];for(let A=0;A<p.length;A++){const q=u[A];for(let Y=0;Y<q.length;Y++)E.push(p[A])}return E},s.V=function(u){Rt(this);let p=[];if(typeof u=="string")Is(this,u)&&(p=p.concat(this.g.get(cn(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)p=p.concat(u[E])}return p},s.set=function(u,p){return Rt(this),this.i=null,u=cn(this,u),Is(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function di(u,p,E){js(u,p),0<E.length&&(u.i=null,u.g.set(cn(u,p),Q(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var E=0;E<p.length;E++){var A=p[E];const Y=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var q=Y;le[A]!==""&&(q+="="+encodeURIComponent(String(le[A]))),u.push(q)}}return this.i=u.join("&")};function cn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function vo(u,p){p&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(E,A){var q=A.toLowerCase();A!=q&&(js(this,A),di(this,q,E))},u)),u.j=p}function Yr(u,p){const E=new Fi;if(g.Image){const A=new Image;A.onload=O(nn,E,"TestLoadImage: loaded",!0,p,A),A.onerror=O(nn,E,"TestLoadImage: error",!1,p,A),A.onabort=O(nn,E,"TestLoadImage: abort",!1,p,A),A.ontimeout=O(nn,E,"TestLoadImage: timeout",!1,p,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function _o(u,p){const E=new Fi,A=new AbortController,q=setTimeout(()=>{A.abort(),nn(E,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(q),Y.ok?nn(E,"TestPingServer: ok",!0,p):nn(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),nn(E,"TestPingServer: error",!1,p)})}function nn(u,p,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Vn(){this.g=new Dc}function Xr(u,p,E){const A=E||"";try{Ns(u,function(q,Y){let le=q;v(q)&&(le=_n(q)),p.push(A+Y+"="+encodeURIComponent(le))})}catch(q){throw p.push(A+"type="+encodeURIComponent("_badmap")),q}}function Xn(u){this.l=u.Ub||null,this.j=u.eb||!1}M(Xn,Ur),Xn.prototype.g=function(){return new hn(this.l,this.j)},Xn.prototype.i=(function(u){return function(){return u}})({});function hn(u,p){St.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(hn,St),s=hn.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Zi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||g).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ms(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ms(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?$n(this):Zi(this),this.readyState==3&&Ms(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},s.Qa=function(u){this.g&&(this.response=u,$n(this))},s.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zi(u)}s.setRequestHeader=function(u,p){this.u.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=p.next();return u.join(`\r
`)};function Zi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qa(u){let p="";return be(u,function(E,A){p+=A,p+=":",p+=E,p+=`\r
`}),p}function Ji(u,p,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Qa(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Pe(u,p,E))}function We(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(We,St);var Ft=/^https?$/i,mi=["POST","PUT"];s=We.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,p,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?ho(this.o):ho(Gn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Y){Ka(this,Y);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(mi,p,void 0))||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Ka(this,Y)}};function Ka(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Wi(u),ea(u)}function Wi(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,xt(this,"complete"),xt(this,"abort"),ea(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ea(this,!0)),We.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Eo(this):this.bb())},s.bb=function(){Eo(this)};function Eo(u){if(u.h&&typeof m<"u"&&(!u.v[1]||Wt(u)!=4||u.Z()!=2)){if(u.u&&Wt(u)==4)co(u.Ea,0,u);else if(xt(u,"readystatechange"),Wt(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var A;if(A=le===0){var q=String(u.D).match(Gr)[1]||null;!q&&g.self&&g.self.location&&(q=g.self.location.protocol.slice(0,-1)),A=!Ft.test(q?q.toLowerCase():"")}E=A}if(E)xt(u,"complete"),xt(u,"success");else{u.m=6;try{var Y=2<Wt(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Wi(u)}}finally{ea(u)}}}}function ea(u,p){if(u.g){Os(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||xt(u,"ready");try{E.onreadystatechange=A}catch{}}}function Os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Wt(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),$t(p)}};function Ya(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(u){const p={};u=(u.g&&2<=Wt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ie(u[A]))continue;var E=z(u[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=p[q]||[];p[q]=Y,Y.push(E)}I(p,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(u,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||p}function To(u){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,u),this.cb=Xa("retryDelaySeedMs",1e4,u),this.Wa=Xa("forwardChannelMaxRetries",2,u),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(u&&u.concurrentRequestLimit),this.Da=new Vn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=To.prototype,s.la=8,s.G=1,s.connect=function(u,p,E,A){Ot(0),this.W=u,this.H=p||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Co(this,null,this.W),Vs(this)};function $r(u){if(So(u),u.G==3){var p=u.U++,E=lt(u.I);if(Pe(E,"SID",u.K),Pe(E,"RID",p),Pe(E,"TYPE","terminate"),$a(u,E),p=new Qn(u,u.j,p),p.L=2,p.v=Ga(lt(E)),E=!1,g.navigator&&g.navigator.sendBeacon)try{E=g.navigator.sendBeacon(p.v.toString(),"")}catch{}!E&&g.Image&&(new Image().src=p.v,E=!0),E||(p.g=Do(p.j,null),p.g.ea(p.v)),p.F=Date.now(),On(p)}el(u)}function ta(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function So(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Vs(u){if(!Fr(u.h)&&!u.s){u.s=!0;var p=u.Ga;se||Ve(),ue||(se(),ue=!0),Oe.add(p,u),u.B=0}}function Lc(u,p){return po(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Hi(N(u.Ga,u,p),No(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Qn(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=x(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Zr(this,q,p),E=lt(this.I),Pe(E,"RID",u),Pe(E,"CVER",22),this.D&&Pe(E,"X-HTTP-Session-Id",this.D),$a(this,E),Y&&(this.O?p="headers="+encodeURIComponent(String(Qa(Y)))+"&"+p:this.m&&Ji(E,this.m,Y)),Yi(this.h,q),this.Ua&&Pe(E,"TYPE","init"),this.P?(Pe(E,"$req",p),Pe(E,"SID","null"),q.T=!0,qa(q,E,null)):qa(q,E,p),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Fr(this.h)||Ao(this))};function Ao(u,p){var E;p?E=p.l:E=u.U++;const A=lt(u.I);Pe(A,"SID",u.K),Pe(A,"RID",E),Pe(A,"AID",u.T),$a(u,A),u.m&&u.o&&Ji(A,u.m,u.o),E=new Qn(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Zr(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Yi(u.h,E),qa(E,A,p)}function $a(u,p){u.H&&be(u.H,function(E,A){Pe(p,A,E)}),u.l&&Ns({},function(E,A){Pe(p,A,E)})}function Zr(u,p,E){E=Math.min(u.i.length,E);var A=u.l?N(u.l.Na,u.l,u):null;e:{var q=u.i;let Y=-1;for(;;){const le=["count="+E];Y==-1?0<E?(Y=q[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let Qe=!0;for(let gt=0;gt<E;gt++){let Ne=q[gt].g;const Nt=q[gt].map;if(Ne-=Y,0>Ne)Y=Math.max(0,q[gt].g-100),Qe=!1;else try{Xr(Nt,le,"req"+Ne+"_")}catch{A&&A(Nt)}}if(Qe){A=le.join("&");break e}}}return u=u.i.splice(0,E),p.D=u,A}function wo(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;se||Ve(),ue||(se(),ue=!0),Oe.add(p,u),u.v=0}}function Jr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Hi(N(u.Fa,u),No(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Hi(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),ta(this),xo(this))};function Wr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=lt(u.qa);Pe(p,"RID","rpc"),Pe(p,"SID",u.K),Pe(p,"AID",u.T),Pe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(p,"TO",u.ja),Pe(p,"TYPE","xmlhttp"),$a(u,p),u.m&&u.o&&Ji(p,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Ga(lt(p)),E.m=null,E.P=!0,ci(E,u)}s.Za=function(){this.C!=null&&(this.C=null,ta(this),Jr(this),Ot(19))};function na(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ro(u,p){var E=null;if(u.g==p){na(u),Wr(u),u.g=null;var A=2}else if(Ki(u.h,p))E=p.D,bn(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){E=p.m?p.m.length:0,p=Date.now()-p.F;var q=u.B;A=xs(),xt(A,new Br(A,E)),Vs(u)}else wo(u);else if(q=p.s,q==3||q==0&&0<p.X||!(A==1&&Lc(u,p)||A==2&&Jr(u)))switch(E&&0<E.length&&(p=u.h,p.i=p.i.concat(E)),q){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function No(u,p){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*p}function pi(u,p){if(u.j.info("Error code "+p),p==2){var E=N(u.fb,u),A=u.Xa;const q=!A;A=new fi(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(A,"https"),Ga(A),q?Yr(A.toString(),E):_o(A.toString(),E)}else Ot(2);u.G=0,u.l&&u.l.sa(p),el(u),So(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function el(u){if(u.G=0,u.ka=[],u.l){const p=Jt(u.h);(p.length!=0||u.i.length!=0)&&(C(u.ka,p),C(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function Co(u,p,E){var A=E instanceof fi?lt(E):new fi(E);if(A.g!="")p&&(A.g=p+"."+A.g),Fa(A,A.s);else{var q=g.location;A=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var Y=new fi(null);A&&Xi(Y,A),p&&(Y.g=p),q&&Fa(Y,q),E&&(Y.l=E),A=Y}return E=u.D,p=u.ya,E&&p&&Pe(A,E,p),Pe(A,"VER",u.la),$a(u,A),A}function Do(u,p,E){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new We(new Xn({eb:E})):new We(u.pa),p.Ha(u.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}s=jo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ls(){}Ls.prototype.g=function(u,p){return new en(u,p)};function en(u,p){St.call(this),this.g=new To(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ie(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ie(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ia(this)}M(en,St),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){$r(this.g)},en.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=_n(u),u=E);p.i.push(new jc(p.Ya++,u)),p.G==3&&Vs(p)},en.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,en.aa.N.call(this)};function Io(u){ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const E in p){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}M(Io,ki);function Mo(){Mn.call(this),this.status=1}M(Mo,Mn);function ia(u){this.g=u}M(ia,jo),ia.prototype.ua=function(){xt(this.g,"a")},ia.prototype.ta=function(u){xt(this.g,new Io(u))},ia.prototype.sa=function(u){xt(this.g,new Mo)},ia.prototype.ra=function(){xt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,a0=function(){return new Ls},i0=function(){return xs()},n0=En,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,Zu=rt,Vt.COMPLETE="complete",t0=Vt,Pa.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",St.prototype.listen=St.prototype.K,kl=Pa,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,e0=We}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore";class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");let jr="10.14.0";const _s=new K_("@firebase/firestore");function Bl(){return _s.logLevel}function de(s,...t){if(_s.logLevel<=ze.DEBUG){const i=t.map(kd);_s.debug(`Firestore (${jr}): ${s}`,...i)}}function Vi(s,...t){if(_s.logLevel<=ze.ERROR){const i=t.map(kd);_s.error(`Firestore (${jr}): ${s}`,...i)}}function Er(s,...t){if(_s.logLevel<=ze.WARN){const i=t.map(kd);_s.warn(`Firestore (${jr}): ${s}`,...i)}}function kd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s="Unexpected state"){const t=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: `+s;throw Vi(t),new Error(t)}function ct(s,t){s||we()}function Ue(s,t){return s}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Dr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class s0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Kt.UNAUTHENTICATED)))}shutdown(){}}class H1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class F1{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ct(this.o===void 0);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,t.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),m()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new s0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ct(t===null||typeof t=="string"),new Kt(t)}}class G1{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Q1{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new G1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y1{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){ct(this.o===void 0);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const m=c.token!==this.R;return this.R=c.token,de("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ct(typeof i.token=="string"),this.R=i.token,new K1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=X1(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=t.charAt(o[c]%t.length))}return r}}function Ge(s,t){return s<t?-1:s>t?1:0}function br(s,t,i){return s.length===t.length&&s.every(((r,o)=>i(r,t[o])))}class wt{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wt.fromMillis(Date.now())}static fromDate(t){return wt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*i));return new wt(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Se(t)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $l{constructor(t,i,r){i===void 0?i=0:i>t.length&&we(),r===void 0?r=t.length-i:r>t.length-i&&we(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return $l.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof $l?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const c=t.get(o),m=i.get(o);if(c<m)return-1;if(c>m)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class st extends $l{construct(t,i,r){return new st(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const Z1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends $l{construct(t,i,r){return new Xt(t,i,r)}static isValidIdentifier(t){return Z1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(t){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let m=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else g==="`"?(m=!m,o++):g!=="."||m?(r+=g,o++):(c(),o++)}if(c(),m)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xt(i)}static emptyPath(){return new Xt([])}}class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(st.fromString(t))}static fromName(t){return new Ee(st.fromString(t).popFirst(5))}static empty(){return new Ee(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&st.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return st.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new st(t.slice()))}}function J1(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new wt(i+1,0):new wt(i,r));return new Ia(o,Ee.empty(),t)}function W1(s){return new Ia(s.readTime,s.key,-1)}class Ia{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ia(Se.min(),Ee.empty(),-1)}static max(){return new Ia(Se.max(),Ee.empty(),-1)}}function ew(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=Ee.comparator(s.documentKey,t.documentKey),i!==0?i:Ge(s.largestBatchId,t.largestBatchId))}const tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Pd(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==tw)throw s;de("LocalStore","Unexpectedly lost primary lease")}class te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof te?i:te.resolve(i)}catch(i){return te.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):te.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):te.reject(i)}static resolve(t){return new te(((i,r)=>{i(t)}))}static reject(t){return new te(((i,r)=>{r(t)}))}static waitFor(t){return new te(((i,r)=>{let o=0,c=0,m=!1;t.forEach((g=>{++o,g.next((()=>{++c,m&&c===o&&i()}),(y=>r(y)))})),m=!0,c===o&&i()}))}static or(t){let i=te.resolve(!1);for(const r of t)i=i.next((o=>o?te.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(t,i){return new te(((r,o)=>{const c=t.length,m=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((b=>{m[v]=b,++g,g===c&&r(m)}),(b=>o(b)))}}))}static doWhile(t,i){return new te(((r,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):r()};c()}))}}function iw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(s){return s.name==="IndexedDbTransactionError"}class qd{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}qd.oe=-1;function vc(s){return s==null}function uc(s){return s===0&&1/s==-1/0}function aw(s){return typeof s=="number"&&Number.isInteger(s)&&!uc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Nv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ao(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function r0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pt{constructor(t,i){this.comparator=t,this.root=i||kt.EMPTY}insert(t,i){return new pt(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(t){return new pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kt.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fu(this.root,t,this.comparator,!0)}}class Fu{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kt{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??kt.RED,this.left=o??kt.EMPTY,this.right=c??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,c){return new kt(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const t=this.left.check();if(t!==this.right.check())throw we();return t+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(t,i,r,o,c){return this}insert(t,i,r){return new kt(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(t){this.comparator=t,this.data=new pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Pt)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Pt(this.comparator);return i.data=t,i}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Na{constructor(t){this.fields=t,t.sort(Xt.comparator)}static empty(){return new Na([])}unionWith(t){let i=new Pt(Xt.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Na(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return br(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qt{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new l0("Invalid base64 string: "+c):c}})(t);return new qt(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let m=0;m<o.length;++m)c+=String.fromCharCode(o[m]);return c})(t);return new qt(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(s){if(ct(!!s),typeof s=="string"){let t=0;const i=sw.exec(s);if(ct(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mt(s.seconds),nanos:mt(s.nanos)}}function mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Es(s){return typeof s=="string"?qt.fromBase64String(s):qt.fromUint8Array(s)}function Hd(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Fd(s){const t=s.mapValue.fields.__previous_value__;return Hd(t)?Fd(t):t}function Zl(s){const t=Ma(s.mapValue.fields.__local_write_time__.timestampValue);return new wt(t.seconds,t.nanos)}class rw{constructor(t,i,r,o,c,m,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=m,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v}}class Jl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Jl&&t.projectId===this.projectId&&t.database===this.database}}const Gu={mapValue:{}};function bs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hd(s)?4:ow(s)?9007199254740991:lw(s)?10:11:we()}function ii(s,t){if(s===t)return!0;const i=bs(s);if(i!==bs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Zl(s).isEqual(Zl(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const m=Ma(o.timestampValue),g=Ma(c.timestampValue);return m.seconds===g.seconds&&m.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return Es(o.bytesValue).isEqual(Es(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return mt(o.geoPointValue.latitude)===mt(c.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return mt(o.integerValue)===mt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const m=mt(o.doubleValue),g=mt(c.doubleValue);return m===g?uc(m)===uc(g):isNaN(m)&&isNaN(g)}return!1})(s,t);case 9:return br(s.arrayValue.values||[],t.arrayValue.values||[],ii);case 10:case 11:return(function(o,c){const m=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Nv(m)!==Nv(g))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(g[y]===void 0||!ii(m[y],g[y])))return!1;return!0})(s,t);default:return we()}}function Wl(s,t){return(s.values||[]).find((i=>ii(i,t)))!==void 0}function Tr(s,t){if(s===t)return 0;const i=bs(s),r=bs(t);if(i!==r)return Ge(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,t.booleanValue);case 2:return(function(c,m){const g=mt(c.integerValue||c.doubleValue),y=mt(m.integerValue||m.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Dv(s.timestampValue,t.timestampValue);case 4:return Dv(Zl(s),Zl(t));case 5:return Ge(s.stringValue,t.stringValue);case 6:return(function(c,m){const g=Es(c),y=Es(m);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,m){const g=c.split("/"),y=m.split("/");for(let v=0;v<g.length&&v<y.length;v++){const b=Ge(g[v],y[v]);if(b!==0)return b}return Ge(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,m){const g=Ge(mt(c.latitude),mt(m.latitude));return g!==0?g:Ge(mt(c.longitude),mt(m.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return jv(s.arrayValue,t.arrayValue);case 10:return(function(c,m){var g,y,v,b;const S=c.fields||{},N=m.fields||{},O=(g=S.value)===null||g===void 0?void 0:g.arrayValue,M=(y=N.value)===null||y===void 0?void 0:y.arrayValue,Q=Ge(((v=O?.values)===null||v===void 0?void 0:v.length)||0,((b=M?.values)===null||b===void 0?void 0:b.length)||0);return Q!==0?Q:jv(O,M)})(s.mapValue,t.mapValue);case 11:return(function(c,m){if(c===Gu.mapValue&&m===Gu.mapValue)return 0;if(c===Gu.mapValue)return 1;if(m===Gu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=m.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const N=Ge(y[S],b[S]);if(N!==0)return N;const O=Tr(g[y[S]],v[b[S]]);if(O!==0)return O}return Ge(y.length,b.length)})(s.mapValue,t.mapValue);default:throw we()}}function Dv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ge(s,t);const i=Ma(s),r=Ma(t),o=Ge(i.seconds,r.seconds);return o!==0?o:Ge(i.nanos,r.nanos)}function jv(s,t){const i=s.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Tr(i[o],r[o]);if(c)return c}return Ge(i.length,r.length)}function Sr(s){return hd(s)}function hd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ma(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Es(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ee.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=hd(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const m of r)c?c=!1:o+=",",o+=`${m}:${hd(i.fields[m])}`;return o+"}"})(s.mapValue):we()}function Iv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function fd(s){return!!s&&"integerValue"in s}function Gd(s){return!!s&&"arrayValue"in s}function Mv(s){return!!s&&"nullValue"in s}function Ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qf(s){return!!s&&"mapValue"in s}function lw(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Hl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return ao(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Hl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function ow(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class ti{constructor(t){this.value=t}static empty(){return new ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Qf(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(i)}setAll(t){let i=Xt.emptyPath(),r={},o=[];t.forEach(((m,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=g.popLast()}m?r[g.lastSegment()]=Hl(m):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(t){const i=this.field(t.popLast());Qf(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){ao(i,((o,c)=>t[o]=c));for(const o of r)delete t[o]}clone(){return new ti(Hl(this.value))}}class Yt{constructor(t,i,r,o,c,m,g){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=m,this.documentState=g}static newInvalidDocument(t){return new Yt(t,0,Se.min(),Se.min(),Se.min(),ti.empty(),0)}static newFoundDocument(t,i,r,o){return new Yt(t,1,i,Se.min(),r,o,0)}static newNoDocument(t,i){return new Yt(t,2,i,Se.min(),Se.min(),ti.empty(),0)}static newUnknownDocument(t,i){return new Yt(t,3,i,Se.min(),Se.min(),ti.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cc{constructor(t,i){this.position=t,this.inclusive=i}}function Vv(s,t,i){let r=0;for(let o=0;o<s.position.length;o++){const c=t[o],m=s.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(m.referenceValue),i.key):r=Tr(m,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],t.position[i]))return!1;return!0}class eo{constructor(t,i="asc"){this.field=t,this.dir=i}}function uw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class o0{}class Tt extends o0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new hw(t,i,r):i==="array-contains"?new mw(t,r):i==="in"?new pw(t,r):i==="not-in"?new gw(t,r):i==="array-contains-any"?new yw(t,r):new Tt(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new fw(t,r):new dw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Tr(i,this.value)):i!==null&&bs(this.value)===bs(i)&&this.matchesComparison(Tr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends o0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new kn(t,i)}matches(t){return u0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function u0(s){return s.op==="and"}function c0(s){return cw(s)&&u0(s)}function cw(s){for(const t of s.filters)if(t instanceof kn)return!1;return!0}function dd(s){if(s instanceof Tt)return s.field.canonicalString()+s.op.toString()+Sr(s.value);if(c0(s))return s.filters.map((t=>dd(t))).join(",");{const t=s.filters.map((i=>dd(i))).join(",");return`${s.op}(${t})`}}function h0(s,t){return s instanceof Tt?(function(r,o){return o instanceof Tt&&r.op===o.op&&r.field.isEqual(o.field)&&ii(r.value,o.value)})(s,t):s instanceof kn?(function(r,o){return o instanceof kn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,m,g)=>c&&h0(m,o.filters[g])),!0):!1})(s,t):void we()}function f0(s){return s instanceof Tt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sr(i.value)}`})(s):s instanceof kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(f0).join(" ,")+"}"})(s):"Filter"}class hw extends Tt{constructor(t,i,r){super(t,i,r),this.key=Ee.fromName(r.referenceValue)}matches(t){const i=Ee.comparator(t.key,this.key);return this.matchesComparison(i)}}class fw extends Tt{constructor(t,i){super(t,"in",i),this.keys=d0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class dw extends Tt{constructor(t,i){super(t,"not-in",i),this.keys=d0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function d0(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class mw extends Tt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gd(i)&&Wl(i.arrayValue,this.value)}}class pw extends Tt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class gw extends Tt{constructor(t,i){super(t,"not-in",i)}matches(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Wl(this.value.arrayValue,i)}}class yw extends Tt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class vw{constructor(t,i=null,r=[],o=[],c=null,m=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=m,this.endAt=g,this.ue=null}}function Uv(s,t=null,i=[],r=[],o=null,c=null,m=null){return new vw(s,t,i,r,o,c,m)}function Qd(s){const t=Ue(s);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Sr(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Sr(r))).join(",")),t.ue=i}return t.ue}function Kd(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!uw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!h0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Lv(s.startAt,t.startAt)&&Lv(s.endAt,t.endAt)}function md(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ir{constructor(t,i=null,r=[],o=[],c=null,m="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=m,this.startAt=g,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _w(s,t,i,r,o,c,m,g){return new Ir(s,t,i,r,o,c,m,g)}function m0(s){return new Ir(s)}function zv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function p0(s){return s.collectionGroup!==null}function Fl(s){const t=Ue(s);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let g=new Pt(Xt.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new eo(c,r))})),i.has(Xt.keyField().canonicalString())||t.ce.push(new eo(Xt.keyField(),r))}return t.ce}function ni(s){const t=Ue(s);return t.le||(t.le=Ew(t,Fl(s))),t.le}function Ew(s,t){if(s.limitType==="F")return Uv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eo(o.field,c)}));const i=s.endAt?new cc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new cc(s.startAt.position,s.startAt.inclusive):null;return Uv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function pd(s,t){const i=s.filters.concat([t]);return new Ir(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function hc(s,t,i){return new Ir(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _c(s,t){return Kd(ni(s),ni(t))&&s.limitType===t.limitType}function g0(s){return`${Qd(ni(s))}|lt:${s.limitType}`}function hr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>f0(o))).join(", ")}]`),vc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Sr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Sr(o))).join(",")),`Target(${r})`})(ni(s))}; limitType=${s.limitType})`}function Ec(s,t){return t.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,o){for(const c of Fl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(m,g,y){const v=Vv(m,g,y);return m.inclusive?v<=0:v<0})(r.startAt,Fl(r),o)||r.endAt&&!(function(m,g,y){const v=Vv(m,g,y);return m.inclusive?v>=0:v>0})(r.endAt,Fl(r),o))})(s,t)}function bw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function y0(s){return(t,i)=>{let r=!1;for(const o of Fl(s)){const c=Tw(o,t,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Tw(s,t,i){const r=s.field.isKeyField()?Ee.comparator(t.key,i.key):(function(c,m,g){const y=m.data.field(c),v=g.data.field(c);return y!==null&&v!==null?Tr(y,v):we()})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}class Mr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ao(this.inner,((i,r)=>{for(const[o,c]of r)t(o,c)}))}isEmpty(){return r0(this.inner)}size(){return this.innerSize}}const Sw=new pt(Ee.comparator);function Oa(){return Sw}const v0=new pt(Ee.comparator);function Pl(...s){let t=v0;for(const i of s)t=t.insert(i.key,i);return t}function Aw(s){let t=v0;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ms(){return Gl()}function _0(){return Gl()}function Gl(){return new Mr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ww=new Pt(Ee.comparator);function Be(...s){let t=ww;for(const i of s)t=t.add(i);return t}const xw=new Pt(Ge);function Rw(){return xw}function Yd(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(t)?"-0":t}}function E0(s){return{integerValue:""+s}}function Nw(s,t){return aw(t)?E0(t):Yd(s,t)}class bc{constructor(){this._=void 0}}function Cw(s,t,i){return s instanceof gd?(function(o,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hd(c)&&(c=Fd(c)),c&&(m.fields.__previous_value__=c),{mapValue:m}})(i,t):s instanceof fc?b0(s,t):s instanceof dc?T0(s,t):(function(o,c){const m=jw(o,c),g=Bv(m)+Bv(o.Pe);return fd(m)&&fd(o.Pe)?E0(g):Yd(o.serializer,g)})(s,t)}function Dw(s,t,i){return s instanceof fc?b0(s,t):s instanceof dc?T0(s,t):i}function jw(s,t){return s instanceof yd?(function(r){return fd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class gd extends bc{}class fc extends bc{constructor(t){super(),this.elements=t}}function b0(s,t){const i=S0(t);for(const r of s.elements)i.some((o=>ii(o,r)))||i.push(r);return{arrayValue:{values:i}}}class dc extends bc{constructor(t){super(),this.elements=t}}function T0(s,t){let i=S0(t);for(const r of s.elements)i=i.filter((o=>!ii(o,r)));return{arrayValue:{values:i}}}class yd extends bc{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Bv(s){return mt(s.integerValue||s.doubleValue)}function S0(s){return Gd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Iw(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof fc&&o instanceof fc||r instanceof dc&&o instanceof dc?br(r.elements,o.elements,ii):r instanceof yd&&o instanceof yd?ii(r.Pe,o.Pe):r instanceof gd&&o instanceof gd})(s.transform,t.transform)}class vs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ju(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Xd{}function A0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Ow(s.key,vs.none()):new $d(s.key,s.data,vs.none());{const i=s.data,r=ti.empty();let o=new Pt(Xt.comparator);for(let c of t.fields)if(!o.has(c)){let m=i.field(c);m===null&&c.length>1&&(c=c.popLast(),m=i.field(c)),m===null?r.delete(c):r.set(c,m),o=o.add(c)}return new Tc(s.key,r,new Na(o.toArray()),vs.none())}}function Mw(s,t,i){s instanceof $d?(function(o,c,m){const g=o.value.clone(),y=Pv(o.fieldTransforms,c,m.transformResults);g.setAll(y),c.convertToFoundDocument(m.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Tc?(function(o,c,m){if(!Ju(o.precondition,c))return void c.convertToUnknownDocument(m.version);const g=Pv(o.fieldTransforms,c,m.transformResults),y=c.data;y.setAll(w0(o)),y.setAll(g),c.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,t,i):(function(o,c,m){c.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,i)}function Ql(s,t,i,r){return s instanceof $d?(function(c,m,g,y){if(!Ju(c.precondition,m))return g;const v=c.value.clone(),b=qv(c.fieldTransforms,y,m);return v.setAll(b),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),null})(s,t,i,r):s instanceof Tc?(function(c,m,g,y){if(!Ju(c.precondition,m))return g;const v=qv(c.fieldTransforms,y,m),b=m.data;return b.setAll(w0(c)),b.setAll(v),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,m,g){return Ju(c.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):g})(s,t,i)}function kv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&br(r,o,((c,m)=>Iw(c,m)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class $d extends Xd{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tc extends Xd{constructor(t,i,r,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function w0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Pv(s,t,i){const r=new Map;ct(s.length===i.length);for(let o=0;o<i.length;o++){const c=s[o],m=c.transform,g=t.data.field(c.field);r.set(c.field,Dw(m,g,i[o]))}return r}function qv(s,t,i){const r=new Map;for(const o of s){const c=o.transform,m=i.data.field(o.field);r.set(o.field,Cw(c,m,t))}return r}class Ow extends Xd{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Mw(c,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=_0();return this.mutations.forEach((o=>{const c=t.get(o.key),m=c.overlayedDocument;let g=this.applyToLocalView(m,c.mutatedFields);g=i.has(o.key)?null:g;const y=A0(m,g);y!==null&&r.set(o.key,y),m.isValidDocument()||m.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Be())}isEqual(t){return this.batchId===t.batchId&&br(this.mutations,t.mutations,((i,r)=>kv(i,r)))&&br(this.baseMutations,t.baseMutations,((i,r)=>kv(i,r)))}}class Lw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Uw{constructor(t,i){this.count=t,this.unchangedNames=i}}var bt,Le;function x0(s){if(s===void 0)return Vi("GRPC error has no .code"),re.UNKNOWN;switch(s){case bt.OK:return re.OK;case bt.CANCELLED:return re.CANCELLED;case bt.UNKNOWN:return re.UNKNOWN;case bt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case bt.INTERNAL:return re.INTERNAL;case bt.UNAVAILABLE:return re.UNAVAILABLE;case bt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case bt.NOT_FOUND:return re.NOT_FOUND;case bt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case bt.ABORTED:return re.ABORTED;case bt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case bt.DATA_LOSS:return re.DATA_LOSS;default:return we()}}(Le=bt||(bt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function zw(){return new TextEncoder}const Bw=new gs([4294967295,4294967295],0);function Hv(s){const t=zw().encode(s),i=new W_;return i.update(t),new Uint8Array(i.digest())}function Fv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new gs([i,r],0),new gs([o,c],0)]}class Zd{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=gs.fromNumber(this.Ie)}Ee(t,i,r){let o=t.add(i.multiply(gs.fromNumber(r)));return o.compare(Bw)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=Hv(t),[r,o]=Fv(i);for(let c=0;c<this.hashCount;c++){const m=this.Ee(r,o,c);if(!this.de(m))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),m=new Zd(c,o,i);return r.forEach((g=>m.insert(g))),m}insert(t){if(this.Ie===0)return;const i=Hv(t),[r,o]=Fv(i);for(let c=0;c<this.hashCount;c++){const m=this.Ee(r,o,c);this.Ae(m)}}Ae(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sc{constructor(t,i,r,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,so.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sc(Se.min(),o,new pt(Ge),Oa(),Be())}}class so{constructor(t,i,r,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new so(r,i,Be(),Be(),Be())}}class Wu{constructor(t,i,r,o){this.Re=t,this.removedTargetIds=i,this.key=r,this.Ve=o}}class R0{constructor(t,i){this.targetId=t,this.me=i}}class N0{constructor(t,i,r=qt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Gv{constructor(){this.fe=0,this.ge=Kv(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Be(),i=Be(),r=Be();return this.ge.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:we()}})),new so(this.pe,this.ye,t,i,r)}Ce(){this.we=!1,this.ge=Kv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kw{constructor(t){this.Le=t,this.Be=new Map,this.ke=Oa(),this.qe=Qv(),this.Qe=new pt(Ge)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const r=this.Ge(i);switch(t.state){case 0:this.ze(i)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),r.De(t.resumeToken));break;default:we()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((r,o)=>{this.ze(o)&&i(o)}))}He(t){const i=t.targetId,r=t.me.count,o=this.Je(i);if(o){const c=o.target;if(md(c))if(r===0){const m=new Ee(c.path);this.Ue(i,m,Yt.newNoDocument(m,Se.min()))}else ct(r===1);else{const m=this.Ye(i);if(m!==r){const g=this.Ze(t),y=g?this.Xe(g,t,m):1;if(y!==0){this.je(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let m,g;try{m=Es(r).toUint8Array()}catch(y){if(y instanceof l0)return Er("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Zd(m,o,c)}catch(y){return Er(y instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ie===0?null:g}Xe(t,i,r){return i.me.count===r-this.nt(t,i.targetId)?0:2}nt(t,i){const r=this.Le.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const m=this.Le.tt(),g=`projects/${m.projectId}/databases/${m.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,c,null),o++)})),o}rt(t){const i=new Map;this.Be.forEach(((c,m)=>{const g=this.Je(m);if(g){if(c.current&&md(g.target)){const y=new Ee(g.target.path);this.ke.get(y)!==null||this.it(m,y)||this.Ue(m,y,Yt.newNoDocument(y,t))}c.be&&(i.set(m,c.ve()),c.Ce())}}));let r=Be();this.qe.forEach(((c,m)=>{let g=!0;m.forEachWhile((y=>{const v=this.Je(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.ke.forEach(((c,m)=>m.setReadTime(t)));const o=new Sc(t,i,this.Qe,this.ke,r);return this.ke=Oa(),this.qe=Qv(),this.Qe=new pt(Ge),o}$e(t,i){if(!this.ze(t))return;const r=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,r),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,r){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),r&&(this.ke=this.ke.insert(i,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Gv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Pt(Ge),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||de("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Gv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Qv(){return new pt(Ee.comparator)}function Kv(){return new pt(Ee.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hw={and:"AND",or:"OR"};class Fw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vd(s,t){return s.useProto3Json||vc(t)?t:{value:t}}function _d(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function C0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function pr(s){return ct(!!s),Se.fromTimestamp((function(i){const r=Ma(i);return new wt(r.seconds,r.nanos)})(s))}function D0(s,t){return Ed(s,t).canonicalString()}function Ed(s,t){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function j0(s){const t=st.fromString(s);return ct(L0(t)),t}function Kf(s,t){const i=j0(t);if(i.get(1)!==s.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ee(M0(i))}function I0(s,t){return D0(s.databaseId,t)}function Gw(s){const t=j0(s);return t.length===4?st.emptyPath():M0(t)}function Yv(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function M0(s){return ct(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Qw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we()})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(ct(b===void 0||typeof b=="string"),qt.fromBase64String(b||"")):(ct(b===void 0||b instanceof Buffer||b instanceof Uint8Array),qt.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),m=t.targetChange.cause,g=m&&(function(v){const b=v.code===void 0?re.UNKNOWN:x0(v.code);return new me(b,v.message||"")})(m);i=new N0(r,o,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kf(s,r.document.name),c=pr(r.document.updateTime),m=r.document.createTime?pr(r.document.createTime):Se.min(),g=new ti({mapValue:{fields:r.document.fields}}),y=Yt.newFoundDocument(o,c,m,g),v=r.targetIds||[],b=r.removedTargetIds||[];i=new Wu(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Kf(s,r.document),c=r.readTime?pr(r.readTime):Se.min(),m=Yt.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Wu([],g,m.key,m)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Kf(s,r.document),c=r.removedTargetIds||[];i=new Wu([],c,o,null)}else{if(!("filter"in t))return we();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,m=new Uw(o,c),g=r.targetId;i=new R0(g,m)}}return i}function Kw(s,t){return{documents:[I0(s,t.path)]}}function Yw(s,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=I0(s,o);const c=(function(v){if(v.length!==0)return V0(kn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const m=(function(v){if(v.length!==0)return v.map((b=>(function(N){return{field:fr(N.field),direction:Zw(N.dir)}})(b)))})(t.orderBy);m&&(i.structuredQuery.orderBy=m);const g=vd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:o}}function Xw(s){let t=Gw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ct(r===1);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const N=O0(S);return N instanceof kn&&c0(N)?N.getFilters():[N]})(i.where));let m=[];i.orderBy&&(m=(function(S){return S.map((N=>(function(M){return new eo(dr(M.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,vc(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(S){const N=!!S.before,O=S.values||[];return new cc(O,N)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const N=!S.before,O=S.values||[];return new cc(O,N)})(i.endAt)),_w(t,o,m,c,g,"F",y,v)}function $w(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function O0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=dr(i.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=dr(i.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=dr(i.unaryFilter.field);return Tt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=dr(i.unaryFilter.field);return Tt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return we()}})(s):s.fieldFilter!==void 0?(function(i){return Tt.create(dr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return kn.create(i.compositeFilter.filters.map((r=>O0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}})(i.compositeFilter.op))})(s):we()}function Zw(s){return Pw[s]}function Jw(s){return qw[s]}function Ww(s){return Hw[s]}function fr(s){return{fieldPath:s.canonicalString()}}function dr(s){return Xt.fromServerFormat(s.fieldPath)}function V0(s){return s instanceof Tt?(function(i){if(i.op==="=="){if(Ov(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NAN"}};if(Mv(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ov(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NOT_NAN"}};if(Mv(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fr(i.field),op:Jw(i.op),value:i.value}}})(s):s instanceof kn?(function(i){const r=i.getFilters().map((o=>V0(o)));return r.length===1?r[0]:{compositeFilter:{op:Ww(i.op),filters:r}}})(s):we()}function L0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ca{constructor(t,i,r,o,c=Se.min(),m=Se.min(),g=qt.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ca(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ex{constructor(t){this.ct=t}}function tx(s){const t=Xw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hc(t,t.limit,"L"):t}class nx{constructor(){this.un=new ix}addToCollectionParentIndex(t,i){return this.un.add(i),te.resolve()}getCollectionParents(t,i){return te.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return te.resolve()}deleteFieldIndex(t,i){return te.resolve()}deleteAllFieldIndexes(t){return te.resolve()}createTargetIndexes(t,i){return te.resolve()}getDocumentsMatchingTarget(t,i){return te.resolve(null)}getIndexType(t,i){return te.resolve(0)}getFieldIndexes(t,i){return te.resolve([])}getNextCollectionGroupToUpdate(t){return te.resolve(null)}getMinOffset(t,i){return te.resolve(Ia.min())}getMinOffsetFromCollectionGroup(t,i){return te.resolve(Ia.min())}updateCollectionGroup(t,i,r){return te.resolve()}updateIndexEntries(t,i){return te.resolve()}}class ix{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Pt(st.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Pt(st.comparator)).toArray()}}class Ar{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ar(0)}static kn(){return new Ar(-1)}}class ax{constructor(){this.changes=new Mr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Yt.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?te.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rx{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Ql(r.mutation,o,Na.empty(),wt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Be()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Be()){const o=ms();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((c=>{let m=Pl();return c.forEach(((g,y)=>{m=m.insert(g,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,i){const r=ms();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Be())))}populateOverlays(t,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((m,g)=>{i.set(m,g)}))}))}computeViews(t,i,r,o){let c=Oa();const m=Gl(),g=(function(){return Gl()})();return i.forEach(((y,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Tc)?c=c.insert(v.key,v):b!==void 0?(m.set(v.key,b.mutation.getFieldMask()),Ql(b.mutation,v,b.mutation.getFieldMask(),wt.now())):m.set(v.key,Na.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,b)=>m.set(v,b))),i.forEach(((v,b)=>{var S;return g.set(v,new sx(b,(S=m.get(v))!==null&&S!==void 0?S:null))})),g)))}recalculateAndSaveOverlays(t,i){const r=Gl();let o=new pt(((m,g)=>m-g)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((m=>{for(const g of m)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let b=r.get(y)||Na.empty();b=g.applyToLocalView(v,b),r.set(y,b);const S=(o.get(g.batchId)||Be()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const m=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,b=y.value,S=_0();b.forEach((N=>{if(!c.has(N)){const O=A0(i.get(N),r.get(N));O!==null&&S.set(N,O),c=c.add(N)}})),m.push(this.documentOverlayCache.saveOverlays(t,v,S))}return te.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(m){return Ee.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):p0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((c=>{const m=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-c.size):te.resolve(ms());let g=-1,y=c;return m.next((v=>te.forEach(v,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?te.resolve():this.remoteDocumentCache.getEntry(t,b).next((N=>{y=y.insert(b,N)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Be()))).next((b=>({batchId:g,changes:Aw(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ee(i)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const c=i.collectionGroup;let m=Pl();return this.indexManager.getCollectionParents(t,c).next((g=>te.forEach(g,(y=>{const v=(function(S,N){return new Ir(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((b=>{b.forEach(((S,N)=>{m=m.insert(S,N)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,o)))).next((m=>{c.forEach(((y,v)=>{const b=v.getKey();m.get(b)===null&&(m=m.insert(b,Yt.newInvalidDocument(b)))}));let g=Pl();return m.forEach(((y,v)=>{const b=c.get(y);b!==void 0&&Ql(b.mutation,v,Na.empty(),wt.now()),Ec(i,v)&&(g=g.insert(y,v))})),g}))}}class lx{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return te.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}})(i)),te.resolve()}getNamedQuery(t,i){return te.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:tx(o.bundledQuery),readTime:pr(o.readTime)}})(i)),te.resolve()}}class ox{constructor(){this.overlays=new pt(Ee.comparator),this.Ir=new Map}getOverlay(t,i){return te.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ms();return te.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,c)=>{this.ht(t,i,c)})),te.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(t,i,r){const o=ms(),c=i.length+1,m=new Ee(i.child("")),g=this.overlays.getIteratorFrom(m);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let c=new pt(((v,b)=>v-b));const m=this.overlays.getIterator();for(;m.hasNext();){const v=m.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=c.get(v.largestBatchId);b===null&&(b=ms(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=ms(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=o)););return te.resolve(g)}ht(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const m=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new Lw(i,r));let c=this.Ir.get(i);c===void 0&&(c=Be(),this.Ir.set(i,c)),this.Ir.set(i,c.add(r.key))}}class ux{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(t){return te.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,te.resolve()}}class Jd{constructor(){this.Tr=new Pt(jt.Er),this.dr=new Pt(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const r=new jt(t,i);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Vr(new jt(t,i))}mr(t,i){t.forEach((r=>this.removeReference(r,i)))}gr(t){const i=new Ee(new st([])),r=new jt(i,t),o=new jt(i,t+1),c=[];return this.dr.forEachInRange([r,o],(m=>{this.Vr(m),c.push(m.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new Ee(new st([])),r=new jt(i,t),o=new jt(i,t+1);let c=Be();return this.dr.forEachInRange([r,o],(m=>{c=c.add(m.key)})),c}containsKey(t){const i=new jt(t,0),r=this.Tr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class jt{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return Ee.comparator(t.key,i.key)||Ge(t.wr,i.wr)}static Ar(t,i){return Ge(t.wr,i.wr)||Ee.comparator(t.key,i.key)}}class cx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Pt(jt.Er)}checkEmpty(t){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new Vw(c,i,r,o);this.mutationQueue.push(m);for(const g of o)this.br=this.br.add(new jt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return te.resolve(m)}lookupMutationBatch(t,i){return te.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.vr(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([r,o],(m=>{const g=this.Dr(m.wr);c.push(g)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Pt(Ge);return i.forEach((o=>{const c=new jt(o,0),m=new jt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,m],(g=>{r=r.add(g.wr)}))})),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const m=new jt(new Ee(c),0);let g=new Pt(Ge);return this.br.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.wr)),!0)}),m),te.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((r=>{const o=this.Dr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ct(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(i.mutations,(o=>{const c=new jt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.br=r}))}On(t){}containsKey(t,i){const r=new jt(i,0),o=this.br.firstAfterOrEqual(r);return te.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,te.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hx{constructor(t){this.Mr=t,this.docs=(function(){return new pt(Ee.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,m=this.Mr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:m}),this.size+=m-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return te.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(i))}getEntries(t,i){let r=Oa();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Yt.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let c=Oa();const m=i.path,g=new Ee(m.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!m.isPrefixOf(v.path))break;v.path.length>m.length+1||ew(W1(b),r)<=0||(o.has(b.key)||Ec(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(t,i,r,o){we()}Or(t,i){return te.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new fx(this)}getSize(t){return te.resolve(this.size)}}class fx extends ax{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(t,o)):this.cr.removeEntry(r)})),te.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class dx{constructor(t){this.persistence=t,this.Nr=new Mr((i=>Qd(i)),Kd),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jd,this.targetCount=0,this.kr=Ar.Bn()}forEachTarget(t,i){return this.Nr.forEach(((r,o)=>i(o))),te.resolve()}getLastRemoteSnapshotVersion(t){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return te.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Lr&&(this.Lr=i),te.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Ar(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,te.resolve()}updateTargetData(t,i){return this.Kn(i),te.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,te.resolve()}removeTargets(t,i,r){let o=0;const c=[];return this.Nr.forEach(((m,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Nr.delete(m),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(t){return te.resolve(this.targetCount)}getTargetData(t,i){const r=this.Nr.get(i)||null;return te.resolve(r)}addMatchingKeys(t,i,r){return this.Br.Rr(i,r),te.resolve()}removeMatchingKeys(t,i,r){this.Br.mr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((m=>{c.push(o.markPotentiallyOrphaned(t,m))})),te.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),te.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Br.yr(i);return te.resolve(r)}containsKey(t,i){return te.resolve(this.Br.containsKey(i))}}class mx{constructor(t,i){this.qr={},this.overlays={},this.Qr=new qd(0),this.Kr=!1,this.Kr=!0,this.$r=new ux,this.referenceDelegate=t(this),this.Ur=new dx(this),this.indexManager=new nx,this.remoteDocumentCache=(function(o){return new hx(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new ex(i),this.Gr=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ox,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.qr[t.toKey()];return r||(r=new cx(i,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,r){de("MemoryPersistence","Starting transaction:",t);const o=new px(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((c=>this.referenceDelegate.jr(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Hr(t,i){return te.or(Object.values(this.qr).map((r=>()=>r.containsKey(t,i))))}}class px extends nw{constructor(t){super(),this.currentSequenceNumber=t}}class Wd{constructor(t){this.persistence=t,this.Jr=new Jd,this.Yr=null}static Zr(t){return new Wd(t)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(t,i,r){return this.Jr.addReference(r,i),this.Xr.delete(r.toString()),te.resolve()}removeReference(t,i,r){return this.Jr.removeReference(r,i),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),te.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.Xr.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,(r=>{const o=Ee.fromPath(r);return this.ei(t,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((r=>{r?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return te.or([()=>te.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class em{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.$i=r,this.Ui=o}static Wi(t,i){let r=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new em(t,i.fromCache,r,o)}}class gx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class yx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return xA()?8:iw(AA())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,r,o){const c={result:null};return this.Yi(t,i).next((m=>{c.result=m})).next((()=>{if(!c.result)return this.Zi(t,i,o,r).next((m=>{c.result=m}))})).next((()=>{if(c.result)return;const m=new gx;return this.Xi(t,i,m).next((g=>{if(c.result=g,this.zi)return this.es(t,i,m,g.size)}))})).next((()=>c.result))}es(t,i,r,o){return r.documentReadCount<this.ji?(Bl()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",hr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Bl()<=ze.DEBUG&&de("QueryEngine","Query:",hr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Bl()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",hr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ni(i))):te.resolve())}Yi(t,i){if(zv(i))return te.resolve(null);let r=ni(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hc(i,null,"F"),r=ni(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const m=Be(...c);return this.Ji.getDocuments(t,m).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const v=this.ts(i,g);return this.ns(i,v,m,y.readTime)?this.Yi(t,hc(i,null,"F")):this.rs(t,v,i,y)}))))})))))}Zi(t,i,r,o){return zv(i)||o.isEqual(Se.min())?te.resolve(null):this.Ji.getDocuments(t,r).next((c=>{const m=this.ts(i,c);return this.ns(i,m,r,o)?te.resolve(null):(Bl()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hr(i)),this.rs(t,m,i,J1(o,-1)).next((g=>g)))}))}ts(t,i){let r=new Pt(y0(t));return i.forEach(((o,c)=>{Ec(t,c)&&(r=r.add(c))})),r}ns(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(t,i,r){return Bl()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",hr(i)),this.Ji.getDocumentsMatchingQuery(t,i,Ia.min(),r)}rs(t,i,r,o){return this.Ji.getDocumentsMatchingQuery(t,r,o).next((c=>(i.forEach((m=>{c=c.insert(m.key,m)})),c)))}}class vx{constructor(t,i,r,o){this.persistence=t,this.ss=i,this.serializer=o,this.os=new pt(Ge),this._s=new Mr((c=>Qd(c)),Kd),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function _x(s,t,i,r){return new vx(s,t,i,r)}async function U0(s,t){const i=Ue(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.ls(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const m=[],g=[];let y=Be();for(const v of o){m.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of c){g.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next((v=>({hs:v,removedBatchIds:m,addedBatchIds:g})))}))}))}function z0(s){const t=Ue(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function Ex(s,t){const i=Ue(s),r=t.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const m=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];t.targetChanges.forEach(((b,S)=>{const N=o.get(S);if(!N)return;g.push(i.Ur.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Ur.addMatchingKeys(c,b.addedDocuments,S))));let O=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,r)),o=o.insert(S,O),(function(Q,C,X){return Q.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(N,O,b)&&g.push(i.Ur.updateTargetData(c,O))}));let y=Oa(),v=Be();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(bx(c,m,t.documentUpdates).next((b=>{y=b.Ps,v=b.Is}))),!r.isEqual(Se.min())){const b=i.Ur.getLastRemoteSnapshotVersion(c).next((S=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return te.waitFor(g).next((()=>m.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.os=o,c)))}function bx(s,t,i){let r=Be(),o=Be();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let m=Oa();return i.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(t.removeEntry(g,y.readTime),m=m.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),m=m.insert(g,y)):de("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Ps:m,Is:o}}))}function Tx(s,t){const i=Ue(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Ur.getTargetData(r,t).next((c=>c?(o=c,te.resolve(o)):i.Ur.allocateTargetId(r).next((m=>(o=new Ca(t,m,"TargetPurposeListen",r.currentSequenceNumber),i.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(r.targetId,r),i._s.set(t,r.targetId)),r}))}async function bd(s,t,i){const r=Ue(s),o=r.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(m=>r.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!io(m))throw m;de("LocalStore",`Failed to update sequence numbers for target ${t}: ${m}`)}r.os=r.os.remove(t),r._s.delete(o.target)}function Xv(s,t,i){const r=Ue(s);let o=Se.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,v,b){const S=Ue(y),N=S._s.get(b);return N!==void 0?te.resolve(S.os.get(N)):S.Ur.getTargetData(v,b)})(r,m,ni(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(m,g.targetId).next((y=>{c=y}))})).next((()=>r.ss.getDocumentsMatchingQuery(m,t,i?o:Se.min(),i?c:Be()))).next((g=>(Sx(r,bw(t),g),{documents:g,Ts:c})))))}function Sx(s,t,i){let r=s.us.get(t)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.us.set(t,r)}class $v{constructor(){this.activeTargetIds=Rw()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ax{constructor(){this.so=new $v,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,r){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new $v,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wx{_o(t){}shutdown(){}}class Zv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qu=null;function Yf(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}const xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rx{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Qt="WebChannelConnection";class Nx extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const r=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+i.host,this.vo=`projects/${o}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(i,r,o,c,m){const g=Yf(),y=this.xo(i,r.toUriEncodedString());de("RestConnection",`Sending RPC '${i}' ${g}:`,y,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,m),this.No(i,y,v,o).then((b=>(de("RestConnection",`Received RPC '${i}' ${g}: `,b),b)),(b=>{throw Er("RestConnection",`RPC '${i}' ${g} failed with error: `,b,"url: ",y,"request:",o),b}))}Lo(i,r,o,c,m,g){return this.Mo(i,r,o,c,m)}Oo(i,r,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jr})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((c,m)=>i[m]=c)),o&&o.headers.forEach(((c,m)=>i[m]=c))}xo(i,r){const o=xx[i];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,r,o){const c=Yf();return new Promise(((m,g)=>{const y=new e0;y.setWithCredentials(!0),y.listenOnce(t0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zu.NO_ERROR:const b=y.getResponseJson();de(Qt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case Zu.TIMEOUT:de(Qt,`RPC '${t}' ${c} timed out`),g(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const S=y.getStatus();if(de(Qt,`RPC '${t}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const M=(function(C){const X=C.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(X)>=0?X:re.UNKNOWN})(O.status);g(new me(M,O.message))}else g(new me(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new me(re.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{de(Qt,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);de(Qt,`RPC '${t}' ${c} sending request:`,o),y.send(i,"POST",v,r,15)}))}Bo(t,i,r){const o=Yf(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=a0(),g=i0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const b=c.join("");de(Qt,`Creating RPC '${t}' stream ${o}: ${b}`,y);const S=m.createWebChannel(b,y);let N=!1,O=!1;const M=new Rx({Io:C=>{O?de(Qt,`Not sending because RPC '${t}' stream ${o} is closed:`,C):(N||(de(Qt,`Opening RPC '${t}' stream ${o} transport.`),S.open(),N=!0),de(Qt,`RPC '${t}' stream ${o} sending:`,C),S.send(C))},To:()=>S.close()}),Q=(C,X,ie)=>{C.listen(X,(ne=>{try{ie(ne)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return Q(S,kl.EventType.OPEN,(()=>{O||(de(Qt,`RPC '${t}' stream ${o} transport opened.`),M.yo())})),Q(S,kl.EventType.CLOSE,(()=>{O||(O=!0,de(Qt,`RPC '${t}' stream ${o} transport closed`),M.So())})),Q(S,kl.EventType.ERROR,(C=>{O||(O=!0,Er(Qt,`RPC '${t}' stream ${o} transport errored:`,C),M.So(new me(re.UNAVAILABLE,"The operation could not be completed")))})),Q(S,kl.EventType.MESSAGE,(C=>{var X;if(!O){const ie=C.data[0];ct(!!ie);const ne=ie,ye=ne.error||((X=ne[0])===null||X===void 0?void 0:X.error);if(ye){de(Qt,`RPC '${t}' stream ${o} received error:`,ye);const he=ye.status;let be=(function(R){const L=bt[R];if(L!==void 0)return x0(L)})(he),I=ye.message;be===void 0&&(be=re.INTERNAL,I="Unknown error status: "+he+" with message "+ye.message),O=!0,M.So(new me(be,I)),S.close()}else de(Qt,`RPC '${t}' stream ${o} received:`,ie),M.bo(ie)}})),Q(g,n0.STAT_EVENT,(C=>{C.stat===cd.PROXY?de(Qt,`RPC '${t}' stream ${o} detected buffering proxy`):C.stat===cd.NOPROXY&&de(Qt,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.wo()}),0),M}}function Xf(){return typeof document<"u"?document:null}function Ac(s){return new Fw(s,!0)}class B0{constructor(t,i,r=1e3,o=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=r,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Cx{constructor(t,i,r,o,c,m,g,y){this.ui=t,this.Ho=r,this.Jo=o,this.connection=c,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new B0(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===re.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===i&&this.P_(r,o)}),(r=>{t((()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(t,i){const r=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return de("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dx extends Cx{constructor(t,i,r,o,c,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,m),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=Qw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Se.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Se.min():m.readTime?pr(m.readTime):Se.min()})(t);return this.listener.d_(i,r)}A_(t){const i={};i.database=Yv(this.serializer),i.addTarget=(function(c,m){let g;const y=m.target;if(g=md(y)?{documents:Kw(c,y)}:{query:Yw(c,y)._t},g.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){g.resumeToken=C0(c,m.resumeToken);const v=vd(c,m.expectedCount);v!==null&&(g.expectedCount=v)}else if(m.snapshotVersion.compareTo(Se.min())>0){g.readTime=_d(c,m.snapshotVersion.toTimestamp());const v=vd(c,m.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const r=$w(this.serializer,t);r&&(i.labels=r),this.a_(i)}R_(t){const i={};i.database=Yv(this.serializer),i.removeTarget=t,this.a_(i)}}class jx extends class{}{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Mo(t,Ed(i,r),o,c,m))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(re.UNKNOWN,c.toString())}))}Lo(t,i,r,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,g])=>this.connection.Lo(t,Ed(i,r),o,m,g,c))).catch((m=>{throw m.name==="FirebaseError"?(m.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new me(re.UNKNOWN,m.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Ix{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(i),this.D_=!1):de("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class Mx{constructor(t,i,r,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((m=>{r.enqueueAndForget((async()=>{lo(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const v=Ue(y);v.L_.add(4),await ro(v),v.q_.set("Unknown"),v.L_.delete(4),await wc(v)})(this))}))})),this.q_=new Ix(r,o)}}async function wc(s){if(lo(s))for(const t of s.B_)await t(!0)}async function ro(s){for(const t of s.B_)await t(!1)}function k0(s,t){const i=Ue(s);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),am(i)?im(i):Or(i).r_()&&nm(i,t))}function tm(s,t){const i=Ue(s),r=Or(i);i.N_.delete(t),r.r_()&&P0(i,t),i.N_.size===0&&(r.r_()?r.o_():lo(i)&&i.q_.set("Unknown"))}function nm(s,t){if(s.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Or(s).A_(t)}function P0(s,t){s.Q_.xe(t),Or(s).R_(t)}function im(s){s.Q_=new kw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>s.N_.get(t)||null,tt:()=>s.datastore.serializer.databaseId}),Or(s).start(),s.q_.v_()}function am(s){return lo(s)&&!Or(s).n_()&&s.N_.size>0}function lo(s){return Ue(s).L_.size===0}function q0(s){s.Q_=void 0}async function Ox(s){s.q_.set("Online")}async function Vx(s){s.N_.forEach(((t,i)=>{nm(s,t)}))}async function Lx(s,t){q0(s),am(s)?(s.q_.M_(t),im(s)):s.q_.set("Unknown")}async function Ux(s,t,i){if(s.q_.set("Online"),t instanceof N0&&t.state===2&&t.cause)try{await(async function(o,c){const m=c.cause;for(const g of c.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,m),o.N_.delete(g),o.Q_.removeTarget(g))})(s,t)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jv(s,r)}else if(t instanceof Wu?s.Q_.Ke(t):t instanceof R0?s.Q_.He(t):s.Q_.We(t),!i.isEqual(Se.min()))try{const r=await z0(s.localStore);i.compareTo(r)>=0&&await(function(c,m){const g=c.Q_.rt(m);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.N_.get(v);b&&c.N_.set(v,b.withResumeToken(y.resumeToken,m))}})),g.targetMismatches.forEach(((y,v)=>{const b=c.N_.get(y);if(!b)return;c.N_.set(y,b.withResumeToken(qt.EMPTY_BYTE_STRING,b.snapshotVersion)),P0(c,y);const S=new Ca(b.target,y,v,b.sequenceNumber);nm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Jv(s,r)}}async function Jv(s,t,i){if(!io(t))throw t;s.L_.add(1),await ro(s),s.q_.set("Offline"),i||(i=()=>z0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await wc(s)}))}async function Wv(s,t){const i=Ue(s);i.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=lo(i);i.L_.add(3),await ro(i),r&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await wc(i)}async function zx(s,t){const i=Ue(s);t?(i.L_.delete(2),await wc(i)):t||(i.L_.add(2),await ro(i),i.q_.set("Unknown"))}function Or(s){return s.K_||(s.K_=(function(i,r,o){const c=Ue(i);return c.w_(),new Dx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Eo:Ox.bind(null,s),Ro:Vx.bind(null,s),mo:Lx.bind(null,s),d_:Ux.bind(null,s)}),s.B_.push((async t=>{t?(s.K_.s_(),am(s)?im(s):s.q_.set("Unknown")):(await s.K_.stop(),q0(s))}))),s.K_}class sm{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const m=Date.now()+r,g=new sm(t,i,m,o,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(s,t){if(Vi("AsyncQueue",`${t}: ${s}`),io(s))return new me(re.UNAVAILABLE,`${t}: ${s}`);throw s}class gr{constructor(t){this.comparator=t?(i,r)=>t(i,r)||Ee.comparator(i.key,r.key):(i,r)=>Ee.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new pt(this.comparator)}static emptySet(t){return new gr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof gr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new gr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class e_{constructor(){this.W_=new pt(Ee.comparator)}track(t){const i=t.doc.key,r=this.W_.get(i);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(i,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(i):t.type===1&&r.type===2?this.W_=this.W_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):we():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,r)=>{t.push(r)})),t}}class wr{constructor(t,i,r,o,c,m,g,y,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=m,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,o,c){const m=[];return i.forEach((g=>{m.push({type:0,doc:g})})),new wr(t,i,gr.emptySet(i),m,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class Bx{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class kx{constructor(){this.queries=t_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,r){const o=Ue(i),c=o.queries;o.queries=t_(),c.forEach(((m,g)=>{for(const y of g.j_)y.onError(r)}))})(this,new me(re.ABORTED,"Firestore shutting down"))}}function t_(){return new Mr((s=>g0(s)),_c)}async function Px(s,t){const i=Ue(s);let r=3;const o=t.query;let c=i.queries.get(o);c?!c.H_()&&t.J_()&&(r=2):(c=new Bx,r=t.J_()?0:1);try{switch(r){case 0:c.z_=await i.onListen(o,!0);break;case 1:c.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const g=H0(m,`Initialization of query '${hr(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&rm(i)}async function qx(s,t){const i=Ue(s),r=t.query;let o=3;const c=i.queries.get(r);if(c){const m=c.j_.indexOf(t);m>=0&&(c.j_.splice(m,1),c.j_.length===0?o=t.J_()?0:1:!c.H_()&&t.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Hx(s,t){const i=Ue(s);let r=!1;for(const o of t){const c=o.query,m=i.queries.get(c);if(m){for(const g of m.j_)g.X_(o)&&(r=!0);m.z_=o}}r&&rm(i)}function Fx(s,t,i){const r=Ue(s),o=r.queries.get(t);if(o)for(const c of o.j_)c.onError(i);r.queries.delete(t)}function rm(s){s.Y_.forEach((t=>{t.next()}))}var Td,n_;(n_=Td||(Td={})).ea="default",n_.Cache="cache";class Gx{constructor(t,i,r){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new wr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const r=i!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=wr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Td.Cache}}class F0{constructor(t){this.key=t}}class G0{constructor(t){this.key=t}}class Qx{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=y0(t),this.Ra=new gr(this.Aa)}get Va(){return this.Ta}ma(t,i){const r=i?i.fa:new e_,o=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,m=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,S)=>{const N=o.get(b),O=Ec(this.query,S)?S:null,M=!!N&&this.mutatedKeys.has(N.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let C=!1;N&&O?N.data.isEqual(O.data)?M!==Q&&(r.track({type:3,doc:O}),C=!0):this.ga(N,O)||(r.track({type:2,doc:O}),C=!0,(y&&this.Aa(O,y)>0||v&&this.Aa(O,v)<0)&&(g=!0)):!N&&O?(r.track({type:0,doc:O}),C=!0):N&&!O&&(r.track({type:1,doc:N}),C=!0,(y||v)&&(g=!0)),C&&(O?(m=m.add(O),c=Q?c.add(b):c.delete(b)):(m=m.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const b=this.query.limitType==="F"?m.last():m.first();m=m.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{Ra:m,fa:r,ns:g,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const m=t.fa.G_();m.sort(((b,S)=>(function(O,M){const Q=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return Q(O)-Q(M)})(b.type,S.type)||this.Aa(b.doc,S.doc))),this.pa(r),o=o!=null&&o;const g=i&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,v=y!==this.Ea;return this.Ea=y,m.length!==0||v?{snapshot:new wr(this.query,t.Ra,c,m,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new e_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Be(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const i=[];return t.forEach((r=>{this.da.has(r)||i.push(new G0(r))})),this.da.forEach((r=>{t.has(r)||i.push(new F0(r))})),i}ba(t){this.Ta=t.Ts,this.da=Be();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return wr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Kx{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class Yx{constructor(t){this.key=t,this.va=!1}}class Xx{constructor(t,i,r,o,c,m){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new Mr((g=>g0(g)),_c),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(Ee.comparator),this.Na=new Map,this.La=new Jd,this.Ba={},this.ka=new Map,this.qa=Ar.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $x(s,t,i=!0){const r=$0(s);let o;const c=r.Fa.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=await Q0(r,t,i,!0),o}async function Zx(s,t){const i=$0(s);await Q0(i,t,!0,!1)}async function Q0(s,t,i,r){const o=await Tx(s.localStore,ni(t)),c=o.targetId,m=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await Jx(s,t,c,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&k0(s.remoteStore,o),g}async function Jx(s,t,i,r,o){s.Ka=(S,N,O)=>(async function(Q,C,X,ie){let ne=C.view.ma(X);ne.ns&&(ne=await Xv(Q.localStore,C.query,!1).then((({documents:I})=>C.view.ma(I,ne))));const ye=ie&&ie.targetChanges.get(C.targetId),he=ie&&ie.targetMismatches.get(C.targetId)!=null,be=C.view.applyChanges(ne,Q.isPrimaryClient,ye,he);return a_(Q,C.targetId,be.wa),be.snapshot})(s,S,N,O);const c=await Xv(s.localStore,t,!0),m=new Qx(t,c.Ts),g=m.ma(c.documents),y=so.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=m.applyChanges(g,s.isPrimaryClient,y);a_(s,i,v.wa);const b=new Kx(t,i,m);return s.Fa.set(t,b),s.Ma.has(i)?s.Ma.get(i).push(t):s.Ma.set(i,[t]),v.snapshot}async function Wx(s,t,i){const r=Ue(s),o=r.Fa.get(t),c=r.Ma.get(o.targetId);if(c.length>1)return r.Ma.set(o.targetId,c.filter((m=>!_c(m,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await bd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&tm(r.remoteStore,o.targetId),Sd(r,o.targetId)})).catch(Pd)):(Sd(r,o.targetId),await bd(r.localStore,o.targetId,!0))}async function e2(s,t){const i=Ue(s),r=i.Fa.get(t),o=i.Ma.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tm(i.remoteStore,r.targetId))}async function K0(s,t){const i=Ue(s);try{const r=await Ex(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const m=i.Na.get(c);m&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?m.va=!0:o.modifiedDocuments.size>0?ct(m.va):o.removedDocuments.size>0&&(ct(m.va),m.va=!1))})),await X0(i,r,t)}catch(r){await Pd(r)}}function i_(s,t,i){const r=Ue(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Fa.forEach(((c,m)=>{const g=m.view.Z_(t);g.snapshot&&o.push(g.snapshot)})),(function(m,g){const y=Ue(m);y.onlineState=g;let v=!1;y.queries.forEach(((b,S)=>{for(const N of S.j_)N.Z_(g)&&(v=!0)})),v&&rm(y)})(r.eventManager,t),o.length&&r.Ca.d_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function t2(s,t,i){const r=Ue(s);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Na.get(t),c=o&&o.key;if(c){let m=new pt(Ee.comparator);m=m.insert(c,Yt.newNoDocument(c,Se.min()));const g=Be().add(c),y=new Sc(Se.min(),new Map,new pt(Ge),m,g);await K0(r,y),r.Oa=r.Oa.remove(c),r.Na.delete(t),lm(r)}else await bd(r.localStore,t,!1).then((()=>Sd(r,t,i))).catch(Pd)}function Sd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Ma.get(t))s.Fa.delete(r),i&&s.Ca.$a(r,i);s.Ma.delete(t),s.isPrimaryClient&&s.La.gr(t).forEach((r=>{s.La.containsKey(r)||Y0(s,r)}))}function Y0(s,t){s.xa.delete(t.path.canonicalString());const i=s.Oa.get(t);i!==null&&(tm(s.remoteStore,i),s.Oa=s.Oa.remove(t),s.Na.delete(i),lm(s))}function a_(s,t,i){for(const r of i)r instanceof F0?(s.La.addReference(r.key,t),n2(s,r)):r instanceof G0?(de("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,t),s.La.containsKey(r.key)||Y0(s,r.key)):we()}function n2(s,t){const i=t.key,r=i.path.canonicalString();s.Oa.get(i)||s.xa.has(r)||(de("SyncEngine","New document in limbo: "+i),s.xa.add(r),lm(s))}function lm(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const t=s.xa.values().next().value;s.xa.delete(t);const i=new Ee(st.fromString(t)),r=s.qa.next();s.Na.set(r,new Yx(i)),s.Oa=s.Oa.insert(i,r),k0(s.remoteStore,new Ca(ni(m0(i.path)),r,"TargetPurposeLimboResolution",qd.oe))}}async function X0(s,t,i){const r=Ue(s),o=[],c=[],m=[];r.Fa.isEmpty()||(r.Fa.forEach(((g,y)=>{m.push(r.Ka(y,t,i).then((v=>{var b;if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:(b=i?.targetChanges.get(y.targetId))===null||b===void 0?void 0:b.current;r.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(v){o.push(v);const S=em.Wi(y.targetId,v);c.push(S)}})))})),await Promise.all(m),r.Ca.d_(o),await(async function(y,v){const b=Ue(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(v,(N=>te.forEach(N.$i,(O=>b.persistence.referenceDelegate.addReference(S,N.targetId,O))).next((()=>te.forEach(N.Ui,(O=>b.persistence.referenceDelegate.removeReference(S,N.targetId,O)))))))))}catch(S){if(!io(S))throw S;de("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const N=S.targetId;if(!S.fromCache){const O=b.os.get(N),M=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(M);b.os=b.os.insert(N,Q)}}})(r.localStore,c))}async function i2(s,t){const i=Ue(s);if(!i.currentUser.isEqual(t)){de("SyncEngine","User change. New user:",t.toKey());const r=await U0(i.localStore,t);i.currentUser=t,(function(c,m){c.ka.forEach((g=>{g.forEach((y=>{y.reject(new me(re.CANCELLED,m))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await X0(i,r.hs)}}function a2(s,t){const i=Ue(s),r=i.Na.get(t);if(r&&r.va)return Be().add(r.key);{let o=Be();const c=i.Ma.get(t);if(!c)return o;for(const m of c){const g=i.Fa.get(m);o=o.unionWith(g.view.Va)}return o}}function $0(s){const t=Ue(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=K0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=a2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=t2.bind(null,t),t.Ca.d_=Hx.bind(null,t.eventManager),t.Ca.$a=Fx.bind(null,t.eventManager),t}class mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ac(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return _x(this.persistence,new yx,t.initialUser,this.serializer)}Ga(t){return new mx(Wd.Zr,this.serializer)}Wa(t){return new Ax}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mc.provider={build:()=>new mc};class Ad{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kx})()}createDatastore(t){const i=Ac(t.databaseInfo.databaseId),r=(function(c){return new Nx(c)})(t.databaseInfo);return(function(c,m,g,y){return new jx(c,m,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,c,m,g){return new Mx(r,o,c,m,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>i_(this.syncEngine,i,0)),(function(){return Zv.D()?new Zv:new wx})())}createSyncEngine(t,i){return(function(o,c,m,g,y,v,b){const S=new Xx(o,c,m,g,y,v);return b&&(S.Qa=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const c=Ue(o);de("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await ro(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ad.provider={build:()=>new Ad};class s2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Vi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}class r2{constructor(t,i,r,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async m=>{de("FirestoreClient","Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(de("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=H0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function $f(s,t){s.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await U0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function s_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await l2(s);de("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Wv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Wv(t.remoteStore,o))),s._onlineComponents=t}async function l2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await $f(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await $f(s,new mc)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await $f(s,new mc);return s._offlineComponents}async function o2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await s_(s,s._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await s_(s,new Ad))),s._onlineComponents}async function u2(s){const t=await o2(s),i=t.eventManager;return i.onListen=$x.bind(null,t.syncEngine),i.onUnlisten=Wx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Zx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=e2.bind(null,t.syncEngine),i}function c2(s,t,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,m,g,y,v){const b=new s2({next:N=>{b.Za(),m.enqueueAndForget((()=>qx(c,S))),N.fromCache&&y.source==="server"?v.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new Gx(g,b,{includeMetadataChanges:!0,_a:!0});return Px(c,S)})(await u2(s),s.asyncQueue,t,i,r))),r.promise}function Z0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const r_=new Map;function h2(s,t,i,r){if(t===!0&&r===!0)throw new me(re.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function l_(s){if(Ee.isDocumentKey(s))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":we()}function wd(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(s);throw new me(re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}class o_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class om{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o_(t),t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new q1;switch(r.type){case"firstParty":return new Q1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=r_.get(i);r&&(de("ComponentProvider","Removing Datastore"),r_.delete(i),r.terminate())})(this),Promise.resolve()}}function f2(s,t,i,r={}){var o;const c=(s=wd(s,om))._getSettings(),m=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==m&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:m,ssl:!1})),r.mockUserToken){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Kt.MOCK_USER;else{g=SA(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Kt(v)}s._authCredentials=new H1(new s0(g,y))}}class La{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class zi{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zi(this.firestore,t,this._key)}}class yr extends La{constructor(t,i,r){super(t,i,m0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zi(this.firestore,null,new Ee(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function d2(s,t,...i){if(s=rc(s),s instanceof om){const r=st.fromString(t,...i);return l_(r),new yr(s,null,r)}{if(!(s instanceof zi||s instanceof yr))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(t,...i));return l_(r),new yr(s.firestore,null,r)}}class u_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new B0(this,"async_queue_retry"),this.Vu=()=>{const r=Xf();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new ys;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!io(t))throw t;de("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((r=>{this.Eu=r,this.du=!1;const o=(function(m){let g=m.message||"";return m.stack&&(g=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),g})(r);throw Vi("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=i,i}enqueueAfterDelay(t,i,r){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const o=sm.createAndSchedule(this,t,i,r,(c=>this.yu(c)));return this.Tu.push(o),o}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}class J0 extends om{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new u_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u_(t),this._firestoreClient=void 0,await t}}}function m2(s,t){const i=typeof s=="object"?s:I1(),r=typeof s=="string"?s:"(default)",o=N1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=bA("firestore");c&&f2(o,...c)}return o}function p2(s){if(s._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||g2(s),s._firestoreClient}function g2(s){var t,i,r;const o=s._freezeSettings(),c=(function(g,y,v,b){return new rw(g,y,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Z0(b.experimentalLongPollingOptions),b.useFetchStreams)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new r2(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}})(s._componentsProvider))}class xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xr(qt.fromBase64String(t))}catch(i){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xr(qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class W0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class eE{constructor(t){this._methodName=t}}class um{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)}}class cm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,t._values)}}const y2=/^__.*__$/;function tE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class hm{constructor(t,i,r,o,c,m){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Fu({path:r,xu:!1});return o.Ou(t),o}Nu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return xd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(tE(this.Cu)&&y2.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class v2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ac(t)}Qu(t,i,r,o=!1){return new hm({Cu:t,methodName:i,qu:r,path:Xt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _2(s){const t=s._freezeSettings(),i=Ac(s._databaseId);return new v2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function E2(s,t,i,r=!1){return fm(i,s.Qu(r?4:3,t))}function fm(s,t){if(nE(s=rc(s)))return T2("Unsupported field value:",t,s),b2(s,t);if(s instanceof eE)return(function(r,o){if(!tE(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(r,o){const c=[];let m=0;for(const g of r){let y=fm(g,o.Lu(m));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),m++}return{arrayValue:{values:c}}})(s,t)}return(function(r,o){if((r=rc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=wt.fromDate(r);return{timestampValue:_d(o.serializer,c)}}if(r instanceof wt){const c=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(o.serializer,c)}}if(r instanceof um)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:C0(o.serializer,r._byteString)};if(r instanceof zi){const c=o.databaseId,m=r.firestore._databaseId;if(!m.isEqual(c))throw o.Bu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:D0(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof cm)return(function(m,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:m.toArray().map((y=>{if(typeof y!="number")throw g.Bu("VectorValues must only contain numeric values.");return Yd(g.serializer,y)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${xc(r)}`)})(s,t)}function b2(s,t){const i={};return r0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ao(s,((r,o)=>{const c=fm(o,t.Mu(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function nE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof um||s instanceof xr||s instanceof zi||s instanceof eE||s instanceof cm)}function T2(s,t,i){if(!nE(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const r=xc(i);throw r==="an object"?t.Bu(s+" a custom object"):t.Bu(s+" "+r)}}const S2=new RegExp("[~\\*/\\[\\]]");function A2(s,t,i){if(t.search(S2)>=0)throw xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new W0(...t.split("."))._internalPath}catch{throw xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function xd(s,t,i,r,o){const c=r&&!r.isEmpty(),m=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||m)&&(y+=" (found",c&&(y+=` in field ${r}`),m&&(y+=` in document ${o}`),y+=")"),new me(re.INVALID_ARGUMENT,g+s+y)}class iE{constructor(t,i,r,o,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new w2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class w2 extends iE{data(){return super.data()}}function dm(s,t){return typeof t=="string"?A2(s,t):t instanceof W0?t._internalPath:t._delegate._internalPath}function x2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class pm extends mm{}function R2(s,t,...i){let r=[];t instanceof mm&&r.push(t),r=r.concat(i),(function(c){const m=c.filter((y=>y instanceof ym)).length,g=c.filter((y=>y instanceof gm)).length;if(m>1||m>0&&g>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class gm extends pm{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new gm(t,i,r)}_apply(t){const i=this._parse(t);return aE(t._query,i),new La(t.firestore,t.converter,pd(t._query,i))}_parse(t){const i=_2(t.firestore);return(function(c,m,g,y,v,b,S){let N;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){h_(S,b);const O=[];for(const M of S)O.push(c_(y,c,M));N={arrayValue:{values:O}}}else N=c_(y,c,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||h_(S,b),N=E2(g,m,S,b==="in"||b==="not-in");return Tt.create(v,b,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ym extends mm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ym(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let m=o;const g=c.getFlattenedFilters();for(const y of g)aE(m,y),m=pd(m,y)})(t._query,i),new La(t.firestore,t.converter,pd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vm extends pm{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new vm(t,i)}_apply(t){const i=(function(o,c,m){if(o.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(c,m)})(t._query,this._field,this._direction);return new La(t.firestore,t.converter,(function(o,c){const m=o.explicitOrderBy.concat([c]);return new Ir(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function N2(s,t="asc"){const i=t,r=dm("orderBy",s);return vm._create(r,i)}class _m extends pm{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new _m(t,i,r)}_apply(t){return new La(t.firestore,t.converter,hc(t._query,this._limit,this._limitType))}}function C2(s){return _m._create("limit",s,"F")}function c_(s,t,i){if(typeof(i=rc(i))=="string"){if(i==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(t)&&i.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(st.fromString(i));if(!Ee.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Iv(s,new Ee(r))}if(i instanceof zi)return Iv(s,i._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function h_(s,t){if(!Array.isArray(s)||s.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aE(s,t){const i=(function(o,c){for(const m of o)for(const g of m.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class D2{convertValue(t,i="none"){switch(bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw we()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ao(t,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(t){var i,r,o;const c=(o=(r=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((m=>mt(m.doubleValue)));return new cm(c)}convertGeoPoint(t){return new um(mt(t.latitude),mt(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Fd(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(t));default:return null}}convertTimestamp(t){const i=Ma(t);return new wt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=st.fromString(t);ct(L0(r));const o=new Jl(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(i)||Vi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Ku{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class j2 extends iE{constructor(t,i,r,o,c,m){super(t,i,r,o,m),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class ec extends j2{data(t={}){return super.data(t)}}class I2{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new ec(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((g=>{const y=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return g.type!==0&&(v=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),b=m.indexOf(g.doc.key)),{type:M2(g.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function M2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class O2 extends D2{constructor(t){super(),this.firestore=t}convertBytes(t){return new xr(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new zi(this.firestore,null,i)}}function V2(s){s=wd(s,La);const t=wd(s.firestore,J0),i=p2(t),r=new O2(t);return x2(s._query),c2(i,s._query).then((o=>new I2(t,r,s,o)))}(function(t,i=!0){(function(o){jr=o})(j1),oc(new Yl("firestore",((r,{instanceIdentifier:o,options:c})=>{const m=r.getProvider("app").getImmediate(),g=new J0(new F1(r.getProvider("auth-internal")),new Y1(r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(v.options.projectId,b)})(m,o),m);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),mr(Rv,"4.7.3",t),mr(Rv,"4.7.3","esm2017")})();var L2="firebase",U2="10.14.1";mr(L2,U2,"app");function z2(){return{apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"}}function B2(s){const t=Object.entries(s).filter(([,i])=>!i).map(([i])=>i);if(t.length>0)throw new Error(`[Firebase] Missing config values: ${t.join(", ")}. Set VITE_FIREBASE_* env vars before running the app.`)}let Yu=null;function k2(){if(Yu)return Yu;const s=z2();return B2(s),Yu=$_(s),Yu}const P2=k2(),q2=m2(P2),Zf=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-003",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-004",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-005",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"}];function H2(){const[s,t]=j.useState(Zf),[i,r]=j.useState(!0),[o,c]=j.useState(!1),[m,g]=j.useState(null),[y,v]=j.useState("all"),[b,S]=j.useState(""),N=j.useCallback(async(C=!1)=>{C&&c(!0);try{const X=d2(q2,"scanUploads"),ie=R2(X,N2("uploadedAt","desc"),C2(100)),ye=(await V2(ie)).docs.map(he=>F2(he.id,he.data()));ye.length>0?(t(ye),g(null)):(t(Zf),g("Keine Live-Daten gefunden, Fallback aktiv."))}catch(X){console.error("[ScansUploaded] Firestore fetch failed",X),t(Zf),g("Live-Daten nicht verfgbar, Fallback aktiv.")}finally{C&&c(!1),r(!1)}},[]);j.useEffect(()=>{N(!1)},[N]);const O=j.useMemo(()=>Q2(s),[s]),M=j.useMemo(()=>{const C=b.toLowerCase().trim();return s.filter(X=>!(y!=="all"&&X.status!==y||C&&!`${X.id} ${X.uploaderName??""} ${X.guildName??""}`.toLowerCase().includes(C)))},[s,b,y]),Q=M.filter(C=>C.status==="failed");return d.jsxs(Ui,{title:"Scans uploaded",description:"Operational analytics for ingestion volume, health, and failure recovery",headerContent:d.jsx(Va,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",hintRight:"Firestore snapshot  100 items"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:m??"Live snapshot geladen. Filterbar nach Status und Suchbegriff."}),d.jsx("div",{className:"admin-top__actions",children:d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>void N(!0),children:o?"Refreshing...":"Refresh"})})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsxs("select",{value:y,onChange:C=>v(C.target.value),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"success",children:"Success"}),d.jsx("option",{value:"processing",children:"Processing"}),d.jsx("option",{value:"queued",children:"Queued"}),d.jsx("option",{value:"failed",children:"Failed"})]})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by id/uploader/guild"}),d.jsx("input",{value:b,onChange:C=>S(C.target.value),placeholder:"Search text"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Total uploads"}),d.jsx("strong",{children:Jf(O.totalUploads)})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Success rate"}),d.jsx("strong",{children:f_(O.successRate)})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Avg. processing"}),d.jsx("strong",{children:O.avgProcessingMs?Wf(O.avgProcessingMs):""})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Failed"}),d.jsx("strong",{children:Jf(O.failed)})]})]}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Status mix"}),d.jsx("h2",{children:"Pipeline status"})]}),d.jsx("p",{className:"monitoring-panel__meta",children:"Anteil je Status innerhalb des Fensters"})]}),d.jsx("div",{className:"monitoring-panel__grid",children:O.statusBreakdown.map(C=>d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:ed(C.status)}),d.jsx("p",{className:"monitoring-panel__value",children:Jf(C.count)}),d.jsx("p",{className:"monitoring-panel__meta",children:f_(C.share)})]},C.status))})]}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Recent failures"}),d.jsx("h2",{children:"Letzte Fehlversuche"})]}),d.jsx("p",{className:"monitoring-panel__meta",children:"Gefiltert nach Status"})]}),d.jsxs("div",{className:"log-table",children:[Q.map(C=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:C.id}),d.jsx("p",{className:"log-row__service",children:C.errorCode??"Unknown issue"})]}),d.jsx("span",{className:"log-badge log-badge--error",children:ed(C.status)})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Uploader: ",C.uploaderName??C.uploaderId??"?"]}),d.jsxs("span",{className:"log-row__timestamp",children:["Guild: ",C.guildName??C.guildId??"?"]}),d.jsxs("span",{className:"log-row__timestamp",children:["Processing: ",C.processingMs?Wf(C.processingMs):"Pending"]})]})]},C.id)),Q.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No failed uploads in this view."})})]})]}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Latest activity"}),d.jsx("h2",{children:"Uploads"})]}),d.jsx("p",{className:"monitoring-panel__meta",children:i?"Loading":`${M.length} records`})]}),d.jsxs("div",{className:"log-table",children:[M.map(C=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:C.id}),d.jsx("p",{className:"log-row__service",children:C.uploaderName??C.uploaderId??"Unknown uploader"})]}),d.jsx("span",{className:"log-badge",style:{borderColor:d_(C.status),color:d_(C.status)},children:ed(C.status)})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Guild: ",C.guildName??C.guildId??"Unknown guild"]}),d.jsxs("span",{className:"log-row__timestamp",children:["Uploaded: ",C.uploadedAt?C.uploadedAt.toLocaleString():"Unknown"]})]}),d.jsx("div",{className:"log-row__body",children:d.jsxs("span",{className:"log-row__message",children:["Processing: ",C.processingMs?Wf(C.processingMs):"Pending","  File size: ",C.fileSizeBytes?K2(C.fileSizeBytes):"?"]})})]},C.id)),M.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No uploads match your filters."})})]})]})]})}function F2(s,t){const i=G2(t.status);return{id:s,status:i,uploaderId:typeof t.uploaderId=="string"?t.uploaderId:null,uploaderName:typeof t.uploaderName=="string"?t.uploaderName:null,guildId:typeof t.guildId=="string"?t.guildId:null,guildName:typeof t.guildName=="string"?t.guildName:null,uploadedAt:t.uploadedAt instanceof wt?t.uploadedAt.toDate():t.uploadedAt instanceof Date?t.uploadedAt:null,processingMs:typeof t.processingMs=="number"?t.processingMs:null,fileSizeBytes:typeof t.fileSizeBytes=="number"?t.fileSizeBytes:null,errorCode:typeof t.errorCode=="string"?t.errorCode:null}}function G2(s){return s==="success"||s==="failed"||s==="processing"||s==="queued"?s:"unknown"}function Q2(s){const t=new Map;let i=0,r=0,o=0,c=0;const g=Date.now()-1440*60*1e3;let y=0;s.forEach(S=>{t.set(S.status,(t.get(S.status)??0)+1),S.status==="failed"&&(o+=1),S.status==="success"&&(c+=1),S.processingMs!=null&&(i+=S.processingMs,r+=1),S.uploadedAt&&S.uploadedAt.getTime()>=g&&(y+=1)});const v=s.length,b=Array.from(t.entries()).map(([S,N])=>({status:S,count:N,share:v?N/v:0}));return{totalUploads:v,last24h:y,successRate:v?c/v:0,failed:o,avgProcessingMs:r?i/r:null,statusBreakdown:b}}function Jf(s){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(s)}function f_(s){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:s>0&&s<.1?1:0,maximumFractionDigits:1}).format(s)}function Wf(s){return s<1e3?`${s.toFixed(0)}ms`:`${(s/1e3).toFixed(1)}s`}function K2(s){if(s<=0)return"0 B";const t=["B","KB","MB","GB"];let i=s,r=0;for(;i>=1024&&r<t.length-1;)i/=1024,r+=1;return`${i.toFixed(i>=10?0:1)} ${t[r]}`}function ed(s){switch(s){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function d_(s){switch(s){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}const Y2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),m_=s=>{const t=X2(s);return t.charAt(0).toUpperCase()+t.slice(1)},sE=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),$2=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const J2=j.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:m,...g},y)=>j.createElement("svg",{ref:y,...Z2,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:sE("lucide",o),...!c&&!$2(g)&&{"aria-hidden":"true"},...g},[...m.map(([v,b])=>j.createElement(v,b)),...Array.isArray(c)?c:[c]]));const Em=(s,t)=>{const i=j.forwardRef(({className:r,...o},c)=>j.createElement(J2,{ref:c,iconNode:t,className:sE(`lucide-${Y2(m_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=m_(s),i};const W2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],eR=Em("frown",W2);const tR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],nR=Em("meh",tR);const iR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],aR=Em("smile",iR),sR=[{id:"FDB-3401",user:"@ArcaneScout",channel:"in-app",submittedAt:"2024-06-19 21:45 UTC",sentiment:"positive",summary:"Guild Hub revamp",detail:"Really like the new roles overview. Could we pin favorite members?",status:"triaged"},{id:"FDB-3398",user:"@ShadowScribe",channel:"discord",submittedAt:"2024-06-19 20:18 UTC",sentiment:"neutral",summary:"Scan delays",detail:"Scans seemed slower tonight (~5m). Was there maintenance?",status:"investigating"},{id:"FDB-3394",user:"@GuildLeader87",channel:"email",submittedAt:"2024-06-19 18:02 UTC",sentiment:"negative",summary:"Roster export",detail:"Export CSV is missing player class data after last update.",status:"open"},{id:"FDB-3389",user:"@PotionMaster",channel:"in-app",submittedAt:"2024-06-19 16:50 UTC",sentiment:"positive",summary:"New timeline",detail:"Timeline filters are great! Would love to save custom presets.",status:"in review"}];function rR(){const[s,t]=j.useState("all"),[i,r]=j.useState("all"),[o,c]=j.useState("all"),[m,g]=j.useState(""),y=j.useMemo(()=>{const b=m.toLowerCase().trim();return sR.filter(S=>!(s!=="all"&&S.sentiment!==s||i!=="all"&&S.status.toLowerCase()!==i||o!=="all"&&S.channel.toLowerCase()!==o||b&&!`${S.summary} ${S.detail} ${S.user}`.toLowerCase().includes(b)))},[o,m,s,i]),v=j.useMemo(()=>({positive:y.filter(b=>b.sentiment==="positive").length,neutral:y.filter(b=>b.sentiment==="neutral").length,negative:y.filter(b=>b.sentiment==="negative").length,total:y.length}),[y]);return d.jsxs(Ui,{title:"Feedback overview",description:"Monitor and triage incoming player feedback",headerContent:d.jsx(Va,{title:"Feedback overview",subtitle:"Monitor and triage incoming player feedback",hintRight:"Sample data"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:"Realtime wiring mglich; aktuell Demo-Daten."}),d.jsx("div",{className:"admin-top__actions",children:d.jsx("button",{type:"button",className:"btn secondary",children:"Export thread"})})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Sentiment"}),d.jsxs("select",{value:s,onChange:b=>t(b.target.value),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"positive",children:"Positive"}),d.jsx("option",{value:"neutral",children:"Neutral"}),d.jsx("option",{value:"negative",children:"Negative"})]})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsxs("select",{value:i,onChange:b=>r(b.target.value),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"open",children:"Open"}),d.jsx("option",{value:"triaged",children:"Triaged"}),d.jsx("option",{value:"investigating",children:"Investigating"}),d.jsx("option",{value:"in review",children:"In review"})]})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Channel"}),d.jsxs("select",{value:o,onChange:b=>c(b.target.value.toLowerCase()),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"in-app",children:"In-app"}),d.jsx("option",{value:"discord",children:"Discord"}),d.jsx("option",{value:"email",children:"Email"})]})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search"}),d.jsx("input",{value:m,onChange:b=>g(b.target.value),placeholder:"Stichwort, User oder Channel"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Positive"}),d.jsx("strong",{children:v.positive})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Neutral"}),d.jsx("strong",{children:v.neutral})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Negative"}),d.jsx("strong",{children:v.negative})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Total"}),d.jsx("strong",{children:v.total})]})]}),d.jsxs("div",{className:"page-grid",children:[d.jsx(oR,{}),d.jsx(uR,{})]}),d.jsxs("div",{className:"log-table",children:[y.map(b=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:b.id}),d.jsx("p",{className:"log-row__service",children:b.summary})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx(lR,{value:b.sentiment}),d.jsx("span",{className:"log-badge",children:b.status})]})]}),d.jsx("div",{className:"log-row__body",children:d.jsx("span",{className:"log-row__message",children:b.detail})}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Channel: ",b.channel]}),d.jsxs("span",{className:"log-row__timestamp",children:["Submitted: ",b.submittedAt]}),d.jsxs("span",{className:"log-row__timestamp",children:["User: ",b.user]})]})]},b.id)),y.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No feedback matches your filters."})})]})]})}function lR({value:s}){const t={positive:{label:"Positive",color:"#38B26C",Icon:aR},neutral:{label:"Neutral",color:"#F9A825",Icon:nR},negative:{label:"Negative",color:"#FF6B6B",Icon:eR}},{label:i,color:r,Icon:o}=t[s];return d.jsxs("span",{className:"log-badge",style:{color:r,borderColor:r},children:[d.jsx(o,{className:"h-4 w-4","aria-hidden":"true"})," ",i]})}function oR(){const s=[{label:"Positive",value:"48%",color:"#38B26C"},{label:"Neutral",value:"32%",color:"#F9A825"},{label:"Negative",value:"20%",color:"#FF6B6B"}];return d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Sentiment mix"}),d.jsx("ul",{className:"content-shell__list",children:s.map(t=>d.jsxs("li",{style:{color:t.color},children:[t.label,": ",t.value]},t.label))})]})}function uR(){const s=[{label:"Assign to product",detail:"2 waiting"},{label:"Reply templates",detail:"Updated yesterday"},{label:"Quarterly NPS",detail:"Survey closes in 3 days"}];return d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Follow-ups"}),d.jsx("ul",{className:"content-shell__list",children:s.map(t=>d.jsxs("li",{children:[d.jsx("strong",{children:t.label}),"  ",t.detail]},t.label))})]})}const cR=[{id:"TD-1042",title:"Proxy fr Firestore absichern",description:"Service-Account rotation + limitierte IAM-Rollen hinterlegen.",priority:"High",status:"In Progress",dueDate:"2024-06-24",owners:["@anna","@max"],category:"Security",dependencies:["TD-1040"],comments:5,linked:["API-Key-Management"]},{id:"TD-1041",title:"API-Key-Management UI",description:"Admin-Oberflche fr Key-Erzeugung inkl. Rollen/Scopes.",priority:"High",status:"Open",dueDate:"2024-06-26",owners:["@lisa"],category:"Backend",dependencies:["TD-1038"],comments:3},{id:"TD-1039",title:"Dashboard-Ansicht optimieren",description:"Responsive Kacheln, mobile Burger-Men finalisieren.",priority:"Medium",status:"In Progress",dueDate:"2024-06-25",owners:["@sam"],category:"Frontend",comments:2},{id:"TD-1036",title:"Rollenmanagement erweitern",description:"Moderatoren-Rollen mit eingeschrnkten Adminrechten hinzufgen.",priority:"High",status:"Blocked",dueDate:"2024-06-22",owners:["@anna"],category:"User Management",dependencies:["TD-1034"],comments:4},{id:"TD-1034",title:"Auth-Flow hrten",description:"2FA Reminder & Session-Refresh-Tokens begrenzen.",priority:"High",status:"Open",dueDate:"2024-06-21",owners:["@max"],category:"Security",comments:6},{id:"TD-1029",title:"Protokollierung fixen",description:"Fehlerhafte Log-Level im Scan-Job korrigieren.",priority:"Medium",status:"Open",owners:["@jamie"],category:"Bugfix",comments:1},{id:"TD-1025",title:"Inline-Filter fr Tasks",description:"Mobile-first Filter UI, schnelle Statuswechsel.",priority:"Low",status:"Done",owners:["@sam"],category:"Frontend"}],p_={Open:"#8AA5C4","In Progress":"#5C8BC6",Blocked:"#F97373",Done:"#38B26C"},g_={High:"#FF6B6B",Medium:"#F9A825",Low:"#5C8BC6"},y_=[{key:"Backend",label:"Backend",hint:"Proxies, APIs, Datenfluss"},{key:"Frontend",label:"Frontend",hint:"UI, Responsiveness"},{key:"User Management",label:"Nutzerverwaltung",hint:"Rollen, Adminrechte"},{key:"Security",label:"Sicherheit",hint:"Auth, Policies"},{key:"Bugfix",label:"Fehlerbehebung",hint:"Protokollierung & Fixes"}];function hR(){const[s,t]=j.useState(""),[i,r]=j.useState(""),[o,c]=j.useState(""),[m,g]=j.useState(""),[y,v]=j.useState(""),b=j.useMemo(()=>cR.filter(C=>{const X=!s||C.title.toLowerCase().includes(s.toLowerCase())||C.description.toLowerCase().includes(s.toLowerCase()),ie=!i||C.status===i,ne=!o||C.priority===o,ye=!m||C.owners.some(be=>be.toLowerCase().includes(m.toLowerCase())),he=!y||C.category===y;return X&&ie&&ne&&ye&&he}),[y,m,o,s,i]),S=j.useMemo(()=>y_.map(({key:C,label:X,hint:ie})=>({key:C,label:X,hint:ie,items:b.filter(ne=>ne.category===C)})),[b]),N=b.filter(C=>C.status==="Open").length,O=b.filter(C=>C.status==="In Progress").length,M=b.filter(C=>C.status==="Blocked").length,Q=b.filter(C=>C.status==="Done").length;return d.jsxs(Ui,{title:"Todo-Liste & Ops-Tasks",description:"Priorisierte Aufgaben nach Kategorien, Status und Verantwortlichen.",headerContent:d.jsx(Va,{title:"Todo-Liste & Ops-Tasks",subtitle:"Filter, Suche und Inline-Aktionen fr Admin-Aufgaben.",hintRight:"Konzept: Kategorien, Filter, Responsiveness"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:"Inline-Aktionen (Abhaken/Bearbeiten) und mobile Burger-Navigation sind vorgesehen."}),d.jsx("div",{className:"admin-top__actions",children:d.jsx("button",{type:"button",className:"btn secondary",children:"Neue Aufgabe"})})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Suche"}),d.jsx("input",{value:s,onChange:C=>t(C.target.value),placeholder:"Titel, Beschreibung oder Stichwort"})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:i,onChange:C=>r(C.target.value),children:["","Open","In Progress","Blocked","Done"].map(C=>d.jsx("option",{value:C,children:C||"Alle"},C||"all"))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Prioritt"}),d.jsx("select",{value:o,onChange:C=>c(C.target.value),children:["","High","Medium","Low"].map(C=>d.jsx("option",{value:C,children:C||"Alle"},C||"all"))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Kategorie"}),d.jsx("select",{value:y,onChange:C=>v(C.target.value),children:["",...y_.map(C=>C.key)].map(C=>d.jsx("option",{value:C,children:C||"Alle"},C||"all"))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Verantwortlicher"}),d.jsx("input",{value:m,onChange:C=>g(C.target.value),placeholder:"@user oder Name"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Offen"}),d.jsx("strong",{children:N})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"In Arbeit"}),d.jsx("strong",{children:O})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Blockiert"}),d.jsx("strong",{children:M})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Erledigt"}),d.jsx("strong",{children:Q})]})]}),d.jsxs("div",{className:"page-grid",children:[d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Drag & Drop"}),d.jsx("p",{children:"Tasks zwischen Status-Spalten verschieben."})]}),d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Inline-Edit"}),d.jsx("p",{children:"Status, Prioritt oder Due Date direkt anpassen."})]}),d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Benachrichtigungen"}),d.jsx("p",{children:"Statusnderungen werden Verantwortlichen signalisiert."})]})]}),d.jsx("div",{className:"page-grid",children:S.map(C=>d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:C.label}),d.jsx("h2",{children:C.hint})]}),d.jsx("button",{type:"button",className:"btn secondary",children:"+ Task"})]}),d.jsxs("div",{className:"log-table",children:[C.items.length===0&&d.jsx("div",{className:"placeholder-card",children:"Keine Aufgaben in dieser Kategorie."}),C.items.map(X=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:X.id}),d.jsx("p",{className:"log-row__service",children:X.title})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-badge",style:{color:p_[X.status],borderColor:p_[X.status]},children:X.status}),d.jsxs("span",{className:"log-badge",style:{color:g_[X.priority],borderColor:g_[X.priority]},children:["Prio ",X.priority]})]})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-row__message",children:X.description}),X.linked?.length?d.jsxs("span",{className:"log-row__message",children:["Verknpft: ",X.linked.join(", ")]}):null,X.dependencies?.length?d.jsxs("span",{className:"log-row__message",children:["Abhngigkeiten: ",X.dependencies.join(", ")]}):null]}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Due: ",X.dueDate??""]}),d.jsxs("span",{className:"log-row__timestamp",children:["Verantwortliche: ",X.owners.join(", ")]}),X.comments?d.jsxs("span",{className:"log-row__timestamp",children:[X.comments," Kommentare"]}):null]}),d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-badge log-badge--info",children:"Bearbeiten"}),d.jsx("span",{className:"log-badge log-badge--warning",children:"Abhaken"})]}),d.jsx("span",{className:"log-row__timestamp",children:"Inline-Aktion"})]})]},X.id))]})]},C.key))})]})}function fR(){const[s,t]=j.useState(!1);j.useEffect(()=>{const o=c=>{c.key==="Escape"&&t(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]);const i=()=>t(!1),r=()=>t(o=>!o);return d.jsx(hA,{children:d.jsxs("div",{className:"app-shell",children:[d.jsx(pS,{onToggleSidebar:r,isSidebarOpen:s}),d.jsxs("div",{className:"app-body",children:[d.jsx(dS,{open:s,onClose:i}),d.jsx("div",{className:`sidebar-overlay ${s?"is-visible":""}`,onClick:i,"aria-hidden":"true"}),d.jsx("div",{className:"app-content",children:d.jsxs(OT,{children:[d.jsx(Bn,{path:"/",element:d.jsx(AS,{})}),d.jsx(Bn,{path:"/access",element:d.jsx(uA,{})}),d.jsx(Bn,{path:"/users",element:d.jsx(YS,{})}),d.jsx(Bn,{path:"/admin/scans-uploaded",element:d.jsx(H2,{})}),d.jsx(Bn,{path:"/admin/todo",element:d.jsx(hR,{})}),d.jsx(Bn,{path:"/admin/feedback",element:d.jsx(rR,{})}),d.jsx(Bn,{path:"/logs",element:d.jsx(DS,{})}),d.jsx(Bn,{path:"/apis",element:d.jsx(SS,{})}),d.jsx(Bn,{path:"/settings",element:d.jsx(jS,{})}),d.jsx(Bn,{path:"*",element:d.jsx(IT,{to:"/",replace:!0})})]})})]})]})})}qb.createRoot(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(iS,{children:d.jsx(mS,{children:d.jsx(fR,{})})})}));
