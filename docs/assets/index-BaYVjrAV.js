(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Df={exports:{}},Ll={};var ky;function Vb(){if(ky)return Ll;ky=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var m=null;if(c!==void 0&&(m=""+c),o.key!==void 0&&(m=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:m,ref:o!==void 0?o:null,props:c}}return Ll.Fragment=t,Ll.jsx=i,Ll.jsxs=i,Ll}var By;function Lb(){return By||(By=1,Df.exports=Vb()),Df.exports}var d=Lb(),If={exports:{}},Te={};var Py;function Ub(){if(Py)return Te;Py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function z(L){return L===null||typeof L!="object"?null:(L=R&&L[R]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,j={};function Q(L,J,ae){this.props=L,this.context=J,this.refs=j,this.updater=ae||C}Q.prototype.isReactComponent={},Q.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},Q.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function te(){}te.prototype=Q.prototype;function se(L,J,ae){this.props=L,this.context=J,this.refs=j,this.updater=ae||C}var pe=se.prototype=new te;pe.constructor=se,G(pe,Q.prototype),pe.isPureReactComponent=!0;var xe=Array.isArray;function Ee(){}var O={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(L,J,ae){var ue=ae.ref;return{$$typeof:s,type:L,key:J,ref:ue!==void 0?ue:null,props:ae}}function M(L,J){return N(L.type,J,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function k(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return J[ae]})}var w=/\/+/g;function me(L,J){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):J.toString(36)}function Ge(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Ee,Ee):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function $(L,J,ae,ue,ve){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(Re){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case s:case t:Ce=!0;break;case b:return Ce=L._init,$(Ce(L._payload),J,ae,ue,ve)}}if(Ce)return ve=ve(L),Ce=ue===""?"."+me(L,0):ue,xe(ve)?(ae="",Ce!=null&&(ae=Ce.replace(w,"$&/")+"/"),$(ve,J,ae,"",function(Sn){return Sn})):ve!=null&&(U(ve)&&(ve=M(ve,ae+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(w,"$&/")+"/")+Ce)),J.push(ve)),1;Ce=0;var Rt=ue===""?".":ue+":";if(xe(L))for(var tt=0;tt<L.length;tt++)ue=L[tt],Re=Rt+me(ue,tt),Ce+=$(ue,J,ae,Re,ve);else if(tt=z(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(ue=L.next()).done;)ue=ue.value,Re=Rt+me(ue,tt++),Ce+=$(ue,J,ae,Re,ve);else if(Re==="object"){if(typeof L.then=="function")return $(Ge(L),J,ae,ue,ve);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ie(L,J,ae){if(L==null)return L;var ue=[],ve=0;return $(L,ue,"","",function(Re){return J.call(ae,Re,ve++)}),ue}function oe(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var Le=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ue={map:ie,forEach:function(L,J,ae){ie(L,function(){J.apply(this,arguments)},ae)},count:function(L){var J=0;return ie(L,function(){J++}),J},toArray:function(L){return ie(L,function(J){return J})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Te.Activity=A,Te.Children=Ue,Te.Component=Q,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=se,Te.StrictMode=r,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Te.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Te.cache=function(L){return function(){return L.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(L,J,ae){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=G({},L.props),ve=L.key;if(J!=null)for(Re in J.key!==void 0&&(ve=""+J.key),J)!x.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(ue[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ce=Array(Re),Rt=0;Rt<Re;Rt++)Ce[Rt]=arguments[Rt+2];ue.children=Ce}return N(L.type,ve,ue)},Te.createContext=function(L){return L={$$typeof:m,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Te.createElement=function(L,J,ae){var ue,ve={},Re=null;if(J!=null)for(ue in J.key!==void 0&&(Re=""+J.key),J)x.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=J[ue]);var Ce=arguments.length-2;if(Ce===1)ve.children=ae;else if(1<Ce){for(var Rt=Array(Ce),tt=0;tt<Ce;tt++)Rt[tt]=arguments[tt+2];ve.children=Rt}if(L&&L.defaultProps)for(ue in Ce=L.defaultProps,Ce)ve[ue]===void 0&&(ve[ue]=Ce[ue]);return N(L,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(L){return{$$typeof:g,render:L}},Te.isValidElement=U,Te.lazy=function(L){return{$$typeof:b,_payload:{_status:-1,_result:L},_init:oe}},Te.memo=function(L,J){return{$$typeof:v,type:L,compare:J===void 0?null:J}},Te.startTransition=function(L){var J=O.T,ae={};O.T=ae;try{var ue=L(),ve=O.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,Le)}catch(Re){Le(Re)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),O.T=J}},Te.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Te.use=function(L){return O.H.use(L)},Te.useActionState=function(L,J,ae){return O.H.useActionState(L,J,ae)},Te.useCallback=function(L,J){return O.H.useCallback(L,J)},Te.useContext=function(L){return O.H.useContext(L)},Te.useDebugValue=function(){},Te.useDeferredValue=function(L,J){return O.H.useDeferredValue(L,J)},Te.useEffect=function(L,J){return O.H.useEffect(L,J)},Te.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Te.useId=function(){return O.H.useId()},Te.useImperativeHandle=function(L,J,ae){return O.H.useImperativeHandle(L,J,ae)},Te.useInsertionEffect=function(L,J){return O.H.useInsertionEffect(L,J)},Te.useLayoutEffect=function(L,J){return O.H.useLayoutEffect(L,J)},Te.useMemo=function(L,J){return O.H.useMemo(L,J)},Te.useOptimistic=function(L,J){return O.H.useOptimistic(L,J)},Te.useReducer=function(L,J,ae){return O.H.useReducer(L,J,ae)},Te.useRef=function(L){return O.H.useRef(L)},Te.useState=function(L){return O.H.useState(L)},Te.useSyncExternalStore=function(L,J,ae){return O.H.useSyncExternalStore(L,J,ae)},Te.useTransition=function(){return O.H.useTransition()},Te.version="19.2.0",Te}var qy;function Rd(){return qy||(qy=1,If.exports=Ub()),If.exports}var D=Rd(),Mf={exports:{}},Ul={},Of={exports:{}},Vf={};var Hy;function zb(){return Hy||(Hy=1,(function(s){function t($,ie){var oe=$.length;$.push(ie);e:for(;0<oe;){var Le=oe-1>>>1,Ue=$[Le];if(0<o(Ue,ie))$[Le]=ie,$[oe]=Ue,oe=Le;else break e}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],oe=$.pop();if(oe!==ie){$[0]=oe;e:for(var Le=0,Ue=$.length,L=Ue>>>1;Le<L;){var J=2*(Le+1)-1,ae=$[J],ue=J+1,ve=$[ue];if(0>o(ae,oe))ue<Ue&&0>o(ve,ae)?($[Le]=ve,$[ue]=oe,Le=ue):($[Le]=ae,$[J]=oe,Le=J);else if(ue<Ue&&0>o(ve,oe))$[Le]=ve,$[ue]=oe,Le=ue;else break e}}return ie}function o($,ie){var oe=$.sortIndex-ie.sortIndex;return oe!==0?oe:$.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var y=[],v=[],b=1,A=null,R=3,z=!1,C=!1,G=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function pe($){for(var ie=i(v);ie!==null;){if(ie.callback===null)r(v);else if(ie.startTime<=$)r(v),ie.sortIndex=ie.expirationTime,t(y,ie);else break;ie=i(v)}}function xe($){if(G=!1,pe($),!C)if(i(y)!==null)C=!0,Ee||(Ee=!0,k());else{var ie=i(v);ie!==null&&Ge(xe,ie.startTime-$)}}var Ee=!1,O=-1,x=5,N=-1;function M(){return j?!0:!(s.unstable_now()-N<x)}function U(){if(j=!1,Ee){var $=s.unstable_now();N=$;var ie=!0;try{e:{C=!1,G&&(G=!1,te(O),O=-1),z=!0;var oe=R;try{t:{for(pe($),A=i(y);A!==null&&!(A.expirationTime>$&&M());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,R=A.priorityLevel;var Ue=Le(A.expirationTime<=$);if($=s.unstable_now(),typeof Ue=="function"){A.callback=Ue,pe($),ie=!0;break t}A===i(y)&&r(y),pe($)}else r(y);A=i(y)}if(A!==null)ie=!0;else{var L=i(v);L!==null&&Ge(xe,L.startTime-$),ie=!1}}break e}finally{A=null,R=oe,z=!1}ie=void 0}}finally{ie?k():Ee=!1}}}var k;if(typeof se=="function")k=function(){se(U)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,me=w.port2;w.port1.onmessage=U,k=function(){me.postMessage(null)}}else k=function(){Q(U,0)};function Ge($,ie){O=Q(function(){$(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function($){switch(R){case 1:case 2:case 3:var ie=3;break;default:ie=R}var oe=R;R=ie;try{return $()}finally{R=oe}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=R;R=$;try{return ie()}finally{R=oe}},s.unstable_scheduleCallback=function($,ie,oe){var Le=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Le+oe:Le):oe=Le,$){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=oe+Ue,$={id:b++,callback:ie,priorityLevel:$,startTime:oe,expirationTime:Ue,sortIndex:-1},oe>Le?($.sortIndex=oe,t(v,$),i(y)===null&&$===i(v)&&(G?(te(O),O=-1):G=!0,Ge(xe,oe-Le))):($.sortIndex=Ue,t(y,$),C||z||(C=!0,Ee||(Ee=!0,k()))),$},s.unstable_shouldYield=M,s.unstable_wrapCallback=function($){var ie=R;return function(){var oe=R;R=ie;try{return $.apply(this,arguments)}finally{R=oe}}}})(Vf)),Vf}var Fy;function kb(){return Fy||(Fy=1,Of.exports=zb()),Of.exports}var Lf={exports:{}},Xt={};var Gy;function Bb(){if(Gy)return Xt;Gy=1;var s=Rd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:v,implementation:b}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,b)},Xt.flushSync=function(y){var v=m.T,b=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=v,r.p=b,r.d.f()}},Xt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},Xt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,A=g(b,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:z}):b==="script"&&r.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},Xt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,A=g(b,v.crossOrigin);r.d.L(y,b,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},Xt.requestFormReset=function(y){r.d.r(y)},Xt.unstable_batchedUpdates=function(y,v){return y(v)},Xt.useFormState=function(y,v,b){return m.H.useFormState(y,v,b)},Xt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Qy;function Pb(){if(Qy)return Lf.exports;Qy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Lf.exports=Bb(),Lf.exports}var Ky;function qb(){if(Ky)return Ul;Ky=1;var s=kb(),t=Rd(),i=Pb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),se=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case Q:return"Profiler";case j:return"StrictMode";case xe:return"Suspense";case Ee:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case se:return e.displayName||"Context";case te:return(e._context.displayName||"Context")+".Consumer";case pe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var Ge=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Le=[],Ue=-1;function L(e){return{current:e}}function J(e){0>Ue||(e.current=Le[Ue],Le[Ue]=null,Ue--)}function ae(e,n){Ue++,Le[Ue]=e.current,e.current=n}var ue=L(null),ve=L(null),Re=L(null),Ce=L(null);function Rt(e,n){switch(ae(Re,n),ae(ve,e),ae(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?oy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=oy(n),e=uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ue),ae(ue,e)}function tt(){J(ue),J(ve),J(Re)}function Sn(e){e.memoizedState!==null&&ae(Ce,e);var n=ue.current,a=uy(n,e.type);n!==a&&(ae(ve,e),ae(ue,a))}function X(e){ve.current===e&&(J(ue),J(ve)),Ce.current===e&&(J(Ce),Il._currentValue=oe)}var be,ot;function st(e){if(be===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",ot=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+ot}var An=!1;function Ss(e,n){if(!e||An)return"";An=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(K){F=K}e.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var Z=`
`+I[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{An=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?st(a):""}function Rc(e,n){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return e.child!==n&&n!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return Ss(e.type,!1);case 11:return Ss(e.type.render,!1);case 1:return Ss(e.type,!0);case 31:return st("Activity");default:return""}}function oo(e){try{var n="",a=null;do n+=Rc(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var As=Object.prototype.hasOwnProperty,Ba=s.unstable_scheduleCallback,ws=s.unstable_cancelCallback,Nc=s.unstable_shouldYield,Vr=s.unstable_requestPaint,Ut=s.unstable_now,uo=s.unstable_getCurrentPriorityLevel,Nt=s.unstable_ImmediatePriority,Dt=s.unstable_UserBlockingPriority,ui=s.unstable_NormalPriority,co=s.unstable_LowPriority,Lr=s.unstable_IdlePriority,Cc=s.log,Pa=s.unstable_setDisableYieldValue,qi=null,Kt=null;function wn(e){if(typeof Cc=="function"&&Pa(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(qi,e)}catch{}}var en=Math.clz32?Math.clz32:ho,jc=Math.log,Ur=Math.LN2;function ho(e){return e>>>=0,e===0?32:31-(jc(e)/Ur|0)|0}var qa=256,Kn=262144,Hi=4194304;function zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xn(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=zn(l):(_&=T,_!==0?h=zn(_):a||(a=T&~e,a!==0&&(h=zn(a))))):(T=l&~f,T!==0?h=zn(T):_!==0?h=zn(_):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Fi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(){var e=Hi;return Hi<<=1,(Hi&62914560)===0&&(Hi=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zt(e,n,a,l,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-en(a),ee=1<<Z;T[Z]=0,I[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var K=F[Z];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&kr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function kr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-en(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Qi(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-en(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Ki(e,n){var a=n&-n;return a=(a&42)!==0?1:Br(a),(a&(e.suspendedLanes|n))!==0?0:a}function Br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hi(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Iy(e.type))}function fo(e,n){var a=ie.p;try{return ie.p=e,n()}finally{ie.p=a}}var Yn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Yn,kt="__reactProps$"+Yn,Xn="__reactContainer$"+Yn,Yi="__reactEvents$"+Yn,$n="__reactListeners$"+Yn,mo="__reactHandles$"+Yn,qr="__reactResources$"+Yn,fi="__reactMarker$"+Yn;function Ha(e){delete e[ct],delete e[kt],delete e[Yi],delete e[$n],delete e[mo]}function di(e){var n=e[ct];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Xn]||a[ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=gy(e);e!==null;){if(a=e[ct])return a;e=gy(e)}return n}e=a,a=e.parentNode}return null}function mi(e){if(e=e[ct]||e[Xn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Fa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function kn(e){var n=e[qr];return n||(n=e[qr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pt(e){e[fi]=!0}var Rs=new Set,Xi={};function tn(e,n){Zn(e,n),Zn(e+"Capture",n)}function Zn(e,n){for(Xi[e]=n,e=0;e<n.length;e++)Rs.add(n[e])}var Dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Fr={};function po(e){return As.call(Fr,e)?!0:As.call(Hr,e)?!1:Dc.test(e)?Fr[e]=!0:(Hr[e]=!0,!1)}function $i(e,n,a){if(po(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Zi(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Rn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function go(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ic(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ns(e){if(!e._valueTracker){var n=go(e)?"checked":"value";e._valueTracker=Ic(e,n,""+e[n])}}function Gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=go(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pi=/[\n"\\]/g;function ht(e){return e.replace(pi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ji(e,n,a,l,h,f,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?js(e,_,nn(n)):a!=null?js(e,_,nn(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+nn(T):e.removeAttribute("name")}function Ga(e,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ns(e);return}a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ns(e)}function js(e,n,a){n==="number"&&Cs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qe(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qa(e,n,a){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+nn(a):""}function Wi(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ge(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ns(e)}function Nn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Mc.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function yo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Qr(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Qr(e,f,n[f])}function Kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return Vc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Ds=null;function Is(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gi=null,mn=null;function vo(e){var n=mi(e);if(n&&(e=n.stateNode)){var a=e[kt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ji(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ht(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[kt]||null;if(!h)throw Error(r(90));Ji(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Gr(l)}break e;case"textarea":Qa(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&qe(e,!!a.multiple,n,!1)}}}var Yr=!1;function _o(e,n,a){if(Yr)return e(n,a);Yr=!0;try{var l=e(n);return l}finally{if(Yr=!1,(gi!==null||mn!==null)&&(pu(),gi&&(n=gi,e=mn,mn=gi=null,vo(n),e)))for(n=0;n<e.length;n++)vo(e[n])}}function ln(e,n){var a=e.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Bn)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Xr=!1}var pn=null,Ms=null,ei=null;function ea(){if(ei)return ei;var e,n=Ms,a=n.length,l,h="value"in pn?pn.value:pn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return ei=h.slice(e,1<l?1-l:void 0)}function Ka(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ta(){return!0}function nt(){return!1}function Yt(e){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ta:nt,this.isPropagationStopped=nt,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),n}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Yt(yi),na=A({},yi,{view:0,detail:0}),Eo=Yt(na),ia,Os,an,Xa=A({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&e.type==="mousemove"?(ia=e.screenX-an.screenX,Os=e.screenY-an.screenY):Os=ia=0,an=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),bo=Yt(Xa),$a=A({},Xa,{dataTransfer:0}),To=Yt($a),$r=A({},na,{relatedTarget:0}),aa=Yt($r),So=A({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vs=Yt(So),Lc=A({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ao=Yt(Lc),Za=A({},yi,{data:0}),Zr=Yt(Za),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wr[e])?!!n[e]:!1}function sa(){return xo}var Ro=A({},na,{key:function(e){if(e.key){var n=wo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(e){return e.type==="keypress"?Ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),No=Yt(Ro),vi=A({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Yt(vi),Co=A({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),jo=Yt(Co),Do=A({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ls=Yt(Do),sn=A({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Io=Yt(sn),Mo=A({},yi,{newState:0,oldState:0}),ra=Yt(Mo),u=[9,13,27,32],p=Bn&&"CompositionEvent"in window,E=null;Bn&&"documentMode"in document&&(E=document.documentMode);var S=Bn&&"TextEvent"in window&&!E,P=Bn&&(!p||E&&8<E&&11>=E),Y=" ",le=!1;function Ye(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var je=!1;function Mt(e,n){switch(e){case"compositionend":return Et(n);case"keypress":return n.which!==32?null:(le=!0,Y);case"textInput":return e=n.data,e===Y&&le?null:e;default:return null}}function Ot(e,n){if(je)return e==="compositionend"||!p&&Ye(e,n)?(e=ea(),ei=Ms=pn=null,je=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return P&&n.locale!=="ko"?null:n.data;default:return null}}var la={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!la[e.type]:n==="textarea"}function Ja(e,n,a,l){gi?mn?mn.push(l):mn=[l]:gi=l,n=Tu(n,"onChange"),0<n.length&&(a=new Ya("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var _i=null,tl=null;function oE(e){ny(e,0)}function Oo(e){var n=Fa(e);if(Gr(n))return e}function bm(e,n){if(e==="change")return n}var Tm=!1;if(Bn){var Uc;if(Bn){var zc="oninput"in document;if(!zc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),zc=typeof Sm.oninput=="function"}Uc=zc}else Uc=!1;Tm=Uc&&(!document.documentMode||9<document.documentMode)}function Am(){_i&&(_i.detachEvent("onpropertychange",wm),tl=_i=null)}function wm(e){if(e.propertyName==="value"&&Oo(tl)){var n=[];Ja(n,tl,e,Is(e)),_o(oE,n)}}function uE(e,n,a){e==="focusin"?(Am(),_i=n,tl=a,_i.attachEvent("onpropertychange",wm)):e==="focusout"&&Am()}function cE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(tl)}function hE(e,n){if(e==="click")return Oo(n)}function fE(e,n){if(e==="input"||e==="change")return Oo(n)}function dE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:dE;function nl(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!As.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,n){var a=xm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xm(a)}}function Nm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cs(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Cs(e.document)}return n}function kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mE=Bn&&"documentMode"in document&&11>=document.documentMode,Us=null,Bc=null,il=null,Pc=!1;function jm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pc||Us==null||Us!==Cs(l)||(l=Us,"selectionStart"in l&&kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Tu(Bc,"onSelect"),0<l.length&&(n=new Ya("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Us)))}function Wa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var zs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},qc={},Dm={};Bn&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function es(e){if(qc[e])return qc[e];if(!zs[e])return e;var n=zs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dm)return qc[e]=n[a];return e}var Im=es("animationend"),Mm=es("animationiteration"),Om=es("animationstart"),pE=es("transitionrun"),gE=es("transitionstart"),yE=es("transitioncancel"),Vm=es("transitionend"),Lm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Pn(e,n){Lm.set(e,n),tn(n,[e])}var Vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ks=0,Fc=0;function Lo(){for(var e=ks,n=Fc=ks=0;n<e;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Um(a,h,f)}}function Uo(e,n,a,l){Cn[ks++]=e,Cn[ks++]=n,Cn[ks++]=a,Cn[ks++]=l,Fc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gc(e,n,a,l){return Uo(e,n,a,l),zo(e)}function ts(e,n){return Uo(e,null,null,n),zo(e)}function Um(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-en(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function zo(e){if(50<wl)throw wl=0,ef=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Bs={};function vE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,l){return new vE(e,n,a,l)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ei(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ko(e,n,a,l,h,f){var _=0;if(l=e,typeof e=="function")Qc(e)&&(_=1);else if(typeof e=="string")_=Sb(e,a,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=yn(31,a,n,h),e.elementType=N,e.lanes=f,e;case G:return ns(a.children,h,f,n);case j:_=8,h|=24;break;case Q:return e=yn(12,a,n,h|2),e.elementType=Q,e.lanes=f,e;case xe:return e=yn(13,a,n,h),e.elementType=xe,e.lanes=f,e;case Ee:return e=yn(19,a,n,h),e.elementType=Ee,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:_=10;break e;case te:_=9;break e;case pe:_=11;break e;case O:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=yn(_,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function ns(e,n,a,l){return e=yn(7,e,l,n),e.lanes=a,e}function Kc(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function km(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Yc(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bm=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var a=Bm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:oo(n)},Bm.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var Ps=[],qs=0,Bo=null,al=0,Dn=[],In=0,oa=null,ti=1,ni="";function bi(e,n){Ps[qs++]=al,Ps[qs++]=Bo,Bo=e,al=n}function Pm(e,n,a){Dn[In++]=ti,Dn[In++]=ni,Dn[In++]=oa,oa=e;var l=ti;e=ni;var h=32-en(l)-1;l&=~(1<<h),a+=1;var f=32-en(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ti=1<<32-en(n)+h|a<<h|l,ni=f+e}else ti=1<<f|a<<h|l,ni=e}function Xc(e){e.return!==null&&(bi(e,1),Pm(e,1,0))}function $c(e){for(;e===Bo;)Bo=Ps[--qs],Ps[qs]=null,al=Ps[--qs],Ps[qs]=null;for(;e===oa;)oa=Dn[--In],Dn[In]=null,ni=Dn[--In],Dn[In]=null,ti=Dn[--In],Dn[In]=null}function qm(e,n){Dn[In++]=ti,Dn[In++]=ni,Dn[In++]=oa,ti=n.id,ni=n.overflow,oa=e}var Bt=null,it=null,Ve=!1,ua=null,Mn=!1,Zc=Error(r(519));function ca(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(jn(n,e)),Zc}function Hm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ct]=e,n[kt]=l,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ie(Rl[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),Ga(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),Wi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ry(n.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),l.onScroll!=null&&Ie("scroll",n),l.onScrollEnd!=null&&Ie("scrollend",n),l.onClick!=null&&(n.onclick=It),n=!0):n=!1,n||ca(e,!0)}function Fm(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function Hs(e){if(e!==Bt)return!1;if(!Ve)return Fm(e),Ve=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gf(e.type,e.memoizedProps)),a=!a),a&&it&&ca(e),Fm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));it=py(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));it=py(e)}else n===27?(n=it,Aa(e.type)?(e=bf,bf=null,it=e):it=n):it=Bt?Vn(e.stateNode.nextSibling):null;return!0}function is(){it=Bt=null,Ve=!1}function Jc(){var e=ua;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),ua=null),e}function sl(e){ua===null?ua=[e]:ua.push(e)}var Wc=L(null),as=null,Ti=null;function ha(e,n,a){ae(Wc,n._currentValue),n._currentValue=a}function Si(e){e._currentValue=Wc.current,J(Wc)}function eh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function th(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),eh(f.return,a,e),l||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),eh(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Fs(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ce.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}h=h.return}e!==null&&th(n,e,a,l),n.flags|=262144}function Po(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ss(e){as=e,Ti=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pt(e){return Gm(as,e)}function qo(e,n){return as===null&&ss(e),Gm(e,n)}function Gm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(e===null)throw Error(r(308));Ti=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ti=Ti.next=n;return a}var _E=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},EE=s.unstable_scheduleCallback,bE=s.unstable_NormalPriority,bt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new _E,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&EE(bE,function(){e.controller.abort()})}var ll=null,ih=0,Gs=0,Qs=null;function TE(e,n){if(ll===null){var a=ll=[];ih=0,Gs=lf(),Qs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ih++,n.then(Qm,Qm),n}function Qm(){if(--ih===0&&ll!==null){Qs!==null&&(Qs.status="fulfilled");var e=ll;ll=null,Gs=0,Qs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function SE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Km=$.S;$.S=function(e,n){jg=Ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TE(e,n),Km!==null&&Km(e,n)};var rs=L(null);function ah(){var e=rs.current;return e!==null?e:et.pooledCache}function Ho(e,n){n===null?ae(rs,rs.current):ae(rs,n.pool)}function Ym(){var e=ah();return e===null?null:{parent:bt._currentValue,pool:e}}var Ks=Error(r(460)),sh=Error(r(474)),Fo=Error(r(542)),Go={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $m(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(It,It),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e;default:if(typeof n.status=="string")n.then(It,It);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e}throw os=n,Ks}}function ls(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(os=a,Ks):a}}var os=null;function Zm(){if(os===null)throw Error(r(459));var e=os;return os=null,e}function Jm(e){if(e===Ks||e===Fo)throw Error(r(483))}var Ys=null,ol=0;function Qo(e){var n=ol;return ol+=1,Ys===null&&(Ys=[]),$m(Ys,e,n)}function ul(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ko(e,n){throw n.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wm(e){function n(B,V){if(e){var q=B.deletions;q===null?(B.deletions=[V],B.flags|=16):q.push(V)}}function a(B,V){if(!e)return null;for(;V!==null;)n(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=Ei(B,V),B.index=0,B.sibling=null,B}function f(B,V,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<V?(B.flags|=67108866,V):q):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function _(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function T(B,V,q,W){return V===null||V.tag!==6?(V=Kc(q,B.mode,W),V.return=B,V):(V=h(V,q),V.return=B,V)}function I(B,V,q,W){var ge=q.type;return ge===G?Z(B,V,q.props.children,W,q.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&ls(ge)===V.type)?(V=h(V,q.props),ul(V,q),V.return=B,V):(V=ko(q.type,q.key,q.props,null,B.mode,W),ul(V,q),V.return=B,V)}function H(B,V,q,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Yc(q,B.mode,W),V.return=B,V):(V=h(V,q.children||[]),V.return=B,V)}function Z(B,V,q,W,ge){return V===null||V.tag!==7?(V=ns(q,B.mode,W,ge),V.return=B,V):(V=h(V,q),V.return=B,V)}function ee(B,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Kc(""+V,B.mode,q),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case z:return q=ko(V.type,V.key,V.props,null,B.mode,q),ul(q,V),q.return=B,q;case C:return V=Yc(V,B.mode,q),V.return=B,V;case x:return V=ls(V),ee(B,V,q)}if(Ge(V)||k(V))return V=ns(V,B.mode,q,null),V.return=B,V;if(typeof V.then=="function")return ee(B,Qo(V),q);if(V.$$typeof===se)return ee(B,qo(B,V),q);Ko(B,V)}return null}function F(B,V,q,W){var ge=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:T(B,V,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return q.key===ge?I(B,V,q,W):null;case C:return q.key===ge?H(B,V,q,W):null;case x:return q=ls(q),F(B,V,q,W)}if(Ge(q)||k(q))return ge!==null?null:Z(B,V,q,W,null);if(typeof q.then=="function")return F(B,V,Qo(q),W);if(q.$$typeof===se)return F(B,V,qo(B,q),W);Ko(B,q)}return null}function K(B,V,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(q)||null,T(V,B,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return B=B.get(W.key===null?q:W.key)||null,I(V,B,W,ge);case C:return B=B.get(W.key===null?q:W.key)||null,H(V,B,W,ge);case x:return W=ls(W),K(B,V,q,W,ge)}if(Ge(W)||k(W))return B=B.get(q)||null,Z(V,B,W,ge,null);if(typeof W.then=="function")return K(B,V,q,Qo(W),ge);if(W.$$typeof===se)return K(B,V,q,qo(V,W),ge);Ko(V,W)}return null}function ce(B,V,q,W){for(var ge=null,He=null,he=V,Ne=V=0,Oe=null;he!==null&&Ne<q.length;Ne++){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var Fe=F(B,he,q[Ne],W);if(Fe===null){he===null&&(he=Oe);break}e&&he&&Fe.alternate===null&&n(B,he),V=f(Fe,V,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe,he=Oe}if(Ne===q.length)return a(B,he),Ve&&bi(B,Ne),ge;if(he===null){for(;Ne<q.length;Ne++)he=ee(B,q[Ne],W),he!==null&&(V=f(he,V,Ne),He===null?ge=he:He.sibling=he,He=he);return Ve&&bi(B,Ne),ge}for(he=l(he);Ne<q.length;Ne++)Oe=K(he,B,Ne,q[Ne],W),Oe!==null&&(e&&Oe.alternate!==null&&he.delete(Oe.key===null?Ne:Oe.key),V=f(Oe,V,Ne),He===null?ge=Oe:He.sibling=Oe,He=Oe);return e&&he.forEach(function(Ca){return n(B,Ca)}),Ve&&bi(B,Ne),ge}function ye(B,V,q,W){if(q==null)throw Error(r(151));for(var ge=null,He=null,he=V,Ne=V=0,Oe=null,Fe=q.next();he!==null&&!Fe.done;Ne++,Fe=q.next()){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var Ca=F(B,he,Fe.value,W);if(Ca===null){he===null&&(he=Oe);break}e&&he&&Ca.alternate===null&&n(B,he),V=f(Ca,V,Ne),He===null?ge=Ca:He.sibling=Ca,He=Ca,he=Oe}if(Fe.done)return a(B,he),Ve&&bi(B,Ne),ge;if(he===null){for(;!Fe.done;Ne++,Fe=q.next())Fe=ee(B,Fe.value,W),Fe!==null&&(V=f(Fe,V,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return Ve&&bi(B,Ne),ge}for(he=l(he);!Fe.done;Ne++,Fe=q.next())Fe=K(he,B,Ne,Fe.value,W),Fe!==null&&(e&&Fe.alternate!==null&&he.delete(Fe.key===null?Ne:Fe.key),V=f(Fe,V,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return e&&he.forEach(function(Ob){return n(B,Ob)}),Ve&&bi(B,Ne),ge}function We(B,V,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case z:e:{for(var ge=q.key;V!==null;){if(V.key===ge){if(ge=q.type,ge===G){if(V.tag===7){a(B,V.sibling),W=h(V,q.props.children),W.return=B,B=W;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&ls(ge)===V.type){a(B,V.sibling),W=h(V,q.props),ul(W,q),W.return=B,B=W;break e}a(B,V);break}else n(B,V);V=V.sibling}q.type===G?(W=ns(q.props.children,B.mode,W,q.key),W.return=B,B=W):(W=ko(q.type,q.key,q.props,null,B.mode,W),ul(W,q),W.return=B,B=W)}return _(B);case C:e:{for(ge=q.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(B,V.sibling),W=h(V,q.children||[]),W.return=B,B=W;break e}else{a(B,V);break}else n(B,V);V=V.sibling}W=Yc(q,B.mode,W),W.return=B,B=W}return _(B);case x:return q=ls(q),We(B,V,q,W)}if(Ge(q))return ce(B,V,q,W);if(k(q)){if(ge=k(q),typeof ge!="function")throw Error(r(150));return q=ge.call(q),ye(B,V,q,W)}if(typeof q.then=="function")return We(B,V,Qo(q),W);if(q.$$typeof===se)return We(B,V,qo(B,q),W);Ko(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(B,V.sibling),W=h(V,q),W.return=B,B=W):(a(B,V),W=Kc(q,B.mode,W),W.return=B,B=W),_(B)):a(B,V)}return function(B,V,q,W){try{ol=0;var ge=We(B,V,q,W);return Ys=null,ge}catch(he){if(he===Ks||he===Fo)throw he;var He=yn(29,he,null,B.mode);return He.lanes=W,He.return=B,He}finally{}}}var us=Wm(!0),ep=Wm(!1),fa=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ma(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=zo(e),Um(e,null,a),n}return Uo(e,l,n,a),zo(e)}function cl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Qi(e,a)}}function oh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uh=!1;function hl(){if(uh){var e=Qs;if(e!==null)throw e}}function fl(e,n,a,l){uh=!1;var h=e.updateQueue;fa=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?f=H:_.next=H,_=I;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=I))}if(f!==null){var ee=h.baseState;_=0,Z=H=I=null,T=f;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Me&F)===F:(l&F)===F){F!==0&&F===Gs&&(uh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=e,ye=T;F=n;var We=a;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){ee=ce.call(We,ee,F);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,F=typeof ce=="function"?ce.call(We,ee,F):ce,F==null)break e;ee=A({},ee,F);break e;case 2:fa=!0}}F=T.callback,F!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=K,I=ee):Z=Z.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),_a|=_,e.lanes=_,e.memoizedState=ee}}function tp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function np(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)tp(a[e],n)}var Xs=L(null),Yo=L(0);function ip(e,n){e=Ii,ae(Yo,e),ae(Xs,n),Ii=e|n.baseLanes}function ch(){ae(Yo,Ii),ae(Xs,Xs.current)}function hh(){Ii=Yo.current,J(Xs),J(Yo)}var vn=L(null),On=null;function pa(e){var n=e.alternate;ae(gt,gt.current&1),ae(vn,e),On===null&&(n===null||Xs.current!==null||n.memoizedState!==null)&&(On=e)}function fh(e){ae(gt,gt.current),ae(vn,e),On===null&&(On=e)}function ap(e){e.tag===22?(ae(gt,gt.current),ae(vn,e),On===null&&(On=e)):ga()}function ga(){ae(gt,gt.current),ae(vn,vn.current)}function _n(e){J(vn),On===e&&(On=null),J(gt)}var gt=L(0);function Xo(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_f(a)||Ef(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ai=0,Ae=null,Ze=null,Tt=null,$o=!1,$s=!1,cs=!1,Zo=0,dl=0,Zs=null,AE=0;function ft(){throw Error(r(321))}function dh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function mh(e,n,a,l,h,f){return Ai=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?Pp:Ch,cs=!1,f=a(l,h),cs=!1,$s&&(f=rp(n,a,l,h)),sp(e),f}function sp(e){$.H=gl;var n=Ze!==null&&Ze.next!==null;if(Ai=0,Tt=Ze=Ae=null,$o=!1,dl=0,Zs=null,n)throw Error(r(300));e===null||St||(e=e.dependencies,e!==null&&Po(e)&&(St=!0))}function rp(e,n,a,l){Ae=e;var h=0;do{if($s&&(Zs=null),dl=0,$s=!1,25<=h)throw Error(r(301));if(h+=1,Tt=Ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=qp,f=n(a,l)}while($s);return f}function wE(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?ml(n):n,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ae.flags|=1024),n}function ph(){var e=Zo!==0;return Zo=0,e}function gh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function yh(e){if($o){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}$o=!1}Ai=0,Tt=Ze=Ae=null,$s=!1,dl=Zo=0,Zs=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ae.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function yt(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=Tt===null?Ae.memoizedState:Tt.next;if(n!==null)Tt=n,Ze=e;else{if(e===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Tt===null?Ae.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(e){var n=dl;return dl+=1,Zs===null&&(Zs=[]),e=$m(Zs,e,n),n=Ae,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Pp:Ch),e}function Wo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ml(e);if(e.$$typeof===se)return Pt(e)}throw Error(r(438,String(e)))}function vh(e){var n=null,a=Ae.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Jo(),Ae.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=M;return n.index++,a}function wi(e,n){return typeof n=="function"?n(e):n}function eu(e){var n=yt();return _h(n,Ze,e)}function _h(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=_=null,I=null,H=n,Z=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Me&ee)===ee:(Ai&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Gs&&(Z=!0);else if((Ai&F)===F){H=H.next,F===Gs&&(Z=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ee,_=f):I=I.next=ee,Ae.lanes|=F,_a|=F;ee=H.action,cs&&a(f,ee),f=H.hasEagerState?H.eagerState:a(f,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,_=f):I=I.next=F,Ae.lanes|=ee,_a|=ee;H=H.next}while(H!==null&&H!==n);if(I===null?_=f:I.next=T,!gn(f,e.memoizedState)&&(St=!0,Z&&(a=Qs,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Eh(e){var n=yt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);gn(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function lp(e,n,a){var l=Ae,h=yt(),f=Ve;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!gn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,St=!0),h=h.queue,Sh(cp.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Js(9,{destroy:void 0},up.bind(null,l,h,a,n),null),et===null)throw Error(r(349));f||(Ai&127)!==0||op(l,n,a)}return a}function op(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ae.updateQueue,n===null?(n=Jo(),Ae.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function up(e,n,a,l){n.value=a,n.getSnapshot=l,hp(n)&&fp(e)}function cp(e,n,a){return a(function(){hp(n)&&fp(e)})}function hp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function fp(e){var n=ts(e,2);n!==null&&dn(n,e,2)}function bh(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),cs){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},n}function dp(e,n,a,l){return e.baseState=a,_h(e,Ze,typeof l=="function"?l:wi)}function xE(e,n,a,l,h){if(iu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,mp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function mp(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=$.T,_={};$.T=_;try{var T=a(h,l),I=$.S;I!==null&&I(_,T),pp(e,n,T)}catch(H){Th(e,n,H)}finally{f!==null&&_.types!==null&&(f.types=_.types),$.T=f}}else try{f=a(h,l),pp(e,n,f)}catch(H){Th(e,n,H)}}function pp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gp(e,n,l)},function(l){return Th(e,n,l)}):gp(e,n,a)}function gp(e,n,a){n.status="fulfilled",n.value=a,yp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,mp(e,a)))}function Th(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,yp(n),n=n.next;while(n!==l)}e.action=null}function yp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vp(e,n){return n}function _p(e,n){if(Ve){var a=et.formState;if(a!==null){e:{var l=Ae;if(Ve){if(it){t:{for(var h=it,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Vn(h.nextSibling),l=h.data==="F!";break e}}ca(l)}l=!1}l&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},a.queue=l,a=zp.bind(null,Ae,l),l.dispatch=a,l=bh(!1),f=Nh.bind(null,Ae,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=xE.bind(null,Ae,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function Ep(e){var n=yt();return bp(n,Ze,e)}function bp(e,n,a){if(n=_h(e,n,vp)[0],e=eu(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(_){throw _===Ks?Fo:_}else l=n;n=yt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ae.flags|=2048,Js(9,{destroy:void 0},RE.bind(null,h,a),null)),[l,f,e]}function RE(e,n){e.action=n}function Tp(e){var n=yt(),a=Ze;if(a!==null)return bp(n,a,e);yt(),n=n.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Js(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Jo(),Ae.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Sp(){return yt().memoizedState}function tu(e,n,a,l){var h=rn();Ae.flags|=e,h.memoizedState=Js(1|n,{destroy:void 0},a,l===void 0?null:l)}function nu(e,n,a,l){var h=yt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&dh(l,Ze.memoizedState.deps)?h.memoizedState=Js(n,f,a,l):(Ae.flags|=e,h.memoizedState=Js(1|n,f,a,l))}function Ap(e,n){tu(8390656,8,e,n)}function Sh(e,n){nu(2048,8,e,n)}function NE(e){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Jo(),Ae.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function wp(e){var n=yt().memoizedState;return NE({ref:n,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function xp(e,n){return nu(4,2,e,n)}function Rp(e,n){return nu(4,4,e,n)}function Np(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cp(e,n,a){a=a!=null?a.concat([e]):null,nu(4,4,Np.bind(null,n,e),a)}function Ah(){}function jp(e,n){var a=yt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Dp(e,n){var a=yt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=e(),cs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,n],l}function wh(e,n,a){return a===void 0||(Ai&1073741824)!==0&&(Me&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ig(),Ae.lanes|=e,_a|=e,a)}function Ip(e,n,a,l){return gn(a,n)?a:Xs.current!==null?(e=wh(e,a,l),gn(e,n)||(St=!0),e):(Ai&42)===0||(Ai&1073741824)!==0&&(Me&261930)===0?(St=!0,e.memoizedState=a):(e=Ig(),Ae.lanes|=e,_a|=e,n)}function Mp(e,n,a,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=$.T,T={};$.T=T,Nh(e,!1,n,a);try{var I=h(),H=$.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=SE(I,l);pl(e,n,Z,Tn(e))}else pl(e,n,l,Tn(e))}catch(ee){pl(e,n,{then:function(){},status:"rejected",reason:ee},Tn())}finally{ie.p=f,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function CE(){}function xh(e,n,a,l){if(e.tag!==5)throw Error(r(476));var h=Op(e).queue;Mp(e,h,n,oe,a===null?CE:function(){return Vp(e),a(l)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:oe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),pl(e,n.next.queue,{},Tn())}function Rh(){return Pt(Il)}function Lp(){return yt().memoizedState}function Up(){return yt().memoizedState}function jE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=da(a);var l=ma(n,e,a);l!==null&&(dn(l,n,a),cl(l,n,a)),n={cache:nh()},e.payload=n;return}n=n.return}}function DE(e,n,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},iu(e)?kp(n,a):(a=Gc(e,n,a,l),a!==null&&(dn(a,e,l),Bp(a,n,l)))}function zp(e,n,a){var l=Tn();pl(e,n,a,l)}function pl(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(iu(e))kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return Uo(e,n,h,0),et===null&&Lo(),!1}catch{}finally{}if(a=Gc(e,n,h,l),a!==null)return dn(a,e,l),Bp(a,n,l),!0}return!1}function Nh(e,n,a,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},iu(e)){if(n)throw Error(r(479))}else n=Gc(e,a,l,2),n!==null&&dn(n,e,2)}function iu(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function kp(e,n){$s=$o=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Bp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Qi(e,a)}}var gl={readContext:Pt,use:Wo,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};gl.useEffectEvent=ft;var Pp={readContext:Pt,use:Wo,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Pt,useEffect:Ap,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,tu(4194308,4,Np.bind(null,n,e),a)},useLayoutEffect:function(e,n){return tu(4194308,4,e,n)},useInsertionEffect:function(e,n){tu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var l=e();if(cs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=rn();if(a!==void 0){var h=a(n);if(cs){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=DE.bind(null,Ae,e),[l.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=bh(e);var n=e.queue,a=zp.bind(null,Ae,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(e,n){var a=rn();return wh(a,e,n)},useTransition:function(){var e=bh(!1);return e=Mp.bind(null,Ae,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ae,h=rn();if(Ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),et===null)throw Error(r(349));(Me&127)!==0||op(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ap(cp.bind(null,l,f,e),[e]),l.flags|=2048,Js(9,{destroy:void 0},up.bind(null,l,f,a,n),null),a},useId:function(){var e=rn(),n=et.identifierPrefix;if(Ve){var a=ni,l=ti;a=(l&~(1<<32-en(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=AE++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rh,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nh.bind(null,Ae,!0,a),a.dispatch=n,[e,n]},useMemoCache:vh,useCacheRefresh:function(){return rn().memoizedState=jE.bind(null,Ae)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ch={readContext:Pt,use:Wo,useCallback:jp,useContext:Pt,useEffect:Sh,useImperativeHandle:Cp,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Dp,useReducer:eu,useRef:Sp,useState:function(){return eu(wi)},useDebugValue:Ah,useDeferredValue:function(e,n){var a=yt();return Ip(a,Ze.memoizedState,e,n)},useTransition:function(){var e=eu(wi)[0],n=yt().memoizedState;return[typeof e=="boolean"?e:ml(e),n]},useSyncExternalStore:lp,useId:Lp,useHostTransitionStatus:Rh,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var a=yt();return dp(a,Ze,e,n)},useMemoCache:vh,useCacheRefresh:Up};Ch.useEffectEvent=wp;var qp={readContext:Pt,use:Wo,useCallback:jp,useContext:Pt,useEffect:Sh,useImperativeHandle:Cp,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Eh,useRef:Sp,useState:function(){return Eh(wi)},useDebugValue:Ah,useDeferredValue:function(e,n){var a=yt();return Ze===null?wh(a,e,n):Ip(a,Ze.memoizedState,e,n)},useTransition:function(){var e=Eh(wi)[0],n=yt().memoizedState;return[typeof e=="boolean"?e:ml(e),n]},useSyncExternalStore:lp,useId:Lp,useHostTransitionStatus:Rh,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var a=yt();return Ze!==null?dp(a,Ze,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Up};qp.useEffectEvent=wp;function jh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Dh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Tn(),h=da(l);h.payload=n,a!=null&&(h.callback=a),n=ma(e,h,l),n!==null&&(dn(n,e,l),cl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Tn(),h=da(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ma(e,h,l),n!==null&&(dn(n,e,l),cl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),l=da(a);l.tag=2,n!=null&&(l.callback=n),n=ma(e,l,a),n!==null&&(dn(n,e,a),cl(n,e,a))}};function Hp(e,n,a,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(h,f):!0}function Fp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Dh.enqueueReplaceState(n,n.state,null)}function hs(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Gp(e){Vo(e)}function Qp(e){console.error(e)}function Kp(e){Vo(e)}function au(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ih(e,n,a){return a=da(a),a.tag=3,a.payload={element:null},a.callback=function(){au(e,n)},a}function Xp(e){return e=da(e),e.tag=3,e}function $p(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Yp(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Yp(n,a,l),typeof h!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IE(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fs(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?gu():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Go?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),af(e,l,h)),!1;case 22:return a.flags|=65536,l===Go?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),af(e,l,h)),!1}throw Error(r(435,a.tag))}return af(e,l,h),gu(),!1}if(Ve)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zc&&(e=Error(r(422),{cause:l}),sl(jn(e,a)))):(l!==Zc&&(n=Error(r(423),{cause:l}),sl(jn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=jn(l,a),h=Ih(e.stateNode,l,h),oh(e,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:l});if(f=jn(f,a),Al===null?Al=[f]:Al.push(f),dt!==4&&(dt=2),n===null)return!0;l=jn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Ih(a.stateNode,l,e),oh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ea===null||!Ea.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xp(h),$p(h,e,a,l),oh(a,h),!1}a=a.return}while(a!==null);return!1}var Mh=Error(r(461)),St=!1;function qt(e,n,a,l){n.child=e===null?ep(n,null,a,l):us(n,e.child,a,l)}function Zp(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ss(n),l=mh(e,n,a,_,f,h),T=ph(),e!==null&&!St?(gh(e,n,h),xi(e,n,h)):(Ve&&T&&Xc(n),n.flags|=1,qt(e,n,l,h),n.child)}function Jp(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Wp(e,n,f,l,h)):(e=ko(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ph(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&e.ref===n.ref)return xi(e,n,h)}return n.flags|=1,e=Ei(f,l),e.ref=n.ref,e.return=n,n.child=e}function Wp(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(nl(f,l)&&e.ref===n.ref)if(St=!1,n.pendingProps=l=f,Ph(e,h))(e.flags&131072)!==0&&(St=!0);else return n.lanes=e.lanes,xi(e,n,h)}return Oh(e,n,a,l,h)}function eg(e,n,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return tg(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ho(n,f!==null?f.cachePool:null),f!==null?ip(n,f):ch(),ap(n);else return l=n.lanes=536870912,tg(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ho(n,f.cachePool),ip(n,f),ga(),n.memoizedState=null):(e!==null&&Ho(n,null),ch(),ga());return qt(e,n,h,a),n.child}function yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function tg(e,n,a,l,h){var f=ah();return f=f===null?null:{parent:bt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ho(n,null),ch(),ap(n),e!==null&&Fs(e,n,l,!0),n.childLanes=h,null}function su(e,n){return n=lu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ng(e,n,a){return us(n,e.child,null,a),e=su(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function ME(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(l.mode==="hidden")return e=su(n,l),n.lanes=536870912,yl(null,e);if(fh(n),(e=it)?(e=my(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:oa!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},a=km(e),a.return=n,n.child=a,Bt=n,it=null)):e=null,e===null)throw ca(n);return n.lanes=536870912,null}return su(n,l)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(fh(n),h)if(n.flags&256)n.flags&=-257,n=ng(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(St||Fs(e,n,a,!1),h=(a&e.childLanes)!==0,St||h){if(l=et,l!==null&&(_=Ki(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ts(e,_),dn(l,e,_),Mh;gu(),n=ng(e,n,a)}else e=f.treeContext,it=Vn(_.nextSibling),Bt=n,Ve=!0,ua=null,Mn=!1,e!==null&&qm(n,e),n=su(n,l),n.flags|=4096;return n}return e=Ei(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ru(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Oh(e,n,a,l,h){return ss(n),a=mh(e,n,a,l,void 0,h),l=ph(),e!==null&&!St?(gh(e,n,h),xi(e,n,h)):(Ve&&l&&Xc(n),n.flags|=1,qt(e,n,a,h),n.child)}function ig(e,n,a,l,h,f){return ss(n),n.updateQueue=null,a=rp(n,l,a,h),sp(e),l=ph(),e!==null&&!St?(gh(e,n,f),xi(e,n,f)):(Ve&&l&&Xc(n),n.flags|=1,qt(e,n,a,f),n.child)}function ag(e,n,a,l,h){if(ss(n),n.stateNode===null){var f=Bs,_=a.contextType;typeof _=="object"&&_!==null&&(f=Pt(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Pt(_):Bs,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Dh.enqueueReplaceState(f,f.state,null),fl(n,l,f,h),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=hs(a,T);f.props=I;var H=f.context,Z=a.contextType;_=Bs,typeof Z=="object"&&Z!==null&&(_=Pt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==_)&&Fp(n,f,l,_),fa=!1;var F=n.memoizedState;f.state=F,fl(n,l,f,h),hl(),H=n.memoizedState,T||F!==H||fa?(typeof ee=="function"&&(jh(n,a,ee,l),H=n.memoizedState),(I=fa||Hp(n,a,I,l,F,H,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=_,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(e,n),_=n.memoizedProps,Z=hs(a,_),f.props=Z,ee=n.pendingProps,F=f.context,H=a.contextType,I=Bs,typeof H=="object"&&H!==null&&(I=Pt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ee||F!==I)&&Fp(n,f,l,I),fa=!1,F=n.memoizedState,f.state=F,fl(n,l,f,h),hl();var K=n.memoizedState;_!==ee||F!==K||fa||e!==null&&e.dependencies!==null&&Po(e.dependencies)?(typeof T=="function"&&(jh(n,a,T,l),K=n.memoizedState),(Z=fa||Hp(n,a,Z,l,F,K,I)||e!==null&&e.dependencies!==null&&Po(e.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=I,l=Z):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ru(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=us(n,e.child,null,h),n.child=us(n,null,a,h)):qt(e,n,a,h),n.memoizedState=f.state,e=n.child):e=xi(e,n,h),e}function sg(e,n,a,l){return is(),n.flags|=256,qt(e,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(e){return{baseLanes:e,cachePool:Ym()}}function Uh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=bn),e}function rg(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(h?pa(n):ga(),(e=it)?(e=my(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:oa!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},a=km(e),a.return=n,n.child=a,Bt=n,it=null)):e=null,e===null)throw ca(n);return Ef(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ga(),h=n.mode,T=lu({mode:"hidden",children:T},h),l=ns(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lh(a),l.childLanes=Uh(e,_,a),n.memoizedState=Vh,yl(null,l)):(pa(n),zh(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(pa(n),n.flags&=-257,n=kh(e,n,a)):n.memoizedState!==null?(ga(),n.child=e.child,n.flags|=128,n=null):(ga(),T=l.fallback,h=n.mode,l=lu({mode:"visible",children:l.children},h),T=ns(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,us(n,e.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=Uh(e,_,a),n.memoizedState=Vh,n=yl(null,l));else if(pa(n),Ef(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),n=kh(e,n,a)}else if(St||Fs(e,n,a,!1),_=(a&e.childLanes)!==0,St||_){if(_=et,_!==null&&(l=Ki(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ts(e,l),dn(_,e,l),Mh;_f(T)||gu(),n=kh(e,n,a)}else _f(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,it=Vn(T.nextSibling),Bt=n,Ve=!0,ua=null,Mn=!1,e!==null&&qm(n,e),n=zh(n,l.children),n.flags|=4096);return n}return h?(ga(),T=l.fallback,h=n.mode,I=e.child,H=I.sibling,l=Ei(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=Ei(H,T):(T=ns(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,yl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Lh(a):(h=T.cachePool,h!==null?(I=bt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ym(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Uh(e,_,a),n.memoizedState=Vh,yl(e.child,l)):(pa(n),a=e.child,e=a.sibling,a=Ei(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function zh(e,n){return n=lu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function kh(e,n,a){return us(n,e.child,null,a),e=zh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lg(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),eh(e.return,n,a)}function Bh(e,n,a,l,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function og(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=gt.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ae(gt,_),qt(e,n,l,a),l=Ve?al:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lg(e,a,n);else if(e.tag===19)lg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Xo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bh(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Xo(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bh(n,!0,a,null,f,l);break;case"together":Bh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function xi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),_a|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Fs(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Ei(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ei(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ph(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Po(e)))}function OE(e,n,a){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),ha(n,bt,e.memoizedState.cache),is();break;case 27:case 5:Sn(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:ha(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(pa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?rg(e,n,a):(pa(n),e=xi(e,n,a),e!==null?e.sibling:null);pa(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fs(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return og(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return n.lanes=0,eg(e,n,a,n.pendingProps);case 24:ha(n,bt,e.memoizedState.cache)}return xi(e,n,a)}function ug(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)St=!0;else{if(!Ph(e,a)&&(n.flags&128)===0)return St=!1,OE(e,n,a);St=(e.flags&131072)!==0}else St=!1,Ve&&(n.flags&1048576)!==0&&Pm(n,al,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=ls(n.elementType),n.type=e,typeof e=="function")Qc(e)?(l=hs(e,l),n.tag=1,n=ag(null,n,e,l,a)):(n.tag=0,n=Oh(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===pe){n.tag=11,n=Zp(null,n,e,l,a);break e}else if(h===O){n.tag=14,n=Jp(null,n,e,l,a);break e}}throw n=me(e)||e,Error(r(306,n,""))}}return n;case 0:return Oh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=hs(l,n.pendingProps),ag(e,n,l,h,a);case 3:e:{if(Rt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lh(e,n),fl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,ha(n,bt,l),l!==f.cache&&th(n,[bt],a,!0),hl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sg(e,n,l,a);break e}else if(l!==h){h=jn(Error(r(424)),n),sl(h),n=sg(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Vn(e.firstChild),Bt=n,Ve=!0,ua=null,Mn=!0,a=ep(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(is(),l===h){n=xi(e,n,a);break e}qt(e,n,l,a)}n=n.child}return n;case 26:return ru(e,n),e===null?(a=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ve||(a=n.type,e=n.pendingProps,l=Su(Re.current).createElement(a),l[ct]=n,l[kt]=e,Ht(l,a,e),pt(l),n.stateNode=l):n.memoizedState=Ey(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Sn(n),e===null&&Ve&&(l=n.stateNode=yy(n.type,n.pendingProps,Re.current),Bt=n,Mn=!0,h=it,Aa(n.type)?(bf=h,it=Vn(l.firstChild)):it=h),qt(e,n,n.pendingProps.children,a),ru(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((h=l=it)&&(l=cb(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Bt=n,it=Vn(l.firstChild),Mn=!1,h=!0):h=!1),h||ca(n)),Sn(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,gf(h,f)?l=null:_!==null&&gf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=mh(e,n,wE,null,null,a),Il._currentValue=h),ru(e,n),qt(e,n,l,a),n.child;case 6:return e===null&&Ve&&((e=a=it)&&(a=hb(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Bt=n,it=null,e=!0):e=!1),e||ca(n)),null;case 13:return rg(e,n,a);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=us(n,null,l,a):qt(e,n,l,a),n.child;case 11:return Zp(e,n,n.type,n.pendingProps,a);case 7:return qt(e,n,n.pendingProps,a),n.child;case 8:return qt(e,n,n.pendingProps.children,a),n.child;case 12:return qt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ha(n,n.type,l.value),qt(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ss(n),h=Pt(h),l=l(h),n.flags|=1,qt(e,n,l,a),n.child;case 14:return Jp(e,n,n.type,n.pendingProps,a);case 15:return Wp(e,n,n.type,n.pendingProps,a);case 19:return og(e,n,a);case 31:return ME(e,n,a);case 22:return eg(e,n,a,n.pendingProps);case 24:return ss(n),l=Pt(bt),e===null?(h=ah(),h===null&&(h=et,f=nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},rh(n),ha(n,bt,h)):((e.lanes&a)!==0&&(lh(e,n),fl(n,null,null,a),hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ha(n,bt,l)):(l=f.cache,ha(n,bt,l),l!==h.cache&&th(n,[bt],a,!0))),qt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ri(e){e.flags|=4}function qh(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Lg())e.flags|=8192;else throw os=Go,sh}else e.flags&=-16777217}function cg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wy(n))if(Lg())e.flags|=8192;else throw os=Go,sh}function ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zr():536870912,e.lanes|=n,nr|=n)}function vl(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function VE(e,n,a){var l=n.pendingProps;switch($c(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(bt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?Ri(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jc())),at(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ri(n),f!==null?(at(n),cg(n,f)):(at(n),qh(n,h,null,l,a))):f?f!==e.memoizedState?(Ri(n),at(n),cg(n,f)):(at(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ri(n),at(n),qh(n,h,e,l,a)),null;case 27:if(X(n),a=Re.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return at(n),null}e=ue.current,Hs(n)?Hm(n):(e=yy(h,l,a),n.stateNode=e,Ri(n))}return at(n),null;case 5:if(X(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return at(n),null}if(f=ue.current,Hs(n))Hm(n);else{var _=Su(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[ct]=n,f[kt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Ht(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ri(n)}}return at(n),qh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=Re.current,Hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ct]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ry(e.nodeValue,a)),e||ca(n,!0)}else e=Su(e).createTextNode(l),e[ct]=n,n.stateNode=e}return at(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Hs(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ct]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),e=!1}else a=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(r(558))}return at(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ct]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ou(n,n.updateQueue),at(n),null);case 4:return tt(),e===null&&hf(n.stateNode.containerInfo),at(n),null;case 10:return Si(n.type),at(n),null;case 19:if(J(gt),l=n.memoizedState,l===null)return at(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)vl(l,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Xo(e),f!==null){for(n.flags|=128,vl(l,!1),e=f.updateQueue,n.updateQueue=e,ou(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)zm(a,e),a=a.sibling;return ae(gt,gt.current&1|2),Ve&&bi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ut()>du&&(n.flags|=128,h=!0,vl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Xo(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ou(n,e),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ve)return at(n),null}else 2*Ut()-l.renderingStartTime>du&&a!==536870912&&(n.flags|=128,h=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ut(),e.sibling=null,a=gt.current,ae(gt,h?a&1|2:a&1),Ve&&bi(n,l.treeForkCount),e):(at(n),null);case 22:case 23:return _n(n),hh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),a=n.updateQueue,a!==null&&ou(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&J(rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Si(bt),at(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function LE(e,n){switch($c(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Si(bt),tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return X(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(r(340));is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(gt),null;case 4:return tt(),null;case 10:return Si(n.type),null;case 22:case 23:return _n(n),hh(),e!==null&&J(rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Si(bt),null;case 25:return null;default:return null}}function hg(e,n){switch($c(n),n.tag){case 3:Si(bt),tt();break;case 26:case 27:case 5:X(n);break;case 4:tt();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:J(gt);break;case 10:Si(n.type);break;case 22:case 23:_n(n),hh(),e!==null&&J(rs);break;case 24:Si(bt)}}function _l(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$e(n,n.return,T)}}function ya(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var I=a,H=T;try{H()}catch(Z){$e(h,I,Z)}}}l=l.next}while(l!==f)}}catch(Z){$e(n,n.return,Z)}}function fg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{np(n,a)}catch(l){$e(e,e.return,l)}}}function dg(e,n,a){a.props=hs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$e(e,n,l)}}function El(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$e(e,n,h)}}function ii(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(e,n,h)}else a.current=null}function mg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(e,e.return,h)}}function Hh(e,n,a){try{var l=e.stateNode;ab(l,e.type,a,n),l[kt]=n}catch(h){$e(e,e.return,h)}}function pg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function Fh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=It));else if(l!==4&&(l===27&&Aa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Gh(e,n,a),e=e.sibling;e!==null;)Gh(e,n,a),e=e.sibling}function uu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Aa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uu(e,n,a),e=e.sibling;e!==null;)uu(e,n,a),e=e.sibling}function gg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ht(n,l,a),n[ct]=e,n[kt]=a}catch(f){$e(e,e.return,f)}}var Ni=!1,At=!1,Qh=!1,yg=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function UE(e,n){if(e=e.containerInfo,mf=ju,e=Cm(e),kc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,H=0,Z=0,ee=e,F=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==f||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===e)break t;if(F===a&&++H===h&&(T=_),F===f&&++Z===l&&(I=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:e,selectionRange:a},ju=!1,Vt=n;Vt!==null;)if(n=Vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vt=e;else for(;Vt!==null;){switch(n=Vt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=hs(a.type,h);e=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){$e(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Vt=e;break}Vt=n.return}}function vg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(e,a),l&4&&_l(5,a);break;case 1:if(ji(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=hs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&fg(a),l&512&&El(a,a.return);break;case 3:if(ji(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{np(e,n)}catch(_){$e(a,a.return,_)}}break;case 27:n===null&&l&4&&gg(a);case 26:case 5:ji(e,a),n===null&&l&4&&mg(a),l&512&&El(a,a.return);break;case 12:ji(e,a);break;case 31:ji(e,a),l&4&&bg(e,a);break;case 13:ji(e,a),l&4&&Tg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=QE.bind(null,a),fb(e,a))));break;case 22:if(l=a.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||At,h=Ni;var f=At;Ni=l,(At=n)&&!f?Di(e,a,(a.subtreeFlags&8772)!==0):ji(e,a),Ni=h,At=f}break;case 30:break;default:ji(e,a)}}function _g(e){var n=e.alternate;n!==null&&(e.alternate=null,_g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,un=!1;function Ci(e,n,a){for(a=a.child;a!==null;)Eg(e,n,a),a=a.sibling}function Eg(e,n,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(qi,a)}catch{}switch(a.tag){case 26:At||ii(a,n),Ci(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||ii(a,n);var l=rt,h=un;Aa(a.type)&&(rt=a.stateNode,un=!1),Ci(e,n,a),Cl(a.stateNode),rt=l,un=h;break;case 5:At||ii(a,n);case 6:if(l=rt,h=un,rt=null,Ci(e,n,a),rt=l,un=h,rt!==null)if(un)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(f){$e(a,n,f)}else try{rt.removeChild(a.stateNode)}catch(f){$e(a,n,f)}break;case 18:rt!==null&&(un?(e=rt,fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cr(e)):fy(rt,a.stateNode));break;case 4:l=rt,h=un,rt=a.stateNode.containerInfo,un=!0,Ci(e,n,a),rt=l,un=h;break;case 0:case 11:case 14:case 15:ya(2,a,n),At||ya(4,a,n),Ci(e,n,a);break;case 1:At||(ii(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dg(a,n,l)),Ci(e,n,a);break;case 21:Ci(e,n,a);break;case 22:At=(l=At)||a.memoizedState!==null,Ci(e,n,a),At=l;break;default:Ci(e,n,a)}}function bg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{cr(e)}catch(a){$e(n,n.return,a)}}}function Tg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cr(e)}catch(a){$e(n,n.return,a)}}function zE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yg),n;default:throw Error(r(435,e.tag))}}function cu(e,n){var a=zE(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=KE.bind(null,e,l);l.then(h,h)}})}function cn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Aa(T.type)){rt=T.stateNode,un=!1;break e}break;case 5:rt=T.stateNode,un=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(rt===null)throw Error(r(160));Eg(f,_,h),rt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sg(n,e),n=n.sibling}var qn=null;function Sg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),l&4&&(ya(3,e,e.return),_l(3,e),ya(5,e,e.return));break;case 1:cn(n,e),hn(e),l&512&&(At||a===null||ii(a,a.return)),l&64&&Ni&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(cn(n,e),hn(e),l&512&&(At||a===null||ii(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ht(f,l,a),f[ct]=e,pt(f),l=f;break e;case"link":var _=Sy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(l),Ht(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Sy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(l),Ht(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[ct]=e,pt(f),l=f}e.stateNode=l}else Ay(h,e.type,e.stateNode);else e.stateNode=Ty(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ay(h,e.type,e.stateNode):Ty(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hh(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),l&512&&(At||a===null||ii(a,a.return)),a!==null&&l&4&&Hh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),l&512&&(At||a===null||ii(a,a.return)),e.flags&32){h=e.stateNode;try{Nn(h,"")}catch(ce){$e(e,e.return,ce)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hh(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qh=!0);break;case 6:if(cn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ce){$e(e,e.return,ce)}}break;case 3:if(xu=null,h=qn,qn=Au(n.containerInfo),cn(n,e),qn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(n.containerInfo)}catch(ce){$e(e,e.return,ce)}Qh&&(Qh=!1,Ag(e));break;case 4:l=qn,qn=Au(e.stateNode.containerInfo),cn(n,e),hn(e),qn=l;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cu(e,l)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fu=Ut()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cu(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Ni,Z=At;if(Ni=H||h,At=Z||I,cn(n,e),At=Z,Ni=H,hn(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Ni||At||fs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){$e(I,I.return,ce)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){$e(I,I.return,ce)}}}else if(n.tag===18){if(a===null){I=n;try{var K=I.stateNode;h?dy(K,!0):dy(I.stateNode,!1)}catch(ce){$e(I,I.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cu(e,a))));break;case 19:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cu(e,l)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(pg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Fh(e);uu(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(Nn(_,""),a.flags&=-33);var T=Fh(e);uu(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Fh(e);Gh(e,H,I);break;default:throw Error(r(161))}}catch(Z){$e(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ag(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vg(e,n.alternate,n),n=n.sibling}function fs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ya(4,n,n.return),fs(n);break;case 1:ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&dg(n,n.return,a),fs(n);break;case 27:Cl(n.stateNode);case 26:case 5:ii(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}e=e.sibling}}function Di(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Di(h,f,a),_l(4,f);break;case 1:if(Di(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)tp(I[h],T)}catch(H){$e(l,l.return,H)}}a&&_&64&&fg(f),El(f,f.return);break;case 27:gg(f);case 26:case 5:Di(h,f,a),a&&l===null&&_&4&&mg(f),El(f,f.return);break;case 12:Di(h,f,a);break;case 31:Di(h,f,a),a&&_&4&&bg(h,f);break;case 13:Di(h,f,a),a&&_&4&&Tg(h,f);break;case 22:f.memoizedState===null&&Di(h,f,a),El(f,f.return);break;case 30:break;default:Di(h,f,a)}n=n.sibling}}function Kh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function Yh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rl(e))}function Hn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wg(e,n,a,l),n=n.sibling}function wg(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(e,n,a,l),h&2048&&_l(9,n);break;case 1:Hn(e,n,a,l);break;case 3:Hn(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rl(e)));break;case 12:if(h&2048){Hn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$e(n,n.return,I)}}else Hn(e,n,a,l);break;case 31:Hn(e,n,a,l);break;case 13:Hn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(e,n,a,l):bl(e,n):f._visibility&2?Hn(e,n,a,l):(f._visibility|=2,Ws(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kh(_,n);break;case 24:Hn(e,n,a,l),h&2048&&Yh(n.alternate,n);break;default:Hn(e,n,a,l)}}function Ws(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,_=n,T=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ws(f,_,T,I,h),_l(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ws(f,_,T,I,h):bl(f,_):(Z._visibility|=2,Ws(f,_,T,I,h)),h&&H&2048&&Kh(_.alternate,_);break;case 24:Ws(f,_,T,I,h),h&&H&2048&&Yh(_.alternate,_);break;default:Ws(f,_,T,I,h)}n=n.sibling}}function bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Kh(l.alternate,l);break;case 24:bl(a,l),h&2048&&Yh(l.alternate,l);break;default:bl(a,l)}n=n.sibling}}var Tl=8192;function er(e,n,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)xg(e,n,a),e=e.sibling}function xg(e,n,a){switch(e.tag){case 26:er(e,n,a),e.flags&Tl&&e.memoizedState!==null&&Ab(a,qn,e.memoizedState,e.memoizedProps);break;case 5:er(e,n,a);break;case 3:case 4:var l=qn;qn=Au(e.stateNode.containerInfo),er(e,n,a),qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,er(e,n,a),Tl=l):er(e,n,a));break;default:er(e,n,a)}}function Rg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,Cg(l,e)}Rg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ng(e),e=e.sibling}function Ng(e){switch(e.tag){case 0:case 11:case 15:Sl(e),e.flags&2048&&ya(9,e,e.return);break;case 3:Sl(e);break;case 12:Sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hu(e)):Sl(e);break;default:Sl(e)}}function hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,Cg(l,e)}Rg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ya(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hu(n));break;default:hu(n)}e=e.sibling}}function Cg(e,n){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:ya(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=e;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(_g(l),l===a){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var kE={getCacheForType:function(e){var n=Pt(bt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Pt(bt).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,Qe=0,et=null,De=null,Me=0,Xe=0,En=null,va=!1,tr=!1,Xh=!1,Ii=0,dt=0,_a=0,ds=0,$h=0,bn=0,nr=0,Al=null,fn=null,Zh=!1,fu=0,jg=0,du=1/0,mu=null,Ea=null,Ct=0,ba=null,ir=null,Mi=0,Jh=0,Wh=null,Dg=null,wl=0,ef=null;function Tn(){return(Qe&2)!==0&&Me!==0?Me&-Me:$.T!==null?lf():hi()}function Ig(){if(bn===0)if((Me&536870912)===0||Ve){var e=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function dn(e,n,a){(e===et&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(ar(e,0),Ta(e,Me,bn,!1)),Gi(e,a),((Qe&2)===0||e!==et)&&(e===et&&((Qe&2)===0&&(ds|=a),dt===4&&Ta(e,Me,bn,!1)),ai(e))}function Mg(e,n,a){if((Qe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Fi(e,n),h=l?HE(e,n):nf(e,n,!0),f=l;do{if(h===0){tr&&!l&&Ta(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!PE(a)){h=nf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=e;h=Al;var I=T.current.memoizedState.isDehydrated;if(I&&(ar(T,_).flags|=256),_=nf(T,_,!1),_!==2){if(Xh&&!I){T.errorRecoveryDisabledLanes|=f,ds|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ar(e,0),Ta(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ta(l,n,bn,!va);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=fu+300-Ut(),10<h)){if(Ta(l,n,bn,!va),xn(l,0,!0)!==0)break e;Mi=n,l.timeoutHandle=cy(Og.bind(null,l,a,fn,mu,Zh,n,bn,ds,nr,va,f,"Throttled",-0,0),h);break e}Og(l,a,fn,mu,Zh,n,bn,ds,nr,va,f,null,-0,0)}}break}while(!0);ai(e)}function Og(e,n,a,l,h,f,_,T,I,H,Z,ee,F,K){if(e.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It},xg(n,f,ee);var ce=(f&62914560)===f?fu-Ut():(f&4194048)===f?jg-Ut():0;if(ce=wb(ee,ce),ce!==null){Mi=f,e.cancelPendingCommit=ce(qg.bind(null,e,n,f,a,l,h,_,T,I,Z,ee,null,F,K)),Ta(e,f,_,!H);return}}qg(e,n,f,a,l,h,_,T,I)}function PE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ta(e,n,a,l){n&=~$h,n&=~ds,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-en(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&kr(e,a,n)}function pu(){return(Qe&6)===0?(xl(0),!1):!0}function tf(){if(De!==null){if(Xe===0)var e=De.return;else e=De,Ti=as=null,yh(e),Ys=null,ol=0,e=De;for(;e!==null;)hg(e.alternate,e),e=e.return;De=null}}function ar(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Mi=0,tf(),et=e,De=a=Ei(e.current,null),Me=n,Xe=0,En=null,va=!1,tr=Fi(e,n),Xh=!1,nr=bn=$h=ds=_a=dt=0,fn=Al=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-en(l),f=1<<h;n|=e[h],l&=~f}return Ii=n,Lo(),a}function Vg(e,n){Ae=null,$.H=gl,n===Ks||n===Fo?(n=Zm(),Xe=3):n===sh?(n=Zm(),Xe=4):Xe=n===Mh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,De===null&&(dt=1,au(e,jn(n,e.current)))}function Lg(){var e=vn.current;return e===null?!0:(Me&4194048)===Me?On===null:(Me&62914560)===Me||(Me&536870912)!==0?e===On:!1}function Ug(){var e=$.H;return $.H=gl,e===null?gl:e}function zg(){var e=$.A;return $.A=kE,e}function gu(){dt=4,va||(Me&4194048)!==Me&&vn.current!==null||(tr=!0),(_a&134217727)===0&&(ds&134217727)===0||et===null||Ta(et,Me,bn,!1)}function nf(e,n,a){var l=Qe;Qe|=2;var h=Ug(),f=zg();(et!==e||Me!==n)&&(mu=null,ar(e,n)),n=!1;var _=dt;e:do try{if(Xe!==0&&De!==null){var T=De,I=En;switch(Xe){case 8:tf(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var H=Xe;if(Xe=0,En=null,sr(e,T,I,H),a&&tr){_=0;break e}break;default:H=Xe,Xe=0,En=null,sr(e,T,I,H)}}qE(),_=dt;break}catch(Z){Vg(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Ti=as=null,Qe=l,$.H=h,$.A=f,De===null&&(et=null,Me=0,Lo()),_}function qE(){for(;De!==null;)kg(De)}function HE(e,n){var a=Qe;Qe|=2;var l=Ug(),h=zg();et!==e||Me!==n?(mu=null,du=Ut()+500,ar(e,n)):tr=Fi(e,n);e:do try{if(Xe!==0&&De!==null){n=De;var f=En;t:switch(Xe){case 1:Xe=0,En=null,sr(e,n,f,1);break;case 2:case 9:if(Xm(f)){Xe=0,En=null,Bg(n);break}n=function(){Xe!==2&&Xe!==9||et!==e||(Xe=7),ai(e)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Xm(f)?(Xe=0,En=null,Bg(n)):(Xe=0,En=null,sr(e,n,f,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?wy(_):T.stateNode.complete){Xe=0,En=null;var I=T.sibling;if(I!==null)De=I;else{var H=T.return;H!==null?(De=H,yu(H)):De=null}break t}}Xe=0,En=null,sr(e,n,f,5);break;case 6:Xe=0,En=null,sr(e,n,f,6);break;case 8:tf(),dt=6;break e;default:throw Error(r(462))}}FE();break}catch(Z){Vg(e,Z)}while(!0);return Ti=as=null,$.H=l,$.A=h,Qe=a,De!==null?0:(et=null,Me=0,Lo(),dt)}function FE(){for(;De!==null&&!Nc();)kg(De)}function kg(e){var n=ug(e.alternate,e,Ii);e.memoizedProps=e.pendingProps,n===null?yu(e):De=n}function Bg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ig(a,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=ig(a,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:yh(n);default:hg(a,n),n=De=zm(n,Ii),n=ug(a,n,Ii)}e.memoizedProps=e.pendingProps,n===null?yu(e):De=n}function sr(e,n,a,l){Ti=as=null,yh(n),Ys=null,ol=0;var h=n.return;try{if(IE(e,h,n,a,Me)){dt=1,au(e,jn(a,e.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;dt=1,au(e,jn(a,e.current)),De=null;return}n.flags&32768?(Ve||l===1?e=!0:tr||(Me&536870912)!==0?e=!1:(va=e=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pg(n,e)):yu(n)}function yu(e){var n=e;do{if((n.flags&32768)!==0){Pg(n,va);return}e=n.return;var a=VE(n.alternate,n,Ii);if(a!==null){De=a;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);dt===0&&(dt=5)}function Pg(e,n){do{var a=LE(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);dt=6,De=null}function qg(e,n,a,l,h,f,_,T,I){e.cancelPendingCommit=null;do vu();while(Ct!==0);if((Qe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fc,zt(e,a,f,_,T,I),e===et&&(De=et=null,Me=0),ir=n,ba=e,Mi=a,Jh=f,Wh=h,Dg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YE(ui,function(){return Kg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ie.p,ie.p=2,_=Qe,Qe|=4;try{UE(e,n,a)}finally{Qe=_,ie.p=h,$.T=l}}Ct=1,Hg(),Fg(),Gg()}}function Hg(){if(Ct===1){Ct=0;var e=ba,n=ir,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var h=Qe;Qe|=4;try{Sg(n,e);var f=pf,_=Cm(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Nm(T.ownerDocument.documentElement,T)){if(I!==null&&kc(T)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),ce=T.textContent.length,ye=Math.min(I.start,ce),We=I.end===void 0?ye:Math.min(I.end,ce);!K.extend&&ye>We&&(_=We,We=ye,ye=_);var B=Rm(T,ye),V=Rm(T,We);if(B&&V&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(B.node,B.offset),K.removeAllRanges(),ye>We?(K.addRange(q),K.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),K.addRange(q))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ju=!!mf,pf=mf=null}finally{Qe=h,ie.p=l,$.T=a}}e.current=n,Ct=2}}function Fg(){if(Ct===2){Ct=0;var e=ba,n=ir,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var h=Qe;Qe|=4;try{vg(e,n.alternate,n)}finally{Qe=h,ie.p=l,$.T=a}}Ct=3}}function Gg(){if(Ct===4||Ct===3){Ct=0,Vr();var e=ba,n=ir,a=Mi,l=Dg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ct=5:(Ct=0,ir=ba=null,Qg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ea=null),Pr(a),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(qi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=ie.p,ie.p=2,$.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{$.T=n,ie.p=h}}(Mi&3)!==0&&vu(),ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ef?wl++:(wl=0,ef=e):wl=0,xl(0)}}function Qg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,rl(n)))}function vu(){return Hg(),Fg(),Gg(),Kg()}function Kg(){if(Ct!==5)return!1;var e=ba,n=Jh;Jh=0;var a=Pr(Mi),l=$.T,h=ie.p;try{ie.p=32>a?32:a,$.T=null,a=Wh,Wh=null;var f=ba,_=Mi;if(Ct=0,ir=ba=null,Mi=0,(Qe&6)!==0)throw Error(r(331));var T=Qe;if(Qe|=4,Ng(f.current),wg(f,f.current,_,a),Qe=T,xl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(qi,f)}catch{}return!0}finally{ie.p=h,$.T=l,Qg(e,n)}}function Yg(e,n,a){n=jn(a,n),n=Ih(e.stateNode,n,2),e=ma(e,n,2),e!==null&&(Gi(e,2),ai(e))}function $e(e,n,a){if(e.tag===3)Yg(e,e,a);else for(;n!==null;){if(n.tag===3){Yg(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ea===null||!Ea.has(l))){e=jn(a,e),a=Xp(2),l=ma(n,a,2),l!==null&&($p(a,l,n,e),Gi(l,2),ai(l));break}}n=n.return}}function af(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new BE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Xh=!0,h.add(a),e=GE.bind(null,e,n,a),n.then(e,e))}function GE(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,et===e&&(Me&a)===a&&(dt===4||dt===3&&(Me&62914560)===Me&&300>Ut()-fu?(Qe&2)===0&&ar(e,0):$h|=a,nr===Me&&(nr=0)),ai(e)}function Xg(e,n){n===0&&(n=zr()),e=ts(e,n),e!==null&&(Gi(e,n),ai(e))}function QE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Xg(e,a)}function KE(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Xg(e,a)}function YE(e,n){return Ba(e,n)}var _u=null,rr=null,sf=!1,Eu=!1,rf=!1,Sa=0;function ai(e){e!==rr&&e.next===null&&(rr===null?_u=rr=e:rr=rr.next=e),Eu=!0,sf||(sf=!0,$E())}function xl(e,n){if(!rf&&Eu){rf=!0;do for(var a=!1,l=_u;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-en(42|e)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Wg(l,f))}else f=Me,f=xn(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fi(l,f)||(a=!0,Wg(l,f));l=l.next}while(a);rf=!1}}function XE(){$g()}function $g(){Eu=sf=!1;var e=0;Sa!==0&&rb()&&(e=Sa);for(var n=Ut(),a=null,l=_u;l!==null;){var h=l.next,f=Zg(l,n);f===0?(l.next=null,a===null?_u=h:a.next=h,h===null&&(rr=a)):(a=l,(e!==0||(f&3)!==0)&&(Eu=!0)),l=h}Ct!==0&&Ct!==5||xl(e),Sa!==0&&(Sa=0)}function Zg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-en(f),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=xs(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=et,a=Me,a=xn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&ws(l),Pr(a)){case 2:case 8:a=Dt;break;case 32:a=ui;break;case 268435456:a=Lr;break;default:a=ui}return l=Jg.bind(null,e),a=Ba(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&ws(l),e.callbackPriority=2,e.callbackNode=null,2}function Jg(e,n){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vu()&&e.callbackNode!==a)return null;var l=Me;return l=xn(e,e===et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Mg(e,l,n),Zg(e,Ut()),e.callbackNode!=null&&e.callbackNode===a?Jg.bind(null,e):null)}function Wg(e,n){if(vu())return null;Mg(e,n,!0)}function $E(){ob(function(){(Qe&6)!==0?Ba(Nt,XE):$g()})}function lf(){if(Sa===0){var e=Gs;e===0&&(e=qa,qa<<=1,(qa&261888)===0&&(qa=256)),Sa=e}return Sa}function ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function ty(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function ZE(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ey((h[kt]||null).action),_=l.submitter;_&&(n=(n=_[kt]||null)?ey(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Ya("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sa!==0){var I=_?ty(h,_):new FormData(h);xh(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=_?ty(h,_):new FormData(h),xh(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var of=0;of<Hc.length;of++){var uf=Hc[of],JE=uf.toLowerCase(),WE=uf[0].toUpperCase()+uf.slice(1);Pn(JE,"on"+WE)}Pn(Im,"onAnimationEnd"),Pn(Mm,"onAnimationIteration"),Pn(Om,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(pE,"onTransitionRun"),Pn(gE,"onTransitionStart"),Pn(yE,"onTransitionCancel"),Pn(Vm,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ny(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch(Z){Vo(Z)}h.currentTarget=null,f=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch(Z){Vo(Z)}h.currentTarget=null,f=I}}}}function Ie(e,n){var a=n[Yi];a===void 0&&(a=n[Yi]=new Set);var l=e+"__bubble";a.has(l)||(iy(n,e,2,!1),a.add(l))}function cf(e,n,a){var l=0;n&&(l|=4),iy(a,e,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function hf(e){if(!e[bu]){e[bu]=!0,Rs.forEach(function(a){a!=="selectionchange"&&(eb.has(a)||cf(a,!1,e),cf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bu]||(n[bu]=!0,cf("selectionchange",!1,n))}}function iy(e,n,a,l){switch(Iy(n)){case 2:var h=Nb;break;case 8:h=Cb;break;default:h=xf}a=h.bind(null,n,a,e),h=void 0,!Xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function ff(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=f=_;continue e}T=T.parentNode}}l=l.return}_o(function(){var H=f,Z=Is(a),ee=[];e:{var F=Lm.get(e);if(F!==void 0){var K=Ya,ce=e;switch(e){case"keypress":if(Ka(a)===0)break e;case"keydown":case"keyup":K=No;break;case"focusin":ce="focus",K=aa;break;case"focusout":ce="blur",K=aa;break;case"beforeblur":case"afterblur":K=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=To;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=jo;break;case Im:case Mm:case Om:K=Vs;break;case Vm:K=Ls;break;case"scroll":case"scrollend":K=Eo;break;case"wheel":K=Io;break;case"copy":case"cut":case"paste":K=Ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=el;break;case"toggle":case"beforetoggle":K=ra}var ye=(n&4)!==0,We=!ye&&(e==="scroll"||e==="scrollend"),B=ye?F!==null?F+"Capture":null:F;ye=[];for(var V=H,q;V!==null;){var W=V;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||B===null||(W=ln(V,B),W!=null&&ye.push(Nl(V,W,q))),We)break;V=V.return}0<ye.length&&(F=new K(F,ce,null,a,Z),ee.push({event:F,listeners:ye}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&a!==Ds&&(ce=a.relatedTarget||a.fromElement)&&(di(ce)||ce[Xn]))break e;if((K||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=H,ce=ce?di(ce):null,ce!==null&&(We=c(ce),ye=ce.tag,ce!==We||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(K=null,ce=H),K!==ce)){if(ye=bo,W="onMouseLeave",B="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(ye=el,W="onPointerLeave",B="onPointerEnter",V="pointer"),We=K==null?F:Fa(K),q=ce==null?F:Fa(ce),F=new ye(W,V+"leave",K,a,Z),F.target=We,F.relatedTarget=q,W=null,di(Z)===H&&(ye=new ye(B,V+"enter",ce,a,Z),ye.target=q,ye.relatedTarget=We,W=ye),We=W,K&&ce)t:{for(ye=tb,B=K,V=ce,q=0,W=B;W;W=ye(W))q++;W=0;for(var ge=V;ge;ge=ye(ge))W++;for(;0<q-W;)B=ye(B),q--;for(;0<W-q;)V=ye(V),W--;for(;q--;){if(B===V||V!==null&&B===V.alternate){ye=B;break t}B=ye(B),V=ye(V)}ye=null}else ye=null;K!==null&&ay(ee,F,K,ye,!1),ce!==null&&We!==null&&ay(ee,We,ce,ye,!0)}}e:{if(F=H?Fa(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var He=bm;else if(on(F))if(Tm)He=fE;else{He=cE;var he=uE}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Kr(H.elementType)&&(He=bm):He=hE;if(He&&(He=He(e,H))){Ja(ee,He,a,Z);break e}he&&he(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&js(F,"number",F.value)}switch(he=H?Fa(H):window,e){case"focusin":(on(he)||he.contentEditable==="true")&&(Us=he,Bc=H,il=null);break;case"focusout":il=Bc=Us=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,jm(ee,a,Z);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":jm(ee,a,Z)}var Ne;if(p)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else je?Ye(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(P&&a.locale!=="ko"&&(je||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&je&&(Ne=ea()):(pn=Z,Ms="value"in pn?pn.value:pn.textContent,je=!0)),he=Tu(H,Oe),0<he.length&&(Oe=new Zr(Oe,e,null,a,Z),ee.push({event:Oe,listeners:he}),Ne?Oe.data=Ne:(Ne=Et(a),Ne!==null&&(Oe.data=Ne)))),(Ne=S?Mt(e,a):Ot(e,a))&&(Oe=Tu(H,"onBeforeInput"),0<Oe.length&&(he=new Zr("onBeforeInput","beforeinput",null,a,Z),ee.push({event:he,listeners:Oe}),he.data=Ne)),ZE(ee,e,H,a,Z)}ny(ee,n)})}function Nl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Tu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ln(e,a),h!=null&&l.unshift(Nl(e,h,f)),h=ln(e,n),h!=null&&l.push(Nl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ay(e,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=ln(a,f),H!=null&&_.unshift(Nl(a,H,I))):h||(H=ln(a,f),H!=null&&_.push(Nl(a,H,I)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function sy(e){return(typeof e=="string"?e:""+e).replace(nb,`
`).replace(ib,"")}function ry(e,n){return n=sy(n),sy(e)===n}function Je(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Nn(e,""+l);break;case"className":Zi(e,"class",l);break;case"tabIndex":Zi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(e,a,l);break;case"style":yo(e,l,f);break;case"data":if(n!=="object"){Zi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Je(e,n,"name",h.name,h,null),Je(e,n,"formEncType",h.formEncType,h,null),Je(e,n,"formMethod",h.formMethod,h,null),Je(e,n,"formTarget",h.formTarget,h,null)):(Je(e,n,"encType",h.encType,h,null),Je(e,n,"method",h.method,h,null),Je(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=It);break;case"onScroll":l!=null&&Ie("scroll",e);break;case"onScrollEnd":l!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Jn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),$i(e,"popover",l);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,$i(e,a,l))}}function df(e,n,a,l,h,f){switch(a){case"style":yo(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&Nn(e,""+l);break;case"onScroll":l!=null&&Ie("scroll",e);break;case"onScrollEnd":l!=null&&Ie("scrollend",e);break;case"onClick":l!=null&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):$i(e,a,l)}}}function Ht(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(e,n,f,_,a,null)}}h&&Je(e,n,"srcSet",a.srcSet,a,null),l&&Je(e,n,"src",a.src,a,null);return;case"input":Ie("invalid",e);var T=f=_=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,n));break;default:Je(e,n,l,Z,a,null)}}Ga(e,f,T,I,H,_,h,!1);return;case"select":Ie("invalid",e),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(e,n,h,T,a,null)}n=f,a=_,e.multiple=!!l,n!=null?qe(e,!!l,n,!1):a!=null&&qe(e,!!l,a,!0);return;case"textarea":Ie("invalid",e),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Je(e,n,_,T,a,null)}Wi(e,l,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(e,n,I,l,a,null)}return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ie(Rl[l],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(e,n,H,l,a,null)}return;default:if(Kr(n)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&df(e,n,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(e,n,T,l,a,null))}function ab(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,I=null,H=null,Z=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||Je(e,n,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":f=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==ee&&Je(e,n,F,K,l,ee)}}Ji(e,_,T,I,H,Z,f,h);return;case"select":K=_=T=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(f)||Je(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==I&&Je(e,n,h,f,l,I)}n=T,a=_,l=K,F!=null?qe(e,!!a,F,!1):!!l!=!!a&&(n!=null?qe(e,!!a,n,!0):qe(e,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(e,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(e,n,_,h,l,f)}Qa(e,F,K);return;case"option":for(var ce in a)if(F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Je(e,n,ce,null,l,F)}for(I in l)if(F=l[I],K=a[I],l.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null))switch(I){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(e,n,I,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&Je(e,n,ye,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Je(e,n,H,F,l,K)}return;default:if(Kr(n)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!l.hasOwnProperty(We)&&df(e,n,We,void 0,l,F);for(Z in l)F=l[Z],K=a[Z],!l.hasOwnProperty(Z)||F===K||F===void 0&&K===void 0||df(e,n,Z,F,l,K);return}}for(var B in a)F=a[B],a.hasOwnProperty(B)&&F!=null&&!l.hasOwnProperty(B)&&Je(e,n,B,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||Je(e,n,ee,F,l,K)}function ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&ly(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>T)break;var Z=I.transferSize,ee=I.initiatorType;Z&&ly(ee)&&(I=I.responseEnd,_+=Z*(I<T?1:(T-H)/(I-H)))}if(--l,n+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mf=null,pf=null;function Su(e){return e.nodeType===9?e:e.ownerDocument}function oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function rb(){var e=window.event;return e&&e.type==="popstate"?e===yf?!1:(yf=e,!0):(yf=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(e){return hy.resolve(null).then(e).catch(ub)}:cy;function ub(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function fy(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),cr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Cl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Cl(e.ownerDocument.body);a=h}while(a);cr(n)}function dy(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function vf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cb(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function hb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function my(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function _f(e){return e.data==="$?"||e.data==="$~"}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bf=null;function py(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function yy(e,n,a){switch(n=Su(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ha(e)}var Ln=new Map,vy=new Set;function Au(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oi=ie.d;ie.d={f:db,r:mb,D:pb,C:gb,L:yb,m:vb,X:Eb,S:_b,M:bb};function db(){var e=Oi.f(),n=pu();return e||n}function mb(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):Oi.r(e)}var lr=typeof document>"u"?null:document;function _y(e,n,a){var l=lr;if(l&&typeof n=="string"&&n){var h=ht(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vy.has(h)||(vy.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ht(n,"link",e),pt(n),l.head.appendChild(n)))}}function pb(e){Oi.D(e),_y("dns-prefetch",e,null)}function gb(e,n){Oi.C(e,n),_y("preconnect",e,n)}function yb(e,n,a){Oi.L(e,n,a);var l=lr;if(l&&e&&n){var h='link[rel="preload"][as="'+ht(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ht(a.imageSizes)+'"]')):h+='[href="'+ht(e)+'"]';var f=h;switch(n){case"style":f=or(e);break;case"script":f=ur(e)}Ln.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(jl(f))||n==="script"&&l.querySelector(Dl(f))||(n=l.createElement("link"),Ht(n,"link",e),pt(n),l.head.appendChild(n)))}}function vb(e,n){Oi.m(e,n);var a=lr;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ht(l)+'"][href="'+ht(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ur(e)}if(!Ln.has(f)&&(e=A({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(f)))return}l=a.createElement("link"),Ht(l,"link",e),pt(l),a.head.appendChild(l)}}}function _b(e,n,a){Oi.S(e,n,a);var l=lr;if(l&&e){var h=kn(l).hoistableStyles,f=or(e);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(jl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Tf(e,a);var I=_=l.createElement("link");pt(I),Ht(I,"link",e),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function Eb(e,n){Oi.X(e,n);var a=lr;if(a&&e){var l=kn(a).hoistableScripts,h=ur(e),f=l.get(h);f||(f=a.querySelector(Dl(h)),f||(e=A({src:e,async:!0},n),(n=Ln.get(h))&&Sf(e,n),f=a.createElement("script"),pt(f),Ht(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function bb(e,n){Oi.M(e,n);var a=lr;if(a&&e){var l=kn(a).hoistableScripts,h=ur(e),f=l.get(h);f||(f=a.querySelector(Dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&Sf(e,n),f=a.createElement("script"),pt(f),Ht(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ey(e,n,a,l){var h=(h=Re.current)?Au(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=or(a.href),a=kn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=or(a.href);var f=kn(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(jl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||Tb(h,e,a,_.state))),n&&l===null)throw Error(r(528,""));return _}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ur(a),a=kn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function or(e){return'href="'+ht(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function by(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Tb(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ht(n,"link",a),pt(n),e.head.appendChild(n))}function ur(e){return'[src="'+ht(e)+'"]'}function Dl(e){return"script[async]"+e}function Ty(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ht(a.href)+'"]');if(l)return n.instance=l,pt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pt(l),Ht(l,"style",h),wu(l,a.precedence,e),n.instance=l;case"stylesheet":h=or(a.href);var f=e.querySelector(jl(h));if(f)return n.state.loading|=4,n.instance=f,pt(f),f;l=by(a),(h=Ln.get(h))&&Tf(l,h),f=(e.ownerDocument||e).createElement("link"),pt(f);var _=f;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ht(f,"link",l),n.state.loading|=4,wu(f,a.precedence,e),n.instance=f;case"script":return f=ur(a.src),(h=e.querySelector(Dl(f)))?(n.instance=h,pt(h),h):(l=a,(h=Ln.get(f))&&(l=A({},a),Sf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pt(h),Ht(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,e));return n.instance}function wu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Tf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xu=null;function Sy(e,n,a){if(xu===null){var l=new Map,h=xu=new Map;h.set(a,l)}else h=xu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[ct]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Ay(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Sb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ab(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=or(l.href),f=n.querySelector(jl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ru.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,pt(f);return}f=n.ownerDocument||n,l=by(l),(h=Ln.get(h))&&Tf(l,h),f=f.createElement("link"),pt(f);var _=f;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ht(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ru.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Af=0;function wb(e,n){return e.stylesheets&&e.count===0&&Cu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Af===0&&(Af=62500*sb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Af?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nu=null;function Cu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nu=new Map,n.forEach(xb,e),Nu=null,Ru.call(e))}function xb(e,n){if(!(n.state.loading&4)){var a=Nu.get(e);if(a)var l=a.get(null);else{a=new Map,Nu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Ru.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Il={$$typeof:se,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Rb(e,n,a,l,h,f,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function xy(e,n,a,l,h,f,_,T,I,H,Z,ee){return e=new Rb(e,n,a,_,I,H,Z,ee,T),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=nh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rh(f),e}function Ry(e){return e?(e=Bs,e):Bs}function Ny(e,n,a,l,h,f){h=Ry(h),l.context===null?l.context=h:l.pendingContext=h,l=da(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ma(e,l,n),a!==null&&(dn(a,e,n),cl(a,e,n))}function Cy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wf(e,n){Cy(e,n),(e=e.alternate)&&Cy(e,n)}function jy(e){if(e.tag===13||e.tag===31){var n=ts(e,67108864);n!==null&&dn(n,e,67108864),wf(e,67108864)}}function Dy(e){if(e.tag===13||e.tag===31){var n=Tn();n=Br(n);var a=ts(e,n);a!==null&&dn(a,e,n),wf(e,n)}}var ju=!0;function Nb(e,n,a,l){var h=$.T;$.T=null;var f=ie.p;try{ie.p=2,xf(e,n,a,l)}finally{ie.p=f,$.T=h}}function Cb(e,n,a,l){var h=$.T;$.T=null;var f=ie.p;try{ie.p=8,xf(e,n,a,l)}finally{ie.p=f,$.T=h}}function xf(e,n,a,l){if(ju){var h=Rf(l);if(h===null)ff(e,n,l,Du,a),My(e,l);else if(Db(h,e,n,a,l))l.stopPropagation();else if(My(e,l),n&4&&-1<jb.indexOf(e)){for(;h!==null;){var f=mi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=zn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-en(_);T.entanglements[1]|=I,_&=~I}ai(f),(Qe&6)===0&&(du=Ut()+500,xl(0))}}break;case 31:case 13:T=ts(f,2),T!==null&&dn(T,f,2),pu(),wf(f,2)}if(f=Rf(l),f===null&&ff(e,n,l,Du,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else ff(e,n,l,null,a)}}function Rf(e){return e=Is(e),Nf(e)}var Du=null;function Nf(e){if(Du=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Du=e,null}function Iy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uo()){case Nt:return 2;case Dt:return 8;case ui:case co:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Cf=!1,wa=null,xa=null,Ra=null,Ml=new Map,Ol=new Map,Na=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function My(e,n){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Vl(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=mi(n),n!==null&&jy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Db(e,n,a,l,h){switch(n){case"focusin":return wa=Vl(wa,e,n,a,l,h),!0;case"dragenter":return xa=Vl(xa,e,n,a,l,h),!0;case"mouseover":return Ra=Vl(Ra,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Ml.set(f,Vl(Ml.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Vl(Ol.get(f)||null,e,n,a,l,h)),!0}return!1}function Oy(e){var n=di(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,fo(e.priority,function(){Dy(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,fo(e.priority,function(){Dy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ds=l,a.target.dispatchEvent(l),Ds=null}else return n=mi(a),n!==null&&jy(n),e.blockedOn=a,!1;n.shift()}return!0}function Vy(e,n,a){Iu(e)&&a.delete(n)}function Ib(){Cf=!1,wa!==null&&Iu(wa)&&(wa=null),xa!==null&&Iu(xa)&&(xa=null),Ra!==null&&Iu(Ra)&&(Ra=null),Ml.forEach(Vy),Ol.forEach(Vy)}function Mu(e,n){e.blockedOn===n&&(e.blockedOn=null,Cf||(Cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ib)))}var Ou=null;function Ly(e){Ou!==e&&(Ou=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ou===e&&(Ou=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=mi(a);f!==null&&(e.splice(n,3),n-=3,xh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cr(e){function n(I){return Mu(I,e)}wa!==null&&Mu(wa,e),xa!==null&&Mu(xa,e),Ra!==null&&Mu(Ra,e),Ml.forEach(n),Ol.forEach(n);for(var a=0;a<Na.length;a++){var l=Na[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Na.length&&(a=Na[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&Na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[kt]||null;if(typeof f=="function")_||Ly(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[kt]||null)T=_.formAction;else if(Nf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ly(a)}}}function Uy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jf(e){this._internalRoot=e}Vu.prototype.render=jf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Tn();Ny(a,l,e,n,null,null)},Vu.prototype.unmount=jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ny(e.current,2,null,e,null,null),pu(),n[Xn]=null}};function Vu(e){this._internalRoot=e}Vu.prototype.unstable_scheduleHydration=function(e){if(e){var n=hi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Na.length&&n!==0&&n<Na[a].priority;a++);Na.splice(a,0,e),a===0&&Oy(e)}};var zy=t.version;if(zy!=="19.2.0")throw Error(r(527,zy,"19.2.0"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Mb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{qi=Lu.inject(Mb),Kt=Lu}catch{}}return Ul.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",h=Gp,f=Qp,_=Kp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=xy(e,1,!1,null,null,a,l,null,h,f,_,Uy),e[Xn]=n.current,hf(e),new jf(n)},Ul.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,h="",f=Gp,_=Qp,T=Kp,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=xy(e,1,!0,n,a??null,l,h,I,f,_,T,Uy),n.context=Ry(null),a=n.current,l=Tn(),l=Br(l),h=da(l),h.callback=null,ma(a,h,l),a=l,n.current.lanes=a,Gi(n,a),ai(n),e[Xn]=n.current,hf(e),new Vu(n)},Ul.version="19.2.0",Ul}var Yy;function Hb(){if(Yy)return Mf.exports;Yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Mf.exports=qb(),Mf.exports}var Fb=Hb();var Xy="popstate";function Gb(s={}){function t(r,o){let{pathname:c,search:m,hash:g}=r.location;return td("",{pathname:c,search:m,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Kl(o)}return Kb(t,i,null,s)}function lt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Un(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qb(){return Math.random().toString(36).substring(2,10)}function $y(s,t){return{usr:s.state,key:s.key,idx:t}}function td(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Rr(t):t,state:i,key:t&&t.key||r||Qb()}}function Kl({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Rr(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function Kb(s,t,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,m=o.history,g="POP",y=null,v=b();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function b(){return(m.state||{idx:null}).idx}function A(){g="POP";let j=b(),Q=j==null?null:j-v;v=j,y&&y({action:g,location:G.location,delta:Q})}function R(j,Q){g="PUSH";let te=td(G.location,j,Q);v=b()+1;let se=$y(te,v),pe=G.createHref(te);try{m.pushState(se,"",pe)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;o.location.assign(pe)}c&&y&&y({action:g,location:G.location,delta:1})}function z(j,Q){g="REPLACE";let te=td(G.location,j,Q);v=b();let se=$y(te,v),pe=G.createHref(te);m.replaceState(se,"",pe),c&&y&&y({action:g,location:G.location,delta:0})}function C(j){return Yb(j)}let G={get action(){return g},get location(){return s(o,m)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Xy,A),y=j,()=>{o.removeEventListener(Xy,A),y=null}},createHref(j){return t(o,j)},createURL:C,encodeLocation(j){let Q=C(j);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:R,replace:z,go(j){return m.go(j)}};return G}function Yb(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),lt(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Kl(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function __(s,t,i="/"){return Xb(s,t,i,!1)}function Xb(s,t,i,r){let o=typeof t=="string"?Rr(t):t,c=Li(o.pathname||"/",i);if(c==null)return null;let m=E_(s);$b(m);let g=null;for(let y=0;g==null&&y<m.length;++y){let v=lT(c);g=sT(m[y],v,r)}return g}function E_(s,t=[],i=[],r="",o=!1){let c=(m,g,y=o,v)=>{let b={relativePath:v===void 0?m.path||"":v,caseSensitive:m.caseSensitive===!0,childrenIndex:g,route:m};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&y)return;lt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let A=Vi([r,b.relativePath]),R=i.concat(b);m.children&&m.children.length>0&&(lt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),E_(m.children,t,R,A,y)),!(m.path==null&&!m.index)&&t.push({path:A,score:iT(A,m.index),routesMeta:R})};return s.forEach((m,g)=>{if(m.path===""||!m.path?.includes("?"))c(m,g);else for(let y of b_(m.path))c(m,g,!0,y)}),t}function b_(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let m=b_(r.join("/")),g=[];return g.push(...m.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...m),g.map(y=>s.startsWith("/")&&y===""?"/":y)}function $b(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:aT(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Zb=/^:[\w-]+$/,Jb=3,Wb=2,eT=1,tT=10,nT=-2,Zy=s=>s==="*";function iT(s,t){let i=s.split("/"),r=i.length;return i.some(Zy)&&(r+=nT),t&&(r+=Wb),i.filter(o=>!Zy(o)).reduce((o,c)=>o+(Zb.test(c)?Jb:c===""?eT:tT),r)}function aT(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function sT(s,t,i=!1){let{routesMeta:r}=s,o={},c="/",m=[];for(let g=0;g<r.length;++g){let y=r[g],v=g===r.length-1,b=c==="/"?t:t.slice(c.length)||"/",A=tc({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},b),R=y.route;if(!A&&v&&i&&!r[r.length-1].route.index&&(A=tc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!A)return null;Object.assign(o,A.params),m.push({params:o,pathname:Vi([c,A.pathname]),pathnameBase:fT(Vi([c,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(c=Vi([c,A.pathnameBase]))}return m}function tc(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=rT(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let c=o[0],m=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((v,{paramName:b,isOptional:A},R)=>{if(b==="*"){let C=g[R]||"";m=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const z=g[R];return A&&!z?v[b]=void 0:v[b]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:m,pattern:s}}function rT(s,t=!1,i=!0){Un(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function lT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Li(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=s=>oT.test(s);function cT(s,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Rr(s):s,c;if(i)if(uT(i))c=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?c=Jy(i.substring(1),"/"):c=Jy(i,t)}else c=t;return{pathname:c,search:dT(r),hash:mT(o)}}function Jy(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Uf(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hT(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Nd(s){let t=hT(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Cd(s,t,i,r=!1){let o;typeof s=="string"?o=Rr(s):(o={...s},lt(!o.pathname||!o.pathname.includes("?"),Uf("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Uf("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Uf("#","search","hash",o)));let c=s===""||o.pathname==="",m=c?"/":o.pathname,g;if(m==null)g=i;else{let A=t.length-1;if(!r&&m.startsWith("..")){let R=m.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}g=A>=0?t[A]:"/"}let y=cT(o,g),v=m&&m!=="/"&&m.endsWith("/"),b=(c||m===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(v||b)&&(y.pathname+="/"),y}var Vi=s=>s.join("/").replace(/\/\/+/g,"/"),fT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),dT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,mT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function pT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T_=["POST","PUT","PATCH","DELETE"];new Set(T_);var gT=["GET",...T_];new Set(gT);var Nr=D.createContext(null);Nr.displayName="DataRouter";var pc=D.createContext(null);pc.displayName="DataRouterState";D.createContext(!1);var S_=D.createContext({isTransitioning:!1});S_.displayName="ViewTransition";var yT=D.createContext(new Map);yT.displayName="Fetchers";var vT=D.createContext(null);vT.displayName="Await";var Qn=D.createContext(null);Qn.displayName="Navigation";var to=D.createContext(null);to.displayName="Location";var oi=D.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var jd=D.createContext(null);jd.displayName="RouteError";function _T(s,{relative:t}={}){lt(Cr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=D.useContext(Qn),{hash:o,pathname:c,search:m}=no(s,{relative:t}),g=c;return i!=="/"&&(g=c==="/"?i:Vi([i,c])),r.createHref({pathname:g,search:m,hash:o})}function Cr(){return D.useContext(to)!=null}function ki(){return lt(Cr(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(to).location}var A_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w_(s){D.useContext(Qn).static||D.useLayoutEffect(s)}function Dd(){let{isDataRoute:s}=D.useContext(oi);return s?IT():ET()}function ET(){lt(Cr(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(Nr),{basename:t,navigator:i}=D.useContext(Qn),{matches:r}=D.useContext(oi),{pathname:o}=ki(),c=JSON.stringify(Nd(r)),m=D.useRef(!1);return w_(()=>{m.current=!0}),D.useCallback((y,v={})=>{if(Un(m.current,A_),!m.current)return;if(typeof y=="number"){i.go(y);return}let b=Cd(y,JSON.parse(c),o,v.relative==="path");s==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Vi([t,b.pathname])),(v.replace?i.replace:i.push)(b,v.state,v)},[t,i,c,o,s])}D.createContext(null);function no(s,{relative:t}={}){let{matches:i}=D.useContext(oi),{pathname:r}=ki(),o=JSON.stringify(Nd(i));return D.useMemo(()=>Cd(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function bT(s,t){return x_(s,t)}function x_(s,t,i,r,o){lt(Cr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Qn),{matches:m}=D.useContext(oi),g=m[m.length-1],y=g?g.params:{},v=g?g.pathname:"/",b=g?g.pathnameBase:"/",A=g&&g.route;{let te=A&&A.path||"";R_(v,!A||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let R=ki(),z;if(t){let te=typeof t=="string"?Rr(t):t;lt(b==="/"||te.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${te.pathname}" was given in the \`location\` prop.`),z=te}else z=R;let C=z.pathname||"/",G=C;if(b!=="/"){let te=b.replace(/^\//,"").split("/");G="/"+C.replace(/^\//,"").split("/").slice(te.length).join("/")}let j=__(s,{pathname:G});Un(A||j!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Un(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=xT(j&&j.map(te=>Object.assign({},te,{params:Object.assign({},y,te.params),pathname:Vi([b,c.encodeLocation?c.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?b:Vi([b,c.encodeLocation?c.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),m,i,r,o);return t&&Q?D.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},Q):Q}function TT(){let s=DT(),t=pT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),i?D.createElement("pre",{style:o},i):null,m)}var ST=D.createElement(TT,null),AT=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?D.createElement(oi.Provider,{value:this.props.routeContext},D.createElement(jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wT({routeContext:s,match:t,children:i}){let r=D.useContext(Nr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(oi.Provider,{value:s},i)}function xT(s,t=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,m=i?.errors;if(m!=null){let b=c.findIndex(A=>A.route.id&&m?.[A.route.id]!==void 0);lt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),c=c.slice(0,Math.min(c.length,b+1))}let g=!1,y=-1;if(i)for(let b=0;b<c.length;b++){let A=c[b];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=b),A.route.id){let{loaderData:R,errors:z}=i,C=A.route.loader&&!R.hasOwnProperty(A.route.id)&&(!z||z[A.route.id]===void 0);if(A.route.lazy||C){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let v=i&&r?(b,A)=>{r(b,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:A})}:void 0;return c.reduceRight((b,A,R)=>{let z,C=!1,G=null,j=null;i&&(z=m&&A.route.id?m[A.route.id]:void 0,G=A.route.errorElement||ST,g&&(y<0&&R===0?(R_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,j=null):y===R&&(C=!0,j=A.route.hydrateFallbackElement||null)));let Q=t.concat(c.slice(0,R+1)),te=()=>{let se;return z?se=G:C?se=j:A.route.Component?se=D.createElement(A.route.Component,null):A.route.element?se=A.route.element:se=b,D.createElement(wT,{match:A,routeContext:{outlet:b,matches:Q,isDataRoute:i!=null},children:se})};return i&&(A.route.ErrorBoundary||A.route.errorElement||R===0)?D.createElement(AT,{location:i.location,revalidation:i.revalidation,component:G,error:z,children:te(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:v}):te()},null)}function Id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RT(s){let t=D.useContext(Nr);return lt(t,Id(s)),t}function NT(s){let t=D.useContext(pc);return lt(t,Id(s)),t}function CT(s){let t=D.useContext(oi);return lt(t,Id(s)),t}function Md(s){let t=CT(s),i=t.matches[t.matches.length-1];return lt(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function jT(){return Md("useRouteId")}function DT(){let s=D.useContext(jd),t=NT("useRouteError"),i=Md("useRouteError");return s!==void 0?s:t.errors?.[i]}function IT(){let{router:s}=RT("useNavigate"),t=Md("useNavigate"),i=D.useRef(!1);return w_(()=>{i.current=!0}),D.useCallback(async(o,c={})=>{Un(i.current,A_),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var Wy={};function R_(s,t,i){!t&&!Wy[s]&&(Wy[s]=!0,Un(!1,i))}D.memo(MT);function MT({routes:s,future:t,state:i,unstable_onError:r}){return x_(s,void 0,i,r,t)}function OT({to:s,replace:t,state:i,relative:r}){lt(Cr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Qn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(oi),{pathname:m}=ki(),g=Dd(),y=Cd(s,Nd(c),m,r==="path"),v=JSON.stringify(y);return D.useEffect(()=>{g(JSON.parse(v),{replace:t,state:i,relative:r})},[g,v,r,t,i]),null}function Fn(s){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VT({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){lt(!Cr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:m,navigator:o,static:c,future:{}}),[m,o,c]);typeof i=="string"&&(i=Rr(i));let{pathname:y="/",search:v="",hash:b="",state:A=null,key:R="default"}=i,z=D.useMemo(()=>{let C=Li(y,m);return C==null?null:{location:{pathname:C,search:v,hash:b,state:A,key:R},navigationType:r}},[m,y,v,b,A,R,r]);return Un(z!=null,`<Router basename="${m}"> is not able to match the URL "${y}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:D.createElement(Qn.Provider,{value:g},D.createElement(to.Provider,{children:t,value:z}))}function LT({children:s,location:t}){return bT(nd(s),t)}function nd(s,t=[]){let i=[];return D.Children.forEach(s,(r,o)=>{if(!D.isValidElement(r))return;let c=[...t,o];if(r.type===D.Fragment){i.push.apply(i,nd(r.props.children,c));return}lt(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=nd(r.props.children,c)),i.push(m)}),i}var Xu="get",$u="application/x-www-form-urlencoded";function gc(s){return s!=null&&typeof s.tagName=="string"}function UT(s){return gc(s)&&s.tagName.toLowerCase()==="button"}function zT(s){return gc(s)&&s.tagName.toLowerCase()==="form"}function kT(s){return gc(s)&&s.tagName.toLowerCase()==="input"}function BT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function PT(s,t){return s.button===0&&(!t||t==="_self")&&!BT(s)}var Uu=null;function qT(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var HT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(s){return s!=null&&!HT.has(s)?(Un(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):s}function FT(s,t){let i,r,o,c,m;if(zT(s)){let g=s.getAttribute("action");r=g?Li(g,t):null,i=s.getAttribute("method")||Xu,o=zf(s.getAttribute("enctype"))||$u,c=new FormData(s)}else if(UT(s)||kT(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||g.getAttribute("action");if(r=y?Li(y,t):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||Xu,o=zf(s.getAttribute("formenctype"))||zf(g.getAttribute("enctype"))||$u,c=new FormData(g,s),!qT()){let{name:v,type:b,value:A}=s;if(b==="image"){let R=v?`${v}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else v&&c.append(v,A)}}else{if(gc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Xu,r=null,o=$u,m=s}return c&&o==="text/plain"&&(m=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Od(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function GT(s,t,i){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&Li(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function QT(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function YT(s,t,i){let r=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let m=await QT(c,i);return m.links?m.links():[]}return[]}));return JT(r.flat(1).filter(KT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ev(s,t,i,r,o,c){let m=(y,v)=>i[v]?y.route.id!==i[v].route.id:!0,g=(y,v)=>i[v].pathname!==y.pathname||i[v].route.path?.endsWith("*")&&i[v].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,v)=>m(y,v)||g(y,v)):c==="data"?t.filter((y,v)=>{let b=r.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(m(y,v)||g(y,v))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function XT(s,t,{includeHydrateFallback:i}={}){return $T(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function $T(s){return[...new Set(s)]}function ZT(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function JT(s,t){let i=new Set;return new Set(t),s.reduce((r,o)=>{let c=JSON.stringify(ZT(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function N_(){let s=D.useContext(Nr);return Od(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function WT(){let s=D.useContext(pc);return Od(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Vd=D.createContext(void 0);Vd.displayName="FrameworkContext";function C_(){let s=D.useContext(Vd);return Od(s,"You must render this element inside a <HydratedRouter> element"),s}function eS(s,t){let i=D.useContext(Vd),[r,o]=D.useState(!1),[c,m]=D.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:v,onMouseLeave:b,onTouchStart:A}=t,R=D.useRef(null);D.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let G=Q=>{Q.forEach(te=>{m(te.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return R.current&&j.observe(R.current),()=>{j.disconnect()}}},[s]),D.useEffect(()=>{if(r){let G=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(G)}}},[r]);let z=()=>{o(!0)},C=()=>{o(!1),m(!1)};return i?s!=="intent"?[c,R,{}]:[c,R,{onFocus:zl(g,z),onBlur:zl(y,C),onMouseEnter:zl(v,z),onMouseLeave:zl(b,C),onTouchStart:zl(A,z)}]:[!1,R,{}]}function zl(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function tS({page:s,...t}){let{router:i}=N_(),r=D.useMemo(()=>__(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?D.createElement(iS,{page:s,matches:r,...t}):null}function nS(s){let{manifest:t,routeModules:i}=C_(),[r,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return YT(s,t,i).then(m=>{c||o(m)}),()=>{c=!0}},[s,t,i]),r}function iS({page:s,matches:t,...i}){let r=ki(),{manifest:o,routeModules:c}=C_(),{basename:m}=N_(),{loaderData:g,matches:y}=WT(),v=D.useMemo(()=>ev(s,t,y,o,r,"data"),[s,t,y,o,r]),b=D.useMemo(()=>ev(s,t,y,o,r,"assets"),[s,t,y,o,r]),A=D.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let C=new Set,G=!1;if(t.forEach(Q=>{let te=o.routes[Q.route.id];!te||!te.hasLoader||(!v.some(se=>se.route.id===Q.route.id)&&Q.route.id in g&&c[Q.route.id]?.shouldRevalidate||te.hasClientLoader?G=!0:C.add(Q.route.id))}),C.size===0)return[];let j=GT(s,m,"data");return G&&C.size>0&&j.searchParams.set("_routes",t.filter(Q=>C.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[j.pathname+j.search]},[m,g,r,o,v,t,s,c]),R=D.useMemo(()=>XT(b,o),[b,o]),z=nS(b);return D.createElement(D.Fragment,null,A.map(C=>D.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),R.map(C=>D.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),z.map(({key:C,link:G})=>D.createElement("link",{key:C,nonce:i.nonce,...G})))}function aS(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var j_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j_&&(window.__reactRouterVersion="7.9.6")}catch{}function sS({basename:s,children:t,window:i}){let r=D.useRef();r.current==null&&(r.current=Gb({window:i,v5Compat:!0}));let o=r.current,[c,m]=D.useState({action:o.action,location:o.location}),g=D.useCallback(y=>{D.startTransition(()=>m(y))},[m]);return D.useLayoutEffect(()=>o.listen(g),[o,g]),D.createElement(VT,{basename:s,children:t,location:c.location,navigationType:c.action,navigator:o})}var D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=D.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:m,state:g,target:y,to:v,preventScrollReset:b,viewTransition:A,...R},z){let{basename:C}=D.useContext(Qn),G=typeof v=="string"&&D_.test(v),j,Q=!1;if(typeof v=="string"&&G&&(j=v,j_))try{let N=new URL(window.location.href),M=v.startsWith("//")?new URL(N.protocol+v):new URL(v),U=Li(M.pathname,C);M.origin===N.origin&&U!=null?v=U+M.search+M.hash:Q=!0}catch{Un(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=_T(v,{relative:o}),[se,pe,xe]=eS(r,R),Ee=oS(v,{replace:m,state:g,target:y,preventScrollReset:b,relative:o,viewTransition:A});function O(N){t&&t(N),N.defaultPrevented||Ee(N)}let x=D.createElement("a",{...R,...xe,href:j||te,onClick:Q||c?t:O,ref:aS(z,pe),target:y,"data-discover":!G&&i==="render"?"true":void 0});return se&&!G?D.createElement(D.Fragment,null,x,D.createElement(tS,{page:te})):x});nc.displayName="Link";var I_=D.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:m,viewTransition:g,children:y,...v},b){let A=no(m,{relative:v.relative}),R=ki(),z=D.useContext(pc),{navigator:C,basename:G}=D.useContext(Qn),j=z!=null&&dS(A)&&g===!0,Q=C.encodeLocation?C.encodeLocation(A).pathname:A.pathname,te=R.pathname,se=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;i||(te=te.toLowerCase(),se=se?se.toLowerCase():null,Q=Q.toLowerCase()),se&&G&&(se=Li(se,G)||se);const pe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let xe=te===Q||!o&&te.startsWith(Q)&&te.charAt(pe)==="/",Ee=se!=null&&(se===Q||!o&&se.startsWith(Q)&&se.charAt(Q.length)==="/"),O={isActive:xe,isPending:Ee,isTransitioning:j},x=xe?t:void 0,N;typeof r=="function"?N=r(O):N=[r,xe?"active":null,Ee?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(O):c;return D.createElement(nc,{...v,"aria-current":x,className:N,ref:b,style:M,to:m,viewTransition:g},typeof y=="function"?y(O):y)});I_.displayName="NavLink";var rS=D.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:c,method:m=Xu,action:g,onSubmit:y,relative:v,preventScrollReset:b,viewTransition:A,...R},z)=>{let C=hS(),G=fS(g,{relative:v}),j=m.toLowerCase()==="get"?"get":"post",Q=typeof g=="string"&&D_.test(g),te=se=>{if(y&&y(se),se.defaultPrevented)return;se.preventDefault();let pe=se.nativeEvent.submitter,xe=pe?.getAttribute("formmethod")||m;C(pe||se.currentTarget,{fetcherKey:t,method:xe,navigate:i,replace:o,state:c,relative:v,preventScrollReset:b,viewTransition:A})};return D.createElement("form",{ref:z,method:j,action:G,onSubmit:r?y:te,...R,"data-discover":!Q&&s==="render"?"true":void 0})});rS.displayName="Form";function lS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M_(s){let t=D.useContext(Nr);return lt(t,lS(s)),t}function oS(s,{target:t,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:m}={}){let g=Dd(),y=ki(),v=no(s,{relative:c});return D.useCallback(b=>{if(PT(b,t)){b.preventDefault();let A=i!==void 0?i:Kl(y)===Kl(v);g(s,{replace:A,state:r,preventScrollReset:o,relative:c,viewTransition:m})}},[y,g,v,i,r,t,s,o,c,m])}var uS=0,cS=()=>`__${String(++uS)}__`;function hS(){let{router:s}=M_("useSubmit"),{basename:t}=D.useContext(Qn),i=jT();return D.useCallback(async(r,o={})=>{let{action:c,method:m,encType:g,formData:y,body:v}=FT(r,t);if(o.navigate===!1){let b=o.fetcherKey||cS();await s.fetch(b,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||m,formEncType:o.encType||g,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||m,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,i])}function fS(s,{relative:t}={}){let{basename:i}=D.useContext(Qn),r=D.useContext(oi);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...no(s||".",{relative:t})},m=ki();if(s==null){c.search=m.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(b=>b==="")){g.delete("index"),y.filter(A=>A).forEach(A=>g.append("index",A));let b=g.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Vi([i,c.pathname])),Kl(c)}function dS(s,{relative:t}={}){let i=D.useContext(S_);lt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M_("useViewTransitionState"),o=no(s,{relative:t});if(!i.isTransitioning)return!1;let c=Li(i.currentLocation.pathname,r)||i.currentLocation.pathname,m=Li(i.nextLocation.pathname,r)||i.nextLocation.pathname;return tc(o.pathname,m)!=null||tc(o.pathname,c)!=null}const mS=[{label:"Dashboard",to:"/"},{label:"Admin Users",to:"/users"},{label:"Access & Features",to:"/access"},{label:"Scans uploaded",to:"/admin/scans-uploaded"},{label:"Todo-Liste",to:"/admin/todo"},{label:"Feedback overview",to:"/admin/feedback"},{label:"Logs",to:"/logs"},{label:"APIs & Services",to:"/apis"},{label:"Settings",to:"/settings"}];function pS({open:s,onClose:t}){return d.jsxs("aside",{className:`sidebar ${s?"sidebar--open":""}`,children:[d.jsxs("div",{className:"sidebar__header",children:[d.jsx("p",{children:"Control Panel"}),d.jsx("small",{children:"Admin tools"})]}),d.jsx("nav",{className:"sidebar__nav",children:mS.map(i=>d.jsx(I_,{to:i.to,end:i.to==="/",className:({isActive:r})=>`sidebar__link ${r?"sidebar__link--active":""}`,onClick:t,children:i.label},i.to))})]})}const O_=D.createContext(void 0),vr="https://auth.sfdatahub.com".replace(/\/+$/,""),tv=vr?`${vr}/auth/me`:"",nv=vr?`${vr}/auth/logout`:"";function gS({children:s}){const[t,i]=D.useState("idle"),[r,o]=D.useState(null),c=D.useRef(!1),m=D.useCallback(async()=>{if(!tv){console.warn("[Auth] AUTH_BASE_URL not configured; treating as unauthenticated."),o(null),i("unauthenticated");return}if(!c.current){c.current=!0,i(R=>R==="authenticated"?R:"loading");try{const R=await fetch(tv,{method:"GET",credentials:"include"});if(R.status===200){const z=await R.json(),C=z?.user??z;C?(o(C),i("authenticated")):(o(null),i("unauthenticated"));return}if(R.status===401||R.status===403){o(null),i("unauthenticated");return}console.error(`[Auth] Session check failed (${R.status}).`),o(null),i("error")}catch(R){console.error("[Auth] Failed to refresh session.",R),o(null),i("error")}finally{c.current=!1}}},[]);D.useEffect(()=>{m()},[m]);const g=D.useCallback(R=>{if(!vr){console.warn(`[Auth] Cannot initiate ${R} login without AUTH_BASE_URL.`);return}const z=new URL(`/auth/${R}/login`,vr);z.searchParams.set("redirect",window.location.href),window.location.href=z.toString()},[]),y=D.useCallback(async()=>{if(!nv){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),o(null),i("unauthenticated");return}try{const R=await fetch(nv,{method:"POST",credentials:"include"});if(!R.ok)throw new Error(`Logout failed (${R.status}).`)}catch(R){console.error("[Auth] Failed to logout. Clearing local session anyway.",R)}finally{o(null),i("unauthenticated")}},[]),v=D.useCallback(async()=>{await m()},[m]);D.useEffect(()=>{c.current=!1},[t,r]);const b=t==="idle"||t==="loading",A=D.useMemo(()=>({status:t,user:r,isLoading:b,login:g,logout:y,refresh:v}),[t,r,b,g,y,v]);return d.jsx(O_.Provider,{value:A,children:s})}function yc(){const s=D.useContext(O_);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s}function yS({onToggleSidebar:s,isSidebarOpen:t}){const{user:i,status:r,isLoading:o,login:c,logout:m}=yc(),[g,y]=D.useState(!1),v=D.useRef(null),b=D.useMemo(()=>i?i.displayName||i.providers?.[i.provider]?.displayName||"User":"Guest",[i]),A=D.useMemo(()=>{if(i?.avatarUrl)return i.avatarUrl;const G=i?.providers?.[i?.provider??"discord"]?.avatarUrl;return G||null},[i]),R=D.useMemo(()=>(i?.roles??[]).filter(j=>["admin","moderator","mod"].includes(j.toLowerCase())),[i]);D.useEffect(()=>{const G=j=>{v.current&&!v.current.contains(j.target)&&y(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),D.useEffect(()=>{o&&y(!1)},[o]);const z=G=>{c(G)},C=async()=>{await m(),y(!1)};return d.jsxs("header",{className:"topbar",children:[d.jsxs("div",{className:"topbar__left",children:[d.jsxs("button",{type:"button",className:"topbar__burger","aria-label":"Toggle navigation","aria-expanded":t??!1,onClick:s,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]}),d.jsxs("div",{className:"topbar__branding",children:[d.jsx("span",{className:"topbar__logo",children:"SFDataHub"}),d.jsx("span",{className:"topbar__subtitle",children:"Control Panel"})]})]}),d.jsx("div",{className:"topbar__user",children:o?d.jsxs("div",{className:"topbar__badge topbar__badge--muted",children:[d.jsx("span",{className:"topbar__spinner","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Checking session..."}),d.jsx("span",{children:"Loading"})]}):r==="unauthenticated"?d.jsxs("div",{className:"topbar__auth",children:[d.jsx("button",{type:"button",className:"topbar__login topbar__login--discord",onClick:()=>z("discord"),children:"Login Discord"}),d.jsx("button",{type:"button",className:"topbar__login topbar__login--google",onClick:()=>z("google"),children:"Login Google"})]}):d.jsxs("div",{className:"topbar__account",ref:v,children:[d.jsxs("button",{type:"button",className:"topbar__account-btn","aria-haspopup":"menu","aria-expanded":g,onClick:()=>y(G=>!G),children:[A?d.jsx("img",{className:"topbar__avatar-img",src:A,alt:b}):d.jsx("div",{className:"topbar__avatar",children:b?.[0]??"A"}),d.jsxs("div",{className:"topbar__meta",children:[d.jsx("p",{children:b}),d.jsxs("div",{className:"topbar__roles",children:[R.length===0?d.jsx("small",{className:"topbar__role",children:"User"}):null,R.map(G=>d.jsx("span",{className:"topbar__role topbar__role--badge",children:G},G))]})]})]}),g&&d.jsxs("div",{className:"topbar__dropdown",role:"menu",children:[d.jsxs("div",{className:"topbar__dropdown-header",children:[d.jsx("p",{className:"topbar__dropdown-name",children:b}),d.jsxs("p",{className:"topbar__dropdown-sub",children:["Signed in via ",i?.provider]})]}),d.jsx("button",{type:"button",className:"topbar__dropdown-item",onClick:C,children:"Logout"})]})]})})]})}function Bi({title:s,description:t,children:i,headerContent:r}){return d.jsxs("section",{className:"content-shell",children:[d.jsx("div",{className:"content-shell__header",children:r??d.jsxs("div",{children:[d.jsx("p",{className:"content-shell__eyebrow",children:"SFDataHub"}),d.jsx("h1",{children:s}),t&&d.jsx("p",{className:"content-shell__description",children:t})]})}),d.jsx("div",{className:"content-shell__body",children:i})]})}function za({title:s,subtitle:t,hintRight:i}){return d.jsxs("div",{className:"page-header",children:[d.jsxs("div",{className:"page-header__left",children:[d.jsx("p",{className:"content-shell__eyebrow",children:"SFDataHub"}),d.jsx("h1",{className:"page-header__title",children:s}),t&&d.jsx("p",{className:"page-header__subtitle",children:t})]}),i&&d.jsx("p",{className:"page-header__hint",children:i})]})}const gs=[{id:"auth-api",name:"Auth API",kind:"api",description:"Handles login via Discord/Google and issues JWTs so SFDataHub can gate session information.",url:"https://auth.sfdatahub.com",status:"ok",docsUrl:"",owner:"Backend",healthCheck:{type:"http",url:"https://auth.sfdatahub.com/health",timeoutMs:5e3}},{id:"scan-import-api",name:"Scan Import API",kind:"api",description:"Accepts HAR/CSV uploads from the UI and writes parsed scan data into Firestore.",status:"unknown",docsUrl:"",owner:"Backend"},{id:"firestore",name:"Firestore Database",kind:"db",description:"Primary database for player, guild and scan data (project `sfdatahub-staging`).",url:"https://console.firebase.google.com/project/sfdatahub-staging/firestore/data",status:"ok",docsUrl:"",owner:"Infra",healthCheck:{type:"firestore",firestoreCollection:"stats_public",firestoreDocument:"toplists_bundle_v1",timeoutMs:5e3}},{id:"goatcounter",name:"GoatCounter Analytics",kind:"analytics",description:"Privacy-friendly traffic stats for SFDataHub (page views, referrers, etc.).",url:"https://example.goatcounter.com/sfdatahub",status:"ok",docsUrl:"",owner:"Analytics"}],V_=6e3;function vS(s){return s===200?"ok":s>=500?"down":s>=400?"degraded":"unknown"}async function _S(s,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t??V_),o=performance.now();try{const c=await fetch(s,{method:"GET",signal:i.signal}),m=Math.round(performance.now()-o),g=vS(c.status);return clearTimeout(r),{status:g,latencyMs:m,checkedAt:new Date().toISOString(),errorMessage:c.ok?void 0:`HTTP ${c.status}`}}catch(c){clearTimeout(r);const m=c instanceof Error?c.message:"Network error";return{status:(c instanceof DOMException&&c.name==="AbortError","down"),latencyMs:Math.round(performance.now()-o),checkedAt:new Date().toISOString(),errorMessage:m}}}async function ES(s,t,i,r){const o="AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",c=i?`${t}/${i}`:t,g=`${`https://firestore.googleapis.com/v1/projects/${s}/databases/(default)/documents/${c}`}?pageSize=1&key=${o}`,y=new AbortController,v=setTimeout(()=>y.abort(),r??V_),b=performance.now();try{const A=await fetch(g,{method:"GET",signal:y.signal}),R=Math.round(performance.now()-b);return clearTimeout(v),A.ok?{status:"ok",latencyMs:R,checkedAt:new Date().toISOString()}:{status:A.status>=500?"down":"degraded",latencyMs:R,checkedAt:new Date().toISOString(),errorMessage:`HTTP ${A.status}`}}catch(A){clearTimeout(v);const R=A instanceof Error?A.message:"Network error";return{status:"down",latencyMs:Math.round(performance.now()-b),checkedAt:new Date().toISOString(),errorMessage:R}}}async function bS(s){const{healthCheck:t}=s;if(!t)return[s.id,{status:s.status??"unknown"}];if(t.type==="http"){const o=await _S(t.url,t.timeoutMs);return[s.id,o]}const r=await ES("sfdatahub-staging",t.firestoreCollection,t.firestoreDocument,t.timeoutMs);return[s.id,r]}function L_(s=gs){const[t,i]=D.useState({}),[r,o]=D.useState(!1),[c,m]=D.useState(void 0),g=D.useMemo(()=>s.filter(v=>v.healthCheck),[s]),y=D.useCallback(async()=>{if(g.length===0){i({});return}o(!0),m(void 0);try{const v=await Promise.all(g.map(A=>bS(A))),b={};for(const[A,R]of v)b[A]=R;i(b)}catch(v){const b=v instanceof Error?v.message:"Health check failed";m(b)}finally{o(!1)}},[g]);return D.useEffect(()=>{y()},[]),{healthMap:t,isLoading:r,error:c,refresh:y}}const TS=[{label:"All",value:"all"},{label:"APIs",value:"api"},{label:"Database",value:"db"},{label:"Analytics",value:"analytics"},{label:"Other",value:"other"}],SS=[{label:"All",value:"all"},{label:"OK",value:"ok"},{label:"Degraded",value:"degraded"},{label:"Down",value:"down"},{label:"Unknown",value:"unknown"}],zu={ok:{label:"OK",tone:"ok"},degraded:{label:"Degraded",tone:"warning"},down:{label:"Down",tone:"down"},unknown:{label:"Unknown",tone:"unknown"}},iv={api:"API",db:"Database",analytics:"Analytics",worker:"Worker",other:"Other"};function AS(s){return s.trim().toLowerCase()}function wS(){const s=Dd(),{healthMap:t,isLoading:i}=L_(gs),[r,o]=D.useState("all"),[c,m]=D.useState("all"),[g,y]=D.useState(""),[v,b]=D.useState(null),A=D.useMemo(()=>{const C=AS(g);return gs.filter(G=>{const Q=t[G.id]?.status??G.status??"unknown";if(r!=="all"){if(r==="other"){if(G.kind!=="other"&&G.kind!=="worker")return!1}else if(G.kind!==r)return!1}return!(c!=="all"&&Q!==c||C&&!`${G.name} ${G.description}`.toLowerCase().includes(C))})},[r,c,g,t]),R=C=>{s("/logs",{state:{defaultFilters:{service:C}}})},z=C=>zu[C.status??"unknown"];return d.jsxs(Bi,{title:"APIs & Services",description:"Catalog of backend services, databases and analytics powering SFDataHub",headerContent:d.jsx(za,{title:"APIs & Services",subtitle:"Catalog of backend services, databases and analytics powering SFDataHub",hintRight:"Data currently based on static config - health checks later"}),children:[d.jsxs("div",{className:"service-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Category"}),d.jsx("select",{value:r,onChange:C=>o(C.target.value),children:TS.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:c,onChange:C=>m(C.target.value),children:SS.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by name or description"}),d.jsx("input",{value:g,onChange:C=>y(C.target.value),placeholder:"Search text"})]})]}),d.jsx("div",{className:"service-grid",children:A.map(C=>{const G=t[C.id],j=G?zu[G.status]:z(C);return d.jsxs("article",{className:"service-card service-card--catalog",children:[d.jsxs("header",{className:"service-card__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"service-card__name",children:C.name}),d.jsx("p",{className:"service-card__desc",children:C.description}),G?.latencyMs!==void 0&&d.jsxs("p",{className:"service-card__meta",children:["Latency: ",G.latencyMs," ms"]}),i&&!G&&d.jsx("p",{className:"service-card__meta",children:"Checking health"})]}),d.jsxs("div",{className:"service-card__status",children:[d.jsx("span",{className:`status-badge status-badge--${j.tone}`,children:j.label}),d.jsx("span",{className:"kind-pill kind-pill--light",children:iv[C.kind]})]})]}),C.owner&&d.jsxs("p",{className:"service-card__owner",children:["Owner: ",d.jsx("span",{children:C.owner})]}),d.jsxs("div",{className:"service-card__actions",children:[C.url?d.jsx("a",{className:"text-link",href:C.url,target:"_blank",rel:"noreferrer",children:"Open service"}):null,C.docsUrl?d.jsx("a",{className:"text-link",href:C.docsUrl,target:"_blank",rel:"noreferrer",children:"Docs"}):null,d.jsx("button",{type:"button",className:"text-link",onClick:()=>R(C.id),children:"View logs"}),d.jsx("button",{type:"button",className:"text-link text-link--muted",onClick:()=>b(C),children:"Details"})]})]},C.id)})}),v&&d.jsxs("aside",{className:"service-detail-drawer",children:[d.jsxs("div",{className:"service-detail-drawer__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Service details"}),d.jsx("h2",{children:v.name}),d.jsx("p",{className:"service-detail-drawer__description",children:v.description})]}),d.jsxs("div",{className:"service-detail-drawer__header-meta",children:[d.jsx("span",{className:`status-chip status-chip--${t[v.id]?.status??v.status??"unknown"}`,children:zu[t[v.id]?.status??v.status??"unknown"]?.label}),d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>b(null),children:"Close"})]})]}),d.jsxs("div",{className:"service-detail-drawer__meta",children:[d.jsxs("div",{children:[d.jsx("span",{children:"Kind"}),d.jsx("strong",{children:iv[v.kind]})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Status"}),d.jsx("strong",{children:(v&&(t[v.id]?.status?zu[t[v.id].status]:z(v))).label})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Owner"}),d.jsx("strong",{children:v.owner??"Unassigned"})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Docs"}),v.docsUrl?d.jsx("a",{className:"text-link",href:v.docsUrl,target:"_blank",rel:"noreferrer",children:"Open docs"}):d.jsx("strong",{children:"Not linked"})]}),d.jsxs("div",{children:[d.jsx("span",{children:"Endpoint"}),v.url?d.jsx("a",{className:"text-link",href:v.url,target:"_blank",rel:"noreferrer",children:"Open service"}):d.jsx("strong",{children:"Not linked"})]})]}),d.jsx("p",{className:"service-detail-drawer__hint",children:"How to debug issues for this service: capture failing requests, check logs with the prefilled filter, and loop in the listed owner if escalations are needed."}),v&&t[v.id]?.errorMessage&&d.jsxs("p",{className:"service-detail-drawer__hint",children:["Last check failed: ",t[v.id].errorMessage]}),d.jsx("div",{className:"service-detail-drawer__footer",children:d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>R(v.id),children:"View logs for this service"})})]})]})}const av={ok:{label:"OK",tone:"ok"},degraded:{label:"Degraded",tone:"warning"},down:{label:"Down",tone:"down"},unknown:{label:"Unknown",tone:"unknown"}},sv={api:"API",db:"DB",analytics:"Analytics",worker:"Worker",other:"Other"},ku={errorsLast24h:3,warningsLast24h:12,lastError:{timestamp:"Nov 22, 2025  09:14 UTC",service:"Scan Import API"}};function xS(){const{healthMap:s,isLoading:t}=L_(gs);return d.jsxs(Bi,{title:"SFDataHub Control Panel",description:"Overview of services, errors and analytics",headerContent:d.jsx(za,{title:"SFDataHub Control Panel",subtitle:"Overview of services, errors and analytics"}),children:[d.jsx("div",{className:"dashboard-meta",children:d.jsx("span",{className:"env-badge",children:"STAGING"})}),d.jsx("div",{className:"service-grid",children:gs.map(i=>{const r=s[i.id],o=r?.status??i.status??"unknown",c=av[o]??av.unknown;return d.jsxs("article",{className:"service-card",children:[d.jsxs("div",{className:"service-card__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"service-card__name",children:i.name}),d.jsx("p",{className:"service-card__desc",children:i.description}),t&&!r&&d.jsx("p",{className:"service-card__meta",children:"Checking health"}),r?.latencyMs!==void 0&&d.jsxs("p",{className:"service-card__meta",children:["Latency: ",r.latencyMs," ms"]}),r?.checkedAt&&d.jsxs("p",{className:"service-card__meta",children:["Last check: ",new Date(r.checkedAt).toLocaleTimeString()]})]}),d.jsx("span",{className:`status-badge status-badge--${c.tone}`,children:c.label})]}),d.jsxs("div",{className:"service-card__tags",children:[d.jsx("span",{className:"kind-pill kind-pill--light",children:sv[i.kind]}),d.jsx("span",{className:"kind-pill",children:i.kind.toUpperCase()})]}),d.jsxs("div",{className:"service-card__actions",children:[d.jsx(nc,{className:"text-link",to:"/apis",children:"View in APIs & Services"}),i.url?d.jsx("a",{className:"text-link",href:i.url,target:"_blank",rel:"noreferrer",children:"Open service"}):d.jsx("span",{className:"text-link text-link--muted",children:"Endpoint TBD"})]})]},i.id)})}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Errors & Logs"}),d.jsx("h2",{children:"System insight"})]}),d.jsx(nc,{className:"btn secondary",to:"/logs",state:{defaultFilters:{service:"auth-api",level:"error"}},children:"Open Logs"})]}),d.jsxs("div",{className:"monitoring-panel__grid",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:"Errors last 24h"}),d.jsx("p",{className:"monitoring-panel__value",children:ku.errorsLast24h})]}),d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:"Warnings last 24h"}),d.jsx("p",{className:"monitoring-panel__value",children:ku.warningsLast24h})]}),d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:"Last error"}),d.jsx("p",{className:"monitoring-panel__value",children:ku.lastError.timestamp}),d.jsxs("p",{className:"monitoring-panel__meta",children:["Service: ",ku.lastError.service]})]})]})]}),d.jsxs("section",{className:"service-detail-panel",children:[d.jsxs("div",{className:"service-detail-panel__header",children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"What does each API do?"}),d.jsx("h2",{children:"Service catalog"})]}),d.jsx("div",{className:"service-detail-panel__list",children:gs.map(i=>d.jsxs("article",{className:"service-detail-panel__card",children:[d.jsxs("div",{className:"service-detail-panel__row",children:[d.jsxs("div",{children:[d.jsx("p",{className:"service-detail-panel__name",children:i.name}),d.jsx("p",{className:"service-detail-panel__kind",children:sv[i.kind]})]}),i.url?d.jsx("a",{className:"text-link",href:i.url,target:"_blank",rel:"noreferrer",children:"Visit endpoint"}):d.jsx("span",{className:"text-link text-link--muted",children:"URL TBD"})]}),d.jsx("p",{className:"service-detail-panel__desc",children:i.description})]},i.id))})]})]})}const RS=[{id:"log-001",timestamp:"2025-11-23T10:58:00.000Z",level:"error",service:"auth-api",message:"Failed to refresh JWT for admin session; stale refresh token detected.",details:"Refresh token invalidated by Auth API (tokenHash mismatch).",context:{userId:"admin-user-01",retryCount:3}},{id:"log-002",timestamp:"2025-11-23T10:45:12.000Z",level:"warning",service:"scan-import-api",message:"CSV upload completed with partial successes (3 rows skipped).",details:"Row 14/23: missing 'class' field, defaulted to 'Unknown'.",context:{rows:23,skipped:3,durationMs:1283}},{id:"log-003",timestamp:"2025-11-23T08:10:45.000Z",level:"info",service:"firestore",message:"Realtime listener delivered 1,124 document updates over 15 minutes."},{id:"log-004",timestamp:"2025-11-22T21:03:30.000Z",level:"warning",service:"firestore",message:"Firestore write retries observed for collection 'scans'.",details:"Exceeded 3 retries before succeeding; network latency spikes on europe-west3 region."},{id:"log-005",timestamp:"2025-11-22T18:45:00.000Z",level:"info",service:"goatcounter",message:"GoatCounter reported 18 new referrers from reddit.com/r/SFDataHub."},{id:"log-006",timestamp:"2025-11-22T17:12:09.000Z",level:"error",service:"scan-import-api",message:"Scan import timed out while waiting for external asset fetch.",details:"HTTP 504 from `player-assets.sfdatahub.com` after 31s.",context:{requestId:"s-import-8774",url:"https://player-assets.sfdatahub.com/har/..."}},{id:"log-007",timestamp:"2025-11-22T16:22:46.000Z",level:"info",service:"other",message:"Daily backup of Firestore (sfdatahub-staging) completed in 12m 8s."}],NS=[{label:"All services",value:"all"},{label:"Auth API",value:"auth-api"},{label:"Scan Import API",value:"scan-import-api"},{label:"Firestore Database",value:"firestore"},{label:"GoatCounter Analytics",value:"goatcounter"},{label:"Other",value:"other"}],CS=[{label:"All levels",value:"all"},{label:"Errors",value:"error"},{label:"Warnings",value:"warning"},{label:"Info",value:"info"}],jS={"1h":3600*1e3,"24h":1440*60*1e3,"7d":10080*60*1e3,all:null},DS=[{label:"Last hour",value:"1h"},{label:"Last 24 hours",value:"24h"},{label:"Last 7 days",value:"7d"},{label:"All time",value:"all"}],rv=Object.fromEntries(gs.map(s=>[s.id,s.name]));function lv(s){const t=new Date(s);if(Number.isNaN(t.getTime()))return s;const i=t.toISOString().slice(0,10),r=t.toISOString().slice(11,16);return`${i} - ${r}`}function IS(){const t=ki().state?.defaultFilters??{},[i,r]=D.useState(t.service??"all"),[o,c]=D.useState(t.level??"all"),[m,g]=D.useState("24h"),[y,v]=D.useState(""),[b,A]=D.useState(null),R=D.useMemo(()=>{const C=Date.now(),G=y.trim().toLowerCase();return RS.filter(j=>{if(i!=="all"&&j.service!==i||o!=="all"&&j.level!==o)return!1;const Q=jS[m];if(Q!==null){const te=Date.parse(j.timestamp);if(Number.isNaN(te)||te<C-Q)return!1}return!(G&&!j.message.toLowerCase().includes(G))})},[i,o,m,y]),z=D.useMemo(()=>({error:R.filter(C=>C.level==="error").length,warning:R.filter(C=>C.level==="warning").length,info:R.filter(C=>C.level==="info").length}),[R]);return d.jsxs(Bi,{title:"Logs",description:"Inspect errors, warnings and info across SFDataHub services",headerContent:d.jsx(za,{title:"Logs",subtitle:"Inspect errors, warnings and info across SFDataHub services",hintRight:"Demo data only - backend wiring later"}),children:[d.jsxs("div",{className:"logs-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Service"}),d.jsx("select",{value:i,onChange:C=>r(C.target.value),children:NS.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Level"}),d.jsx("select",{value:o,onChange:C=>c(C.target.value),children:CS.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Time range"}),d.jsx("select",{value:m,onChange:C=>g(C.target.value),children:DS.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Search message"}),d.jsx("input",{value:y,onChange:C=>v(C.target.value),placeholder:"Search text"})]})]}),d.jsxs("div",{className:"logs-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Errors"}),d.jsx("strong",{children:z.error})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Warnings"}),d.jsx("strong",{children:z.warning})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Info"}),d.jsx("strong",{children:z.info})]})]}),d.jsx("div",{className:"log-table",children:R.map(C=>d.jsxs("button",{type:"button",className:"log-row",onClick:()=>A(C),children:[d.jsxs("div",{className:"log-row__head",children:[d.jsx("span",{className:"log-row__timestamp",children:lv(C.timestamp)}),d.jsx("span",{className:`log-badge log-badge--${C.level}`,children:C.level})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-row__service",children:rv[C.service]??"Other"}),d.jsx("span",{className:"log-row__message",children:C.message})]})]},C.id))}),b&&d.jsx("div",{className:"log-modal",role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"log-modal__content",children:[d.jsxs("div",{className:"log-modal__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__eyebrow",children:b.level.toUpperCase()}),d.jsx("h2",{children:b.message})]}),d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>A(null),children:"Close"})]}),d.jsxs("div",{className:"log-modal__body",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Timestamp:"})," ",lv(b.timestamp)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Service:"})," ",rv[b.service]??"Other"]}),b.details&&d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__section-title",children:"Details"}),d.jsx("p",{children:b.details})]}),b.context&&d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__section-title",children:"Context"}),d.jsx("pre",{children:JSON.stringify(b.context,null,2)})]})]})]})})]})}function MS(){return d.jsxs(Bi,{title:"Settings",description:"Konfiguriere Plattform- und Moderationseinstellungen.",children:[d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Theme"}),d.jsx("p",{children:"Dark Mode ist aktiviert. Weitere Optionen folgen im nchsten Release."})]}),d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Benachrichtigungen"}),d.jsx("p",{children:"Keine kritischen Alerts. Aktiviert: E-Mail an alle Moderatoren."})]})]})}function OS(s){return s.reduce((t,i)=>(i.roles.includes("admin")&&(t.admins+=1),i.roles.includes("moderator")&&(t.moderators+=1),(i.status==="suspended"||i.status==="banned")&&(t.suspended+=1),t),{admins:0,moderators:0,invited:0,suspended:0})}const ic="https://auth.sfdatahub.com".replace(/\/+$/,""),U_="/admin/users",z_=["user","moderator","developer","admin"],VS={admin:"admin",owner:"admin",moderator:"moderator",mod:"moderator",developer:"developer",dev:"developer",creator:"developer",user:"user"},LS=s=>{switch(s){case"admin":case"owner":return"admin";case"moderator":case"mod":return"mod";case"developer":case"creator":return"creator";default:return"user"}},US=["active","suspended","banned"],zS=["discord","google"],kS=s=>{const t=i=>{const r=z_.indexOf(i);return r===-1?Number.MAX_SAFE_INTEGER:r};return[...s].sort((i,r)=>t(i)-t(r))},k_=s=>typeof s=="string"&&zS.includes(s),ov=s=>{if(typeof s=="number"){const t=new Date(s);return Number.isNaN(t.getTime())?null:t.toISOString()}if(typeof s=="string"){const t=new Date(s);return Number.isNaN(t.getTime())?null:t.toISOString()}return null},BS=s=>{if(!Array.isArray(s))return["user"];const t=s.map(r=>VS[String(r).toLowerCase()]).filter(r=>!!r),i=Array.from(new Set(t));return i.length?kS(i):["user"]},PS=s=>typeof s=="string"&&US.includes(s)?s:"active",qS=s=>{if(!s||typeof s!="object")return;const t={};return Object.entries(s).forEach(([i,r])=>{k_(i)&&(!r||typeof r!="object"||(t[i]={id:String(r.id??""),displayName:typeof r.displayName=="string"?r.displayName:void 0,avatarUrl:typeof r.avatarUrl=="string"?r.avatarUrl:void 0}))}),Object.keys(t).length?t:void 0},B_=s=>{const t=s??{},i=typeof t.id=="string"&&t.id.length?t.id:"unknown-user",r=typeof t.userId=="string"&&t.userId.length?t.userId:i??"unknown-user",o=Array.isArray(t.flags)?t.flags.map(c=>String(c)):void 0;return{id:i,userId:r,displayName:typeof t.displayName=="string"&&t.displayName.length?t.displayName:t.profile?.displayName??null,avatarUrl:typeof t.avatarUrl=="string"?t.avatarUrl:null,primaryProvider:k_(t.primaryProvider)?t.primaryProvider:null,providers:qS(t.providers),profile:t.profile,roles:BS(t.roles),status:PS(t.status),createdAt:ov(t.createdAt),lastLoginAt:ov(t.lastLoginAt),notes:typeof t.notes=="string"?t.notes:null,flags:o,isSystem:t.isSystem===!0||t.system===!0||(o??[]).includes("system")}},P_=async s=>{if(s.ok){if(s.status===204)return{};try{return await s.json()}catch{return{}}}try{const t=await s.json(),i=t?.error??t?.message??s.statusText;throw new Error(i||`Failed with status ${s.status}.`)}catch(t){throw t instanceof Error?t:new Error(s.statusText||"Request failed.")}};async function HS(){if(!ic)throw new Error("Auth API base URL is missing (VITE_AUTH_BASE_URL).");const s=await fetch(`${ic}${U_}`,{method:"GET",credentials:"include"}),t=await P_(s);return(Array.isArray(t?.users)?t.users:[]).map(B_)}async function FS(s,t){if(!ic)throw new Error("Auth API base URL is missing (VITE_AUTH_BASE_URL).");if(!s)throw new Error("User id is required to update roles.");const i=Array.from(new Set(t.map(LS).filter(g=>!!g)));i.length||i.push("user");const r=`${ic}${U_}/${encodeURIComponent(s)}/roles`,o=await fetch(r,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({roles:i})}),c=await P_(o),m=c?.user??c;return B_(m)}const q_=z_;function GS(){const[s,t]=D.useState([]),[i,r]=D.useState(!1),[o,c]=D.useState(null),m=D.useCallback(async v=>{if(!v?.cancelled){r(!0),c(null);try{const b=await HS();v?.cancelled||t(b)}catch(b){const A=b instanceof Error?b.message:"Unexpected error while loading admin users.";v?.cancelled||(c(A),t([]))}finally{v?.cancelled||r(!1)}}},[]);D.useEffect(()=>{const v={cancelled:!1};return m(v),()=>{v.cancelled=!0}},[m]);const g=D.useCallback(()=>{m()},[m]),y=D.useCallback(v=>{t(b=>{let A=!1;const R=b.map(z=>z.userId===v.userId||z.id===v.id?(A=!0,v):z);return A?R:[v,...R]})},[]);return{users:s,isLoading:i,error:o,refresh:g,replaceUser:y}}const QS=q_,KS=[{label:"All roles",value:"all"},{label:"Admin",value:"admin"},{label:"Moderator",value:"moderator"},{label:"Developer",value:"developer"},{label:"User",value:"user"}],YS=[{label:"All statuses",value:"all"},{label:"Active",value:"active"},{label:"Suspended",value:"suspended"},{label:"Banned",value:"banned"}],uv={discord:"Discord",google:"Google"},kf={admin:"Admin",moderator:"Moderator",mod:"Moderator",creator:"Developer",developer:"Developer",user:"User",owner:"Owner"},cv={active:"Active",suspended:"Suspended",banned:"Banned"},Bf=s=>{const t=i=>{const r=q_.indexOf(i);return r===-1?Number.MAX_SAFE_INTEGER:r};return[...s].sort((i,r)=>t(i)-t(r))},XS=s=>s.isSystem===!0||(s.flags??[]).includes("system"),hv=(s,t)=>s.userId===t.userId||s.id===t.id;function $S(s){return s.trim().toLowerCase()}function Bu(s){if(!s)return"-";const t=new Date(s);if(Number.isNaN(t.getTime()))return s;const i=t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${i} at ${r}`}function Pu(s){return s.displayName??s.profile?.displayName??s.userId??"Unknown user"}function fv(s){const t=new Set;s.primaryProvider&&t.add(s.primaryProvider);const i=s.providers??{};return Object.keys(i).forEach(r=>t.add(r)),Array.from(t)}function ZS(){const[s,t]=D.useState("all"),[i,r]=D.useState("all"),[o,c]=D.useState(""),[m,g]=D.useState(null),[y,v]=D.useState(null),[b,A]=D.useState(null),[R,z]=D.useState(!1),C=D.useRef(null),{users:G,isLoading:j,error:Q,refresh:te,replaceUser:se}=GS(),{user:pe}=yc(),Ee=D.useMemo(()=>(pe?.roles??[]).map(w=>w.toLowerCase()),[pe]).some(w=>w==="admin"||w==="owner"),O=D.useMemo(()=>{const w=$S(o);return G.filter(me=>{if(s!=="all"&&!me.roles.includes(s)||i!=="all"&&me.status!==i)return!1;const Ge=Pu(me).toLowerCase();return!(w&&!`${Ge} ${me.id}`.toLowerCase().includes(w))})},[s,i,o,G]),x=D.useMemo(()=>{if(!y)return;const w=typeof window<"u"?Math.max(12,window.innerWidth-260):null,me=typeof window<"u"?Math.max(12,window.innerHeight-220):null;return{left:w?Math.min(y.x,w):y.x,top:me?Math.min(y.y,me):y.y}},[y]);D.useEffect(()=>{if(!m)return;const w=G.find(me=>hv(me,m));w&&w!==m&&g(w)},[m,G]);const N=D.useCallback(()=>{v(null),A(null),z(!1)},[]),M=D.useCallback((w,me)=>{!Ee||XS(me)||typeof window<"u"&&window.matchMedia?.("(pointer: coarse)").matches||(w.preventDefault(),v({user:me,x:w.clientX,y:w.clientY,roles:Bf(me.roles)}),A(null),z(!1))},[Ee]);D.useEffect(()=>{if(!y)return;const w=Ge=>{Ge.key==="Escape"&&N()},me=Ge=>{C.current&&(C.current.contains(Ge.target)||N())};return window.addEventListener("keydown",w),window.addEventListener("mousedown",me),()=>{window.removeEventListener("keydown",w),window.removeEventListener("mousedown",me)}},[N,y]);const U=D.useCallback(async w=>{if(!y||R)return;const me=y.roles,Ge=new Set(me);Ge.has(w)?Ge.delete(w):Ge.add(w);const $=Bf(Array.from(Ge));v({...y,roles:$}),z(!0),A(null);try{const ie=await FS(y.user.userId||y.user.id,$);se(ie),g(oe=>oe&&hv(oe,ie)?ie:oe),v(oe=>oe&&{...oe,user:ie,roles:Bf(ie.roles)})}catch(ie){A(ie instanceof Error?ie.message:"Failed to update roles."),v(oe=>oe&&{...oe,roles:me})}finally{z(!1)}},[R,se,y]),k=D.useMemo(()=>OS(O),[O]);return d.jsxs(Bi,{title:"Admin Users",description:"View and edit admin users from auth-api (right-click a user to toggle roles).",headerContent:d.jsx(za,{title:"Admin Users",subtitle:"Manage access to SFDataHub admin tools via auth-api.",hintRight:"GET /admin/users  PATCH /admin/users/:userId/roles"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:Q?`Couldn't load admin users. ${Q}`:"Connected to auth-api (roles editable)."}),d.jsxs("div",{className:"admin-top__actions",children:[j&&d.jsx("span",{className:"admin-top__status",children:"Loading..."}),d.jsx("button",{type:"button",className:"btn secondary",onClick:te,disabled:j,children:"Refresh"})]})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Role"}),d.jsx("select",{value:s,onChange:w=>t(w.target.value),children:KS.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:i,onChange:w=>r(w.target.value),children:YS.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value))})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by name or id"}),d.jsx("input",{value:o,onChange:w=>c(w.target.value),placeholder:"Search text"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Total admins"}),d.jsx("strong",{children:k.admins})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Moderators"}),d.jsx("strong",{children:k.moderators})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Invited users"}),d.jsx("strong",{children:k.invited})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Suspended users"}),d.jsx("strong",{children:k.suspended})]})]}),d.jsxs("div",{className:"user-table",children:[O.map(w=>d.jsxs("button",{type:"button",className:"user-row",onClick:()=>g(w),onContextMenu:me=>M(me,w),children:[d.jsxs("div",{className:"user-cell user-cell--name",children:[d.jsx("p",{className:"user-name",children:Pu(w)}),d.jsx("p",{className:"user-id",children:w.id})]}),d.jsx("div",{className:"user-cell user-cell--providers",children:fv(w).map(me=>d.jsx("span",{className:`pill provider-pill provider-pill--${me}`,children:uv[me]},me))}),d.jsx("div",{className:"user-cell user-cell--roles",children:w.roles.map(me=>d.jsx("span",{className:`pill role-pill role-pill--${me}`,children:kf[me]??me},me))}),d.jsx("div",{className:"user-cell",children:d.jsx("span",{className:`status-chip status-chip--${w.status}`,children:cv[w.status]})}),d.jsx("div",{className:"user-cell",children:d.jsxs("p",{className:"user-meta",children:[d.jsx("span",{className:"user-meta__label",children:"Created"}),Bu(w.createdAt)]})}),d.jsx("div",{className:"user-cell",children:d.jsxs("p",{className:"user-meta",children:[d.jsx("span",{className:"user-meta__label",children:"Last login"}),Bu(w.lastLoginAt)]})})]},w.id)),O.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No users match your filters."})})]}),y&&d.jsx("div",{className:"role-menu-overlay",onClick:N,children:d.jsxs("div",{ref:C,className:"role-menu",style:x,onClick:w=>w.stopPropagation(),children:[d.jsxs("div",{className:"role-menu__header",children:[d.jsx("p",{className:"role-menu__eyebrow",children:"Roles"}),d.jsx("h3",{className:"role-menu__title",children:Pu(y.user)}),d.jsx("p",{className:"role-menu__id",children:y.user.userId})]}),b&&d.jsx("p",{className:"role-menu__error",children:b}),d.jsx("div",{className:"role-menu__roles",children:QS.map(w=>{const me=y.roles.includes(w);return d.jsx("button",{type:"button",className:`pill role-pill role-pill--${w} ${me?"":"pill--ghost"}`,onClick:()=>U(w),disabled:R,"aria-pressed":me,children:kf[w]??w},w)})}),d.jsxs("div",{className:"role-menu__footer",children:[d.jsx("span",{className:"role-menu__status",children:R?"Saving...":"Right-click a user to manage roles"}),d.jsx("button",{type:"button",className:"text-link",onClick:N,disabled:R,children:"Close"})]})]})}),m&&d.jsxs("aside",{className:"user-detail-drawer",children:[d.jsxs("div",{className:"user-detail-drawer__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"User details"}),d.jsx("h2",{children:Pu(m)}),d.jsx("p",{className:"user-detail-drawer__id",children:m.userId})]}),d.jsxs("div",{className:"user-detail-drawer__header-meta",children:[d.jsx("span",{className:`status-chip status-chip--${m.status}`,children:cv[m.status]}),d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>g(null),children:"Close"})]})]}),d.jsxs("div",{className:"user-detail-drawer__grid",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Providers"}),d.jsx("div",{className:"user-detail-drawer__badges",children:fv(m).map(w=>d.jsx("span",{className:`pill provider-pill provider-pill--${w}`,children:uv[w]},w))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Roles"}),d.jsx("div",{className:"user-detail-drawer__badges",children:m.roles.map(w=>d.jsx("span",{className:`pill role-pill role-pill--${w}`,children:kf[w]??w},w))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Created"}),d.jsx("p",{className:"user-meta",children:Bu(m.createdAt)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"user-meta__label",children:"Last login"}),d.jsx("p",{className:"user-meta",children:Bu(m.lastLoginAt)})]})]}),d.jsxs("div",{className:"user-detail-drawer__activity",children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Activity (coming soon)"}),d.jsx("p",{className:"user-meta",children:"Recent actions and audit logs will appear here once wired to the backend."})]})]})]})}const _r="https://auth.sfdatahub.com".replace(/\/+$/,"");async function Ld(s){if(s.ok)return s.json();let t="";try{t=(await s.json())?.error??s.statusText}catch{t=s.statusText}throw new Error(`Request failed (${s.status}): ${t}`)}async function H_(s,t){if(!_r)throw new Error("AUTH base URL missing (VITE_AUTH_BASE_URL).");if(!s)throw new Error("Feature id is required.");const i=`${_r}/admin/access-control/features/${encodeURIComponent(s)}`,r=await fetch(i,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Ld(r)}async function JS(s,t){if(!_r)throw new Error("AUTH base URL missing (VITE_AUTH_BASE_URL).");if(!s)throw new Error("Group id is required.");const i=`${_r}/admin/access-control/groups/${encodeURIComponent(s)}`,r=await fetch(i,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Ld(r)}async function WS(){if(!_r)throw new Error("AUTH base URL missing (VITE_AUTH_BASE_URL).");const s=`${_r}/admin/access-control`,t=await fetch(s,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});return Ld(t)}const eA=["public","logged_in","beta","dev_only","hidden"];function ac(s){if(s&&typeof s.toDate=="function"){const t=s.toDate();return t instanceof Date&&!Number.isNaN(t.getTime())?t:null}if(s instanceof Date)return Number.isNaN(s.getTime())?null:s;if(typeof s=="number"){const t=new Date(s);return Number.isNaN(t.getTime())?null:t}if(typeof s=="string"&&s.trim()){const t=new Date(s);return Number.isNaN(t.getTime())?null:t}return null}function tA(s){return typeof s=="string"&&s.trim()?s.trim():"controlPanel"}function nA(s){if(typeof s=="string"&&s.trim()){const t=s.trim().toLowerCase();return eA.includes(t),t}return"hidden"}function Ud(s,t="user"){return typeof s=="string"&&s.trim()?s.trim().toLowerCase():t}function F_(s){if(!Array.isArray(s))return;const t=s.map(i=>Ud(i)).filter((i,r,o)=>i&&o.indexOf(i)===r);return t.length?t:void 0}function id(s){if(!Array.isArray(s))return;const t=s.map(i=>typeof i=="string"?i.trim():"").filter(i=>i.length>0);return t.length?t:void 0}function iA(s,t){return{id:s,route:typeof t.route=="string"&&t.route.trim()?t.route:"/",area:tA(t.area),titleKey:typeof t.titleKey=="string"&&t.titleKey.trim()?t.titleKey:s,status:nA(t.status),minRole:Ud(t.minRole),allowedRoles:F_(t.allowedRoles),allowedGroups:id(t.allowedGroups),allowedUserIds:id(t.allowedUserIds),showInTopbar:t.showInTopbar===!0,showInSidebar:t.showInSidebar===!0,navOrder:typeof t.navOrder=="number"?t.navOrder:void 0,isExperimental:t.isExperimental===!0,createdAt:ac(t.createdAt),updatedAt:ac(t.updatedAt),createdBy:typeof t.createdBy=="string"?t.createdBy:void 0,updatedBy:typeof t.updatedBy=="string"?t.updatedBy:void 0}}function aA(s,t){return{id:s,label:typeof t.label=="string"&&t.label.trim()?t.label:s,description:typeof t.description=="string"?t.description:void 0,userIds:id(t.userIds),minRole:t.minRole?Ud(t.minRole):void 0,allowedRoles:F_(t.allowedRoles),isSystem:t.isSystem===!0,createdAt:ac(t.createdAt),updatedAt:ac(t.updatedAt),createdBy:typeof t.createdBy=="string"?t.createdBy:void 0,updatedBy:typeof t.updatedBy=="string"?t.updatedBy:void 0}}function sA(){const[s,t]=D.useState([]),[i,r]=D.useState([]),[o,c]=D.useState(!0),[m,g]=D.useState(null),{user:y,isLoading:v}=yc(),b=D.useCallback(async z=>{c(!0),g(null);try{const C=await WS();if(z?.cancelled)return;const G=(C.features??[]).map(Q=>{const te=typeof Q.id=="string"?Q.id:"";return te?iA(te,Q):null}).filter(Boolean),j=(C.groups??[]).map(Q=>{const te=typeof Q.id=="string"?Q.id:"";return te?aA(te,Q):null}).filter(Boolean);G.sort((Q,te)=>{const se=Q.navOrder??Number.MAX_SAFE_INTEGER,pe=te.navOrder??Number.MAX_SAFE_INTEGER;return se!==pe?se-pe:Q.route.localeCompare(te.route)}),j.sort((Q,te)=>Q.id.localeCompare(te.id)),t(G),r(j)}catch(C){const G=C instanceof Error?C.message:"Failed to load access data from auth-api.";console.error("[AccessControl] Failed to load access data:",C),z?.cancelled||(g(G),t([]),r([]))}finally{z?.cancelled||c(!1)}},[]);D.useEffect(()=>{const z={cancelled:!1};return v?(g(null),()=>{z.cancelled=!0}):y?(b(z),()=>{z.cancelled=!0}):(t([]),r([]),c(!1),g(null),()=>{z.cancelled=!0})},[v,y,b]);const A=D.useCallback(()=>{if(v||!y){t([]),r([]),c(!1),g(null);return}b()},[v,y,b]),R=D.useCallback(async(z,C)=>{await H_(z,C);const G=C;t(j=>j.map(Q=>Q.id===z?{...Q,...G}:Q))},[]);return{features:s,accessGroups:i,isLoading:o,error:m,refresh:A,updateFeature:R}}const dv=[{value:"all",label:"All statuses"},{value:"public",label:"Public"},{value:"logged_in",label:"Logged in"},{value:"beta",label:"Beta"},{value:"dev_only",label:"Dev only"},{value:"hidden",label:"Hidden"}],rA={public:{label:"Public",tone:"status-badge--public"},logged_in:{label:"Logged in",tone:"status-badge--logged-in"},beta:{label:"Beta",tone:"status-badge--beta"},dev_only:{label:"Dev only",tone:"status-badge--dev"},hidden:{label:"Hidden",tone:"status-badge--hidden"}},lA={admin:"Admin",owner:"Owner",mod:"Moderator",moderator:"Moderator",developer:"Developer",user:"User"},qu=["admin","moderator","developer","user"];function mv(s){return s.trim().toLowerCase()}function oA(s,t){return t?`${s.route} ${s.titleKey} ${s.area}`.toLowerCase().includes(t):!0}function uA(s,t){return t?`${s.id} ${s.label??""}`.toLowerCase().includes(t):!0}function pv(s,t){return`${s}:${t}`}function ja(s){return s?lA[s]??s:""}function cA(s){if(!s)return"";const t=Date.now(),i=s.getTime()-t,r=Math.abs(i),o=Math.round(r/6e4),c=Math.round(r/(3600*1e3)),m=Math.round(r/(1440*60*1e3));return o<90?i>=0?`in ${o}m`:`${o}m ago`:c<48?i>=0?`in ${c}h`:`${c}h ago`:m<10?i>=0?`in ${m}d`:`${m}d ago`:s.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Pf(s,t){const i=s??[],r=t??[];return i.length!==r.length?!1:i.every(o=>r.includes(o))}function hA(){const{features:s,accessGroups:t,isLoading:i,error:r,refresh:o,updateFeature:c}=sA(),[m,g]=D.useState(""),[y,v]=D.useState("all"),[b,A]=D.useState(""),[R,z]=D.useState(null),[C,G]=D.useState(null),[j,Q]=D.useState(null),[te,se]=D.useState(!1),[pe,xe]=D.useState({}),[Ee,O]=D.useState(null),[x,N]=D.useState(null),[M,U]=D.useState(null),[k,w]=D.useState(null),[me,Ge]=D.useState(!1),$=D.useMemo(()=>{const X=mv(m);return s.filter(be=>y!=="all"&&be.status!==y?!1:oA(be,X))},[m,s,y]),ie=D.useMemo(()=>{const X=mv(b);return t.filter(be=>uA(be,X))},[t,b]),oe=D.useMemo(()=>t.map(X=>({id:X.id,label:X.label??X.id})),[t]),Le=X=>{z(X),G({...X}),Q(null)},Ue=()=>{z(null),G(null),Q(null)},L=(X,be)=>!!pe[pv(X,be)],J=async(X,be)=>{const ot=pv(X.id,be);xe(st=>({...st,[ot]:!0})),O(null);try{await c(X.id,{[be]:!X[be]})}catch(st){console.error("[AccessFeaturesPage] Failed to update visibility:",st);const An=st instanceof Error?st.message:"Failed to update visibility flag.";O(An)}finally{xe(st=>{const An={...st};return delete An[ot],An})}},ae=(X,be)=>{if(!C)return;const ot=C[X]??[],st=new Set(ot);st.has(be)?st.delete(be):st.add(be),G({...C,[X]:Array.from(st)})},ue=D.useMemo(()=>!C||!R?!1:C.status!==R.status||C.minRole!==R.minRole||C.showInSidebar!==R.showInSidebar||C.showInTopbar!==R.showInTopbar||!Pf(C.allowedRoles,R.allowedRoles)||!Pf(C.allowedGroups,R.allowedGroups),[R,C]),ve=async()=>{if(!(!C||!R)){se(!0),Q(null);try{await H_(R.id,{status:C.status,minRole:C.minRole,allowedRoles:C.allowedRoles,allowedGroups:C.allowedGroups,showInSidebar:C.showInSidebar,showInTopbar:C.showInTopbar}),Ue()}catch(X){const be=X instanceof Error?X.message:"Failed to save feature.";Q(be)}finally{se(!1)}}},Re=X=>{N(X),U({...X}),w(null)},Ce=()=>{N(null),U(null),w(null)},Rt=X=>{if(!M)return;const be=M.allowedRoles??[],ot=new Set(be);ot.has(X)?ot.delete(X):ot.add(X),U({...M,allowedRoles:Array.from(ot)})},tt=D.useMemo(()=>!M||!x?!1:(M.label??"")!==(x.label??"")||(M.description??"")!==(x.description??"")||M.minRole!==x.minRole||!Pf(M.allowedRoles,x.allowedRoles),[x,M]),Sn=async()=>{if(!(!M||!x)){Ge(!0),w(null);try{await JS(x.id,{label:M.label,description:M.description,minRole:M.minRole,allowedRoles:M.allowedRoles}),Ce()}catch(X){const be=X instanceof Error?X.message:"Failed to save group.";w(be)}finally{Ge(!1)}}};return d.jsxs(Bi,{title:"Access & Features",description:"View which features and pages are visible for which roles and access groups.",headerContent:d.jsx(za,{title:"Access & Features",subtitle:"View which features and pages are visible for which roles and access groups.",hintRight:"Data loaded via auth-api (read/write via backend)"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:r?"Could not load access data from auth-api.":"Live snapshot from feature_access and access_groups (read via auth-api, write via backend)."}),r&&d.jsxs("p",{className:"admin-top__hint",children:["Debug: ",r]}),d.jsxs("div",{className:"admin-top__actions",children:[i&&d.jsx("span",{className:"admin-top__status",children:"Loading..."}),d.jsx("button",{type:"button",className:"btn secondary",onClick:o,disabled:i,children:"Refresh"})]})]}),Ee&&d.jsx("div",{className:"error-banner",role:"alert","aria-live":"polite",children:Ee}),d.jsxs("div",{className:"access-grid",children:[d.jsxs("section",{className:"access-card",children:[d.jsxs("header",{className:"access-card__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Features"}),d.jsx("h2",{className:"access-card__title",children:"Features & Pages"}),d.jsx("p",{className:"access-card__subtitle",children:"Documents from collection feature_access."})]}),d.jsxs("span",{className:"access-card__count",children:[$.length," items"]})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by route, title, or area"}),d.jsx("input",{value:m,onChange:X=>g(X.target.value),placeholder:"/access, controlPanel, ..."})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:y,onChange:X=>v(X.target.value),children:dv.map(X=>d.jsx("option",{value:X.value,children:X.label},X.value))})]})]}),d.jsx("div",{className:"access-table__wrapper",children:d.jsxs("table",{className:"access-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Route"}),d.jsx("th",{children:"Area"}),d.jsx("th",{children:"Title key"}),d.jsx("th",{children:"Min role"}),d.jsx("th",{children:"Roles / Groups"}),d.jsx("th",{children:"Visibility"}),d.jsx("th",{children:"Updated"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:$.map(X=>{const be=rA[X.status]??{label:X.status,tone:"status-badge--hidden"};return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:`status-badge ${be.tone}`,children:be.label})}),d.jsx("td",{className:"access-table__mono",children:X.route}),d.jsx("td",{children:X.area}),d.jsx("td",{children:X.titleKey}),d.jsx("td",{children:d.jsx("span",{className:`pill role-pill role-pill--${X.minRole}`,children:ja(X.minRole)})}),d.jsx("td",{children:d.jsxs("div",{className:"access-table__chips",children:[X.allowedRoles?.map(ot=>d.jsx("span",{className:`pill role-pill role-pill--${ot}`,children:ja(ot)},ot)),X.allowedGroups?.map(ot=>d.jsx("span",{className:"pill access-pill",children:ot},ot)),!X.allowedRoles?.length&&!X.allowedGroups?.length&&d.jsx("span",{className:"access-table__meta",children:""})]})}),d.jsx("td",{children:d.jsxs("div",{className:"access-table__toggles",children:[d.jsxs("label",{className:"access-toggle",children:[d.jsx("input",{type:"checkbox",checked:X.showInSidebar,onChange:()=>J(X,"showInSidebar"),disabled:L(X.id,"showInSidebar"),"aria-label":"Show feature in sidebar"}),d.jsx("span",{children:"Sidebar"})]}),d.jsxs("label",{className:"access-toggle",children:[d.jsx("input",{type:"checkbox",checked:X.showInTopbar,onChange:()=>J(X,"showInTopbar"),disabled:L(X.id,"showInTopbar"),"aria-label":"Show feature in topbar"}),d.jsx("span",{children:"Topbar"})]})]})}),d.jsx("td",{className:"access-table__meta",children:cA(X.updatedAt??X.createdAt)}),d.jsx("td",{children:d.jsx("button",{type:"button",className:"text-link",onClick:()=>Le(X),children:"Edit"})})]},X.id)})})]})}),$.length===0&&!i&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No features match your filters."})})]}),d.jsxs("section",{className:"access-card",children:[d.jsxs("header",{className:"access-card__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Groups"}),d.jsx("h2",{className:"access-card__title",children:"Access groups"}),d.jsx("p",{className:"access-card__subtitle",children:"Documents from collection access_groups."})]}),d.jsxs("span",{className:"access-card__count",children:[ie.length," items"]})]}),d.jsx("div",{className:"admin-filters",children:d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by id or label"}),d.jsx("input",{value:b,onChange:X=>A(X.target.value),placeholder:"beta_testers, creator_program"})]})}),d.jsx("div",{className:"access-table__wrapper",children:d.jsxs("table",{className:"access-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"ID"}),d.jsx("th",{children:"Label"}),d.jsx("th",{children:"Description"}),d.jsx("th",{children:"Min role"}),d.jsx("th",{children:"Allowed roles"}),d.jsx("th",{children:"User count"}),d.jsx("th",{children:"Flags"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:ie.map(X=>d.jsxs("tr",{children:[d.jsx("td",{className:"access-table__mono",children:X.id}),d.jsx("td",{children:X.label}),d.jsx("td",{className:"access-table__meta",children:X.description??""}),d.jsx("td",{children:d.jsx("span",{className:`pill role-pill role-pill--${X.minRole??"user"}`,children:ja(X.minRole??"user")})}),d.jsx("td",{children:d.jsxs("div",{className:"access-table__chips",children:[X.allowedRoles?.map(be=>d.jsx("span",{className:`pill role-pill role-pill--${be}`,children:ja(be)},be)),!X.allowedRoles?.length&&d.jsx("span",{className:"access-table__meta",children:""})]})}),d.jsx("td",{children:X.userIds?.length??0}),d.jsx("td",{children:d.jsx("div",{className:"access-table__flags",children:d.jsx("span",{className:`visibility-flag ${X.isSystem?"visibility-flag--on":"visibility-flag--off"}`,children:X.isSystem?"System":"Custom"})})}),d.jsx("td",{children:d.jsx("button",{type:"button",className:"text-link",onClick:()=>Re(X),disabled:X.isSystem===!0,title:X.isSystem?"System groups are managed elsewhere":"Edit group",children:"Edit"})})]},X.id))})]})}),ie.length===0&&!i&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No access groups match your filters."})})]})]}),C&&R&&d.jsx("div",{className:"log-modal",role:"dialog","aria-modal":"true","aria-label":"Edit feature access",children:d.jsxs("div",{className:"log-modal__content access-modal",children:[d.jsxs("header",{className:"log-modal__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__eyebrow",children:"Edit feature"}),d.jsx("h2",{className:"access-modal__title",children:R.titleKey}),d.jsx("p",{className:"access-table__meta",children:R.route})]}),d.jsx("button",{type:"button",className:"text-link",onClick:Ue,disabled:te,children:"Close"})]}),j&&d.jsxs("div",{className:"error-banner",children:["Failed to save: ",j]}),d.jsxs("div",{className:"access-modal__form",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:C.status,onChange:X=>G({...C,status:X.target.value}),children:dv.filter(X=>X.value!=="all").map(X=>d.jsx("option",{value:X.value,children:X.label},X.value))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Min role"}),d.jsx("select",{value:C.minRole,onChange:X=>G({...C,minRole:X.target.value}),children:qu.map(X=>d.jsx("option",{value:X,children:ja(X)},X))})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Allowed roles"}),d.jsx("div",{className:"access-modal__chips",children:qu.map(X=>{const be=C.allowedRoles?.includes(X)??!1;return d.jsx("button",{type:"button",className:`pill role-pill role-pill--${X} ${be?"":"pill--ghost"}`,onClick:()=>ae("allowedRoles",X),"aria-pressed":be,children:ja(X)},X)})})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Allowed groups"}),d.jsxs("div",{className:"access-modal__chips",children:[oe.map(X=>{const be=C.allowedGroups?.includes(X.id)??!1;return d.jsx("button",{type:"button",className:`pill access-pill ${be?"":"pill--ghost"}`,onClick:()=>ae("allowedGroups",X.id),"aria-pressed":be,title:X.label,children:X.label},X.id)}),!oe.length&&d.jsx("span",{className:"access-table__meta",children:"No groups loaded"})]})]}),d.jsxs("div",{className:"access-modal__toggles",children:[d.jsxs("label",{className:"access-toggle",children:[d.jsx("input",{type:"checkbox",checked:C.showInSidebar,onChange:X=>G({...C,showInSidebar:X.target.checked})}),d.jsx("span",{children:"Show in sidebar"})]}),d.jsxs("label",{className:"access-toggle",children:[d.jsx("input",{type:"checkbox",checked:C.showInTopbar,onChange:X=>G({...C,showInTopbar:X.target.checked})}),d.jsx("span",{children:"Show in topbar"})]})]})]}),d.jsxs("footer",{className:"access-modal__footer",children:[d.jsx("button",{type:"button",className:"btn secondary",onClick:Ue,disabled:te,children:"Cancel"}),d.jsx("button",{type:"button",className:"btn",onClick:ve,disabled:!ue||te,children:te?"Saving...":"Save changes"})]})]})}),M&&x&&d.jsx("div",{className:"log-modal",role:"dialog","aria-modal":"true","aria-label":"Edit access group",children:d.jsxs("div",{className:"log-modal__content access-modal",children:[d.jsxs("header",{className:"log-modal__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"log-modal__eyebrow",children:"Edit group"}),d.jsx("h2",{className:"access-modal__title",children:x.label}),d.jsx("p",{className:"access-table__meta",children:x.id})]}),d.jsx("button",{type:"button",className:"text-link",onClick:Ce,disabled:me,children:"Close"})]}),k&&d.jsxs("div",{className:"error-banner",children:["Failed to save: ",k]}),d.jsxs("div",{className:"access-modal__form",children:[d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Label"}),d.jsx("input",{value:M.label??"",onChange:X=>U({...M,label:X.target.value}),placeholder:"Group label"})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Description"}),d.jsx("textarea",{value:M.description??"",onChange:X=>U({...M,description:X.target.value}),placeholder:"Short description",rows:3,style:{resize:"vertical"}})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Min role"}),d.jsx("select",{value:M.minRole??"user",onChange:X=>U({...M,minRole:X.target.value}),children:qu.map(X=>d.jsx("option",{value:X,children:ja(X)},X))})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Allowed roles"}),d.jsx("div",{className:"access-modal__chips",children:qu.map(X=>{const be=M.allowedRoles?.includes(X)??!1;return d.jsx("button",{type:"button",className:`pill role-pill role-pill--${X} ${be?"":"pill--ghost"}`,onClick:()=>Rt(X),"aria-pressed":be,children:ja(X)},X)})})]}),d.jsxs("div",{className:"filter-control",children:[d.jsx("span",{children:"Flags"}),d.jsx("div",{className:"access-table__flags",children:d.jsx("span",{className:`visibility-flag ${M.isSystem?"visibility-flag--on":"visibility-flag--off"}`,children:M.isSystem?"System group":"Custom group"})})]})]}),d.jsxs("footer",{className:"access-modal__footer",children:[d.jsx("button",{type:"button",className:"btn secondary",onClick:Ce,disabled:me,children:"Cancel"}),d.jsx("button",{type:"button",className:"btn",onClick:Sn,disabled:!tt||me,children:me?"Saving...":"Save changes"})]})]})})]})}const fA=["owner","admin"];function gv({title:s,description:t,children:i}){return d.jsx("div",{className:"gate-screen",children:d.jsxs("div",{className:"gate-card",children:[d.jsx("p",{className:"content-shell__eyebrow",children:"SFDataHub"}),d.jsx("h1",{className:"gate-title",children:s}),d.jsx("p",{className:"gate-description",children:t}),d.jsx("div",{className:"gate-actions",children:i})]})})}function dA({children:s}){const{status:t,user:i,isLoading:r,login:o}=yc(),c=(i?.roles??[]).some(g=>fA.includes(g.toLowerCase()));return r||t==="idle"||t==="loading"?d.jsx(gv,{title:"Loading Control Panel",description:"Checking your session and permissions",children:d.jsxs("div",{className:"topbar__badge topbar__badge--muted",children:[d.jsx("span",{className:"topbar__spinner","aria-hidden":"true"}),d.jsx("span",{children:"Loading session..."})]})}):t==="authenticated"&&c?s:d.jsx(gv,{title:"Login required",description:"Dieses Control Panel ist nur fuer SFDataHub Owner & Admins. Bitte logge dich ein.",children:d.jsxs("div",{className:"gate-buttons",children:[d.jsx("button",{type:"button",className:"topbar__login topbar__login--discord",onClick:()=>o("discord"),children:"Login Discord"}),d.jsx("button",{type:"button",className:"topbar__login topbar__login--google",onClick:()=>o("google"),children:"Login Google"})]})})}var yv={};const G_=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},mA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],m=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(m&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],m=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|m&63)}}return t.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],m=o+1<s.length,g=m?s[o+1]:0,y=o+2<s.length,v=y?s[o+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let R=(g&15)<<2|v>>6,z=v&63;y||(z=64,m||(R=64)),r.push(i[b],i[A],i[R],i[z])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(G_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):mA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||v==null||A==null)throw new pA;const R=c<<2|g>>4;if(r.push(R),v!==64){const z=g<<4&240|v>>2;if(r.push(z),A!==64){const C=v<<6&192|A;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gA=function(s){const t=G_(s);return Q_.encodeByteArray(t,!0)},sc=function(s){return gA(s).replace(/\./g,"")},yA=function(s){try{return Q_.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>vA().__FIREBASE_DEFAULTS__,EA=()=>{if(typeof process>"u"||typeof yv>"u")return;const s=yv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&yA(s[1]);return t&&JSON.parse(t)},zd=()=>{try{return _A()||EA()||bA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},TA=s=>{var t,i;return(i=(t=zd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},SA=s=>{const t=TA(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},K_=()=>{var s;return(s=zd())===null||s===void 0?void 0:s.config};class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function wA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[sc(JSON.stringify(i)),sc(JSON.stringify(m)),""].join(".")}function xA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){var s;const t=(s=zd())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function jA(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}const DA="FirebaseError";class jr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=DA,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y_.prototype.create)}}class Y_{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],m=c?IA(c,r):"Error",g=`${this.serviceName}: ${m} (${o}).`;return new jr(o,g,r)}}function IA(s,t){return s.replace(MA,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const MA=/\{\$([^}]+)}/g;function ad(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=s[o],m=t[o];if(vv(c)&&vv(m)){if(!ad(c,m))return!1}else if(c!==m)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function vv(s){return s!==null&&typeof s=="object"}function rc(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ms="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new AA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t?.identifier),o=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LA(t))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ms){return this.instances.has(t)}getOptions(t=ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&m.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const m=this.instances.get(o);return m&&t(m,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ms){return this.component?this.component.multipleInstances?t:ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(s){return s===ms?void 0:s}function LA(s){return s.instantiationMode==="EAGER"}class UA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const zA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},kA=Be.INFO,BA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},PA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=BA[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class X_{constructor(t){this.name=t,this._logLevel=kA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...t),this._logHandler(this,Be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...t),this._logHandler(this,Be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...t),this._logHandler(this,Be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...t),this._logHandler(this,Be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...t),this._logHandler(this,Be.ERROR,...t)}}const qA=(s,t)=>t.some(i=>s instanceof i);let _v,Ev;function HA(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,sd=new WeakMap,Z_=new WeakMap,qf=new WeakMap,kd=new WeakMap;function GA(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",m)},c=()=>{i(Ma(s.result)),o()},m=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",m)});return t.then(i=>{i instanceof IDBCursor&&$_.set(i,s)}).catch(()=>{}),kd.set(t,s),t}function QA(s){if(sd.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",m),s.removeEventListener("abort",m)},c=()=>{i(),o()},m=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",m),s.addEventListener("abort",m)});sd.set(s,t)}let rd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return sd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Z_.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ma(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function KA(s){rd=s(rd)}function YA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Hf(this),t,...i);return Z_.set(r,t.sort?t.sort():[t]),Ma(r)}:FA().includes(s)?function(...t){return s.apply(Hf(this),t),Ma($_.get(this))}:function(...t){return Ma(s.apply(Hf(this),t))}}function XA(s){return typeof s=="function"?YA(s):(s instanceof IDBTransaction&&QA(s),qA(s,HA())?new Proxy(s,rd):s)}function Ma(s){if(s instanceof IDBRequest)return GA(s);if(qf.has(s))return qf.get(s);const t=XA(s);return t!==s&&(qf.set(s,t),kd.set(t,s)),t}const Hf=s=>kd.get(s);function $A(s,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const m=indexedDB.open(s,t),g=Ma(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Ma(m.result),y.oldVersion,y.newVersion,Ma(m.transaction),y)}),i&&m.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const ZA=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],Ff=new Map;function bv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ff.get(t))return Ff.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=JA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ZA.includes(i)))return;const c=async function(m,...g){const y=this.transaction(m,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return Ff.set(t,c),c}KA(s=>({...s,get:(t,i,r)=>bv(t,i)||s.get(t,i,r),has:(t,i)=>!!bv(t,i)||s.has(t,i)}));class WA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(e1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function e1(s){const t=s.getComponent();return t?.type==="VERSION"}const ld="@firebase/app",Tv="0.10.13";const Ui=new X_("@firebase/app"),t1="@firebase/app-compat",n1="@firebase/analytics-compat",i1="@firebase/analytics",a1="@firebase/app-check-compat",s1="@firebase/app-check",r1="@firebase/auth",l1="@firebase/auth-compat",o1="@firebase/database",u1="@firebase/data-connect",c1="@firebase/database-compat",h1="@firebase/functions",f1="@firebase/functions-compat",d1="@firebase/installations",m1="@firebase/installations-compat",p1="@firebase/messaging",g1="@firebase/messaging-compat",y1="@firebase/performance",v1="@firebase/performance-compat",_1="@firebase/remote-config",E1="@firebase/remote-config-compat",b1="@firebase/storage",T1="@firebase/storage-compat",S1="@firebase/firestore",A1="@firebase/vertexai-preview",w1="@firebase/firestore-compat",x1="firebase",R1="10.14.1";const od="[DEFAULT]",N1={[ld]:"fire-core",[t1]:"fire-core-compat",[i1]:"fire-analytics",[n1]:"fire-analytics-compat",[s1]:"fire-app-check",[a1]:"fire-app-check-compat",[r1]:"fire-auth",[l1]:"fire-auth-compat",[o1]:"fire-rtdb",[u1]:"fire-data-connect",[c1]:"fire-rtdb-compat",[h1]:"fire-fn",[f1]:"fire-fn-compat",[d1]:"fire-iid",[m1]:"fire-iid-compat",[p1]:"fire-fcm",[g1]:"fire-fcm-compat",[y1]:"fire-perf",[v1]:"fire-perf-compat",[_1]:"fire-rc",[E1]:"fire-rc-compat",[b1]:"fire-gcs",[T1]:"fire-gcs-compat",[S1]:"fire-fst",[w1]:"fire-fst-compat",[A1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};const lc=new Map,C1=new Map,ud=new Map;function Sv(s,t){try{s.container.addComponent(t)}catch(i){Ui.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function oc(s){const t=s.name;if(ud.has(t))return Ui.debug(`There were multiple attempts to register component ${t}.`),!1;ud.set(t,s);for(const i of lc.values())Sv(i,s);for(const i of C1.values())Sv(i,s);return!0}function j1(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}const D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Y_("app","Firebase",D1);class I1{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}const M1=R1;function J_(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:od,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(i||(i=K_()),!i)throw Oa.create("no-options");const c=lc.get(o);if(c){if(ad(i,c.options)&&ad(r,c.config))return c;throw Oa.create("duplicate-app",{appName:o})}const m=new UA(o);for(const y of ud.values())m.addComponent(y);const g=new I1(i,r,m);return lc.set(o,g),g}function O1(s=od){const t=lc.get(s);if(!t&&s===od&&K_())return J_();if(!t)throw Oa.create("no-app",{appName:s});return t}function mr(s,t,i){var r;let o=(r=N1[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),m=t.match(/\s|\//);if(c||m){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&m&&g.push("and"),m&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}oc(new Yl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const V1="firebase-heartbeat-database",L1=1,Xl="firebase-heartbeat-store";let Gf=null;function W_(){return Gf||(Gf=$A(V1,L1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Oa.create("idb-open",{originalErrorMessage:s.message})})),Gf}async function U1(s){try{const i=(await W_()).transaction(Xl),r=await i.objectStore(Xl).get(e0(s));return await i.done,r}catch(t){if(t instanceof jr)Ui.warn(t.message);else{const i=Oa.create("idb-get",{originalErrorMessage:t?.message});Ui.warn(i.message)}}}async function Av(s,t){try{const r=(await W_()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(t,e0(s)),await r.done}catch(i){if(i instanceof jr)Ui.warn(i.message);else{const r=Oa.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(r.message)}}}function e0(s){return`${s.name}!${s.options.appId}`}const z1=1024,k1=720*60*60*1e3;class B1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new q1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=wv();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(m=>m.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(m=>{const g=new Date(m.date).valueOf();return Date.now()-g<=k1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=wv(),{heartbeatsToSend:r,unsentEntries:o}=P1(this._heartbeatsCache.heartbeats),c=sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ui.warn(i),""}}}function wv(){return new Date().toISOString().substring(0,10)}function P1(s,t=z1){const i=[];let r=s.slice();for(const o of s){const c=i.find(m=>m.agent===o.agent);if(c){if(c.dates.push(o.date),xv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),xv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?jA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await U1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Av(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Av(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function xv(s){return sc(JSON.stringify({version:2,heartbeats:s})).length}function H1(s){oc(new Yl("platform-logger",t=>new WA(t),"PRIVATE")),oc(new Yl("heartbeat",t=>new B1(t),"PRIVATE")),mr(ld,Tv,s),mr(ld,Tv,"esm2017"),mr("fire-js","")}H1("");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,t0;(function(){var s;function t(O,x){function N(){}N.prototype=x.prototype,O.D=x.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(M,U,k){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return x.prototype[U].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,N){N||(N=0);var M=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)M[U]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(U=0;16>U;++U)M[U]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=O.g[0],N=O.g[1],U=O.g[2];var k=O.g[3],w=x+(k^N&(U^k))+M[0]+3614090360&4294967295;x=N+(w<<7&4294967295|w>>>25),w=k+(U^x&(N^U))+M[1]+3905402710&4294967295,k=x+(w<<12&4294967295|w>>>20),w=U+(N^k&(x^N))+M[2]+606105819&4294967295,U=k+(w<<17&4294967295|w>>>15),w=N+(x^U&(k^x))+M[3]+3250441966&4294967295,N=U+(w<<22&4294967295|w>>>10),w=x+(k^N&(U^k))+M[4]+4118548399&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(U^x&(N^U))+M[5]+1200080426&4294967295,k=x+(w<<12&4294967295|w>>>20),w=U+(N^k&(x^N))+M[6]+2821735955&4294967295,U=k+(w<<17&4294967295|w>>>15),w=N+(x^U&(k^x))+M[7]+4249261313&4294967295,N=U+(w<<22&4294967295|w>>>10),w=x+(k^N&(U^k))+M[8]+1770035416&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(U^x&(N^U))+M[9]+2336552879&4294967295,k=x+(w<<12&4294967295|w>>>20),w=U+(N^k&(x^N))+M[10]+4294925233&4294967295,U=k+(w<<17&4294967295|w>>>15),w=N+(x^U&(k^x))+M[11]+2304563134&4294967295,N=U+(w<<22&4294967295|w>>>10),w=x+(k^N&(U^k))+M[12]+1804603682&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(U^x&(N^U))+M[13]+4254626195&4294967295,k=x+(w<<12&4294967295|w>>>20),w=U+(N^k&(x^N))+M[14]+2792965006&4294967295,U=k+(w<<17&4294967295|w>>>15),w=N+(x^U&(k^x))+M[15]+1236535329&4294967295,N=U+(w<<22&4294967295|w>>>10),w=x+(U^k&(N^U))+M[1]+4129170786&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^U&(x^N))+M[6]+3225465664&4294967295,k=x+(w<<9&4294967295|w>>>23),w=U+(x^N&(k^x))+M[11]+643717713&4294967295,U=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(U^k))+M[0]+3921069994&4294967295,N=U+(w<<20&4294967295|w>>>12),w=x+(U^k&(N^U))+M[5]+3593408605&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^U&(x^N))+M[10]+38016083&4294967295,k=x+(w<<9&4294967295|w>>>23),w=U+(x^N&(k^x))+M[15]+3634488961&4294967295,U=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(U^k))+M[4]+3889429448&4294967295,N=U+(w<<20&4294967295|w>>>12),w=x+(U^k&(N^U))+M[9]+568446438&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^U&(x^N))+M[14]+3275163606&4294967295,k=x+(w<<9&4294967295|w>>>23),w=U+(x^N&(k^x))+M[3]+4107603335&4294967295,U=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(U^k))+M[8]+1163531501&4294967295,N=U+(w<<20&4294967295|w>>>12),w=x+(U^k&(N^U))+M[13]+2850285829&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^U&(x^N))+M[2]+4243563512&4294967295,k=x+(w<<9&4294967295|w>>>23),w=U+(x^N&(k^x))+M[7]+1735328473&4294967295,U=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(U^k))+M[12]+2368359562&4294967295,N=U+(w<<20&4294967295|w>>>12),w=x+(N^U^k)+M[5]+4294588738&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^U)+M[8]+2272392833&4294967295,k=x+(w<<11&4294967295|w>>>21),w=U+(k^x^N)+M[11]+1839030562&4294967295,U=k+(w<<16&4294967295|w>>>16),w=N+(U^k^x)+M[14]+4259657740&4294967295,N=U+(w<<23&4294967295|w>>>9),w=x+(N^U^k)+M[1]+2763975236&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^U)+M[4]+1272893353&4294967295,k=x+(w<<11&4294967295|w>>>21),w=U+(k^x^N)+M[7]+4139469664&4294967295,U=k+(w<<16&4294967295|w>>>16),w=N+(U^k^x)+M[10]+3200236656&4294967295,N=U+(w<<23&4294967295|w>>>9),w=x+(N^U^k)+M[13]+681279174&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^U)+M[0]+3936430074&4294967295,k=x+(w<<11&4294967295|w>>>21),w=U+(k^x^N)+M[3]+3572445317&4294967295,U=k+(w<<16&4294967295|w>>>16),w=N+(U^k^x)+M[6]+76029189&4294967295,N=U+(w<<23&4294967295|w>>>9),w=x+(N^U^k)+M[9]+3654602809&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^U)+M[12]+3873151461&4294967295,k=x+(w<<11&4294967295|w>>>21),w=U+(k^x^N)+M[15]+530742520&4294967295,U=k+(w<<16&4294967295|w>>>16),w=N+(U^k^x)+M[2]+3299628645&4294967295,N=U+(w<<23&4294967295|w>>>9),w=x+(U^(N|~k))+M[0]+4096336452&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~U))+M[7]+1126891415&4294967295,k=x+(w<<10&4294967295|w>>>22),w=U+(x^(k|~N))+M[14]+2878612391&4294967295,U=k+(w<<15&4294967295|w>>>17),w=N+(k^(U|~x))+M[5]+4237533241&4294967295,N=U+(w<<21&4294967295|w>>>11),w=x+(U^(N|~k))+M[12]+1700485571&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~U))+M[3]+2399980690&4294967295,k=x+(w<<10&4294967295|w>>>22),w=U+(x^(k|~N))+M[10]+4293915773&4294967295,U=k+(w<<15&4294967295|w>>>17),w=N+(k^(U|~x))+M[1]+2240044497&4294967295,N=U+(w<<21&4294967295|w>>>11),w=x+(U^(N|~k))+M[8]+1873313359&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~U))+M[15]+4264355552&4294967295,k=x+(w<<10&4294967295|w>>>22),w=U+(x^(k|~N))+M[6]+2734768916&4294967295,U=k+(w<<15&4294967295|w>>>17),w=N+(k^(U|~x))+M[13]+1309151649&4294967295,N=U+(w<<21&4294967295|w>>>11),w=x+(U^(N|~k))+M[4]+4149444226&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~U))+M[11]+3174756917&4294967295,k=x+(w<<10&4294967295|w>>>22),w=U+(x^(k|~N))+M[2]+718787259&4294967295,U=k+(w<<15&4294967295|w>>>17),w=N+(k^(U|~x))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(U+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+k&4294967295}r.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var N=x-this.blockSize,M=this.B,U=this.h,k=0;k<x;){if(U==0)for(;k<=N;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<x;)if(M[U++]=O.charCodeAt(k++),U==this.blockSize){o(this,M),U=0;break}}else for(;k<x;)if(M[U++]=O[k++],U==this.blockSize){o(this,M),U=0;break}}this.h=U,this.o+=x},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var N=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=N&255,N/=256;for(this.u(O),O=Array(16),x=N=0;4>x;++x)for(var M=0;32>M;M+=8)O[N++]=this.g[x]>>>M&255;return O};function c(O,x){var N=g;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=x(O)}function m(O,x){this.h=x;for(var N=[],M=!0,U=O.length-1;0<=U;U--){var k=O[U]|0;M&&k==x||(N[U]=k,M=!1)}this.g=N}var g={};function y(O){return-128<=O&&128>O?c(O,function(x){return new m([x|0],0>x?-1:0)}):new m([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return j(v(-O));for(var x=[],N=1,M=0;O>=N;M++)x[M]=O/N|0,N*=4294967296;return new m(x,0)}function b(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return j(b(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=v(Math.pow(x,8)),M=A,U=0;U<O.length;U+=8){var k=Math.min(8,O.length-U),w=parseInt(O.substring(U,U+k),x);8>k?(k=v(Math.pow(x,k)),M=M.j(k).add(v(w))):(M=M.j(N),M=M.add(v(w)))}return M}var A=y(0),R=y(1),z=y(16777216);s=m.prototype,s.m=function(){if(G(this))return-j(this).m();for(var O=0,x=1,N=0;N<this.g.length;N++){var M=this.i(N);O+=(0<=M?M:4294967296+M)*x,x*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(G(this))return"-"+j(this).toString(O);for(var x=v(Math.pow(O,6)),N=this,M="";;){var U=pe(N,x).g;N=Q(N,U.j(x));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=U,C(N))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function G(O){return O.h==-1}s.l=function(O){return O=Q(this,O),G(O)?-1:C(O)?0:1};function j(O){for(var x=O.g.length,N=[],M=0;M<x;M++)N[M]=~O.g[M];return new m(N,~O.h).add(R)}s.abs=function(){return G(this)?j(this):this},s.add=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0,U=0;U<=x;U++){var k=M+(this.i(U)&65535)+(O.i(U)&65535),w=(k>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);M=w>>>16,k&=65535,w&=65535,N[U]=w<<16|k}return new m(N,N[N.length-1]&-2147483648?-1:0)};function Q(O,x){return O.add(j(x))}s.j=function(O){if(C(this)||C(O))return A;if(G(this))return G(O)?j(this).j(j(O)):j(j(this).j(O));if(G(O))return j(this.j(j(O)));if(0>this.l(z)&&0>O.l(z))return v(this.m()*O.m());for(var x=this.g.length+O.g.length,N=[],M=0;M<2*x;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<O.g.length;U++){var k=this.i(M)>>>16,w=this.i(M)&65535,me=O.i(U)>>>16,Ge=O.i(U)&65535;N[2*M+2*U]+=w*Ge,te(N,2*M+2*U),N[2*M+2*U+1]+=k*Ge,te(N,2*M+2*U+1),N[2*M+2*U+1]+=w*me,te(N,2*M+2*U+1),N[2*M+2*U+2]+=k*me,te(N,2*M+2*U+2)}for(M=0;M<x;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=x;M<2*x;M++)N[M]=0;return new m(N,0)};function te(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function se(O,x){this.g=O,this.h=x}function pe(O,x){if(C(x))throw Error("division by zero");if(C(O))return new se(A,A);if(G(O))return x=pe(j(O),x),new se(j(x.g),j(x.h));if(G(x))return x=pe(O,j(x)),new se(j(x.g),x.h);if(30<O.g.length){if(G(O)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var N=R,M=x;0>=M.l(O);)N=xe(N),M=xe(M);var U=Ee(N,1),k=Ee(M,1);for(M=Ee(M,2),N=Ee(N,2);!C(M);){var w=k.add(M);0>=w.l(O)&&(U=U.add(N),k=w),M=Ee(M,1),N=Ee(N,1)}return x=Q(O,U.j(x)),new se(U,x)}for(U=A;0<=O.l(x);){for(N=Math.max(1,Math.floor(O.m()/x.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=v(N),w=k.j(x);G(w)||0<w.l(O);)N-=M,k=v(N),w=k.j(x);C(k)&&(k=R),U=U.add(k),O=Q(O,w)}return new se(U,O)}s.A=function(O){return pe(this,O).h},s.and=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)&O.i(M);return new m(N,this.h&O.h)},s.or=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)|O.i(M);return new m(N,this.h|O.h)},s.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)^O.i(M);return new m(N,this.h^O.h)};function xe(O){for(var x=O.g.length+1,N=[],M=0;M<x;M++)N[M]=O.i(M)<<1|O.i(M-1)>>>31;return new m(N,O.h)}function Ee(O,x){var N=x>>5;x%=32;for(var M=O.g.length-N,U=[],k=0;k<M;k++)U[k]=0<x?O.i(k+N)>>>x|O.i(k+N+1)<<32-x:O.i(k+N);return new m(U,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t0=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=v,m.fromString=b,ys=m}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var n0,Bl,i0,Zu,cd,a0,s0,r0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,E){return u==Array.prototype||u==Object.prototype||(u[p]=E.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var p=0;p<u.length;++p){var E=u[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,p){if(p)e:{var E=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in E))break e;E=E[P]}u=u[u.length-1],S=E[u],p=p(S),p!=S&&p!=null&&t(E,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var E=0,S=!1,P={next:function(){if(!S&&E<u.length){var Y=E++;return{value:p(Y,u[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,E){return E})}});var m=m||{},g=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function b(u,p,E){return u.call.apply(u.bind,arguments)}function A(u,p,E){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),u.apply(p,P)}}return function(){return u.apply(p,arguments)}}function R(u,p,E){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,R.apply(null,arguments)}function z(u,p){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function C(u,p){function E(){}E.prototype=p.prototype,u.aa=p.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(S,P,Y){for(var le=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)le[Ye-2]=arguments[Ye];return p.prototype[P].apply(S,le)}}function G(u){const p=u.length;if(0<p){const E=Array(p);for(let S=0;S<p;S++)E[S]=u[S];return E}return[]}function j(u,p){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(y(S)){const P=u.length||0,Y=S.length||0;u.length=P+Y;for(let le=0;le<Y;le++)u[P+le]=S[le]}else u.push(S)}}class Q{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){return/^[\s\xa0]*$/.test(u)}function se(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var xe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ee(u,p,E){for(const S in u)p.call(E,u[S],S,u)}function O(u,p){for(const E in u)p.call(void 0,u[E],E,u)}function x(u){const p={};for(const E in u)p[E]=u[E];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,p){let E,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(E in S)u[E]=S[E];for(let Y=0;Y<N.length;Y++)E=N[Y],Object.prototype.hasOwnProperty.call(S,E)&&(u[E]=S[E])}}function U(u){var p=1;u=u.split(":");const E=[];for(;0<p&&u.length;)E.push(u.shift()),p--;return u.length&&E.push(u.join(":")),E}function k(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Le;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class me{constructor(){this.h=this.g=null}add(p,E){const S=Ge.get();S.set(p,E),this.h?this.h.next=S:this.g=S,this.h=S}}var Ge=new Q(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,oe=!1,Le=new me,Ue=()=>{const u=g.Promise.resolve(void 0);ie=()=>{u.then(L)}};var L=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(E){k(E)}var p=Ge;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}oe=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};g.addEventListener("test",E,p),g.removeEventListener("test",E,p)}catch{}return u})();function ve(u,p){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(xe){e:{try{pe(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else E=="mouseover"?p=u.fromElement:E=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}C(ve,ae);var Re={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function tt(u,p,E,S,P){this.listener=u,this.proxy=null,this.src=p,this.type=E,this.capture=!!S,this.ha=P,this.key=++Rt,this.da=this.fa=!1}function Sn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function X(u){this.src=u,this.g={},this.h=0}X.prototype.add=function(u,p,E,S,P){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var le=ot(u,p,S,P);return-1<le?(p=u[le],E||(p.fa=!1)):(p=new tt(p,this.src,Y,!!S,P),p.fa=E,u.push(p)),p};function be(u,p){var E=p.type;if(E in u.g){var S=u.g[E],P=Array.prototype.indexOf.call(S,p,void 0),Y;(Y=0<=P)&&Array.prototype.splice.call(S,P,1),Y&&(Sn(p),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ot(u,p,E,S){for(var P=0;P<u.length;++P){var Y=u[P];if(!Y.da&&Y.listener==p&&Y.capture==!!E&&Y.ha==S)return P}return-1}var st="closure_lm_"+(1e6*Math.random()|0),An={};function Ss(u,p,E,S,P){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)Ss(u,p[Y],E,S,P);return null}return E=uo(E),u&&u[Ce]?u.K(p,E,v(S)?!!S.capture:!1,P):Rc(u,p,E,!1,S,P)}function Rc(u,p,E,S,P,Y){if(!p)throw Error("Invalid event type");var le=v(P)?!!P.capture:!!P,Ye=Vr(u);if(Ye||(u[st]=Ye=new X(u)),E=Ye.add(p,E,S,le,Y),E.proxy)return E;if(S=oo(),E.proxy=S,S.src=u,S.listener=E,u.addEventListener)ue||(P=le),P===void 0&&(P=!1),u.addEventListener(p.toString(),S,P);else if(u.attachEvent)u.attachEvent(ws(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function oo(){function u(E){return p.call(u.src,u.listener,E)}const p=Nc;return u}function As(u,p,E,S,P){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)As(u,p[Y],E,S,P);else S=v(S)?!!S.capture:!!S,E=uo(E),u&&u[Ce]?(u=u.i,p=String(p).toString(),p in u.g&&(Y=u.g[p],E=ot(Y,E,S,P),-1<E&&(Sn(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete u.g[p],u.h--)))):u&&(u=Vr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ot(p,E,S,P)),(E=-1<u?p[u]:null)&&Ba(E))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ce])be(p.i,u);else{var E=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(E,S,u.capture):p.detachEvent?p.detachEvent(ws(E),S):p.addListener&&p.removeListener&&p.removeListener(S),(E=Vr(p))?(be(E,u),E.h==0&&(E.src=null,p[st]=null)):Sn(u)}}}function ws(u){return u in An?An[u]:An[u]="on"+u}function Nc(u,p){if(u.da)u=!0;else{p=new ve(p,this);var E=u.listener,S=u.ha||u.src;u.fa&&Ba(u),u=E.call(S,p)}return u}function Vr(u){return u=u[st],u instanceof X?u:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(u){return typeof u=="function"?u:(u[Ut]||(u[Ut]=function(p){return u.handleEvent(p)}),u[Ut])}function Nt(){J.call(this),this.i=new X(this),this.M=this,this.F=null}C(Nt,J),Nt.prototype[Ce]=!0,Nt.prototype.removeEventListener=function(u,p,E,S){As(this,u,p,E,S)};function Dt(u,p){var E,S=u.F;if(S)for(E=[];S;S=S.F)E.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new ae(p,u);else if(p instanceof ae)p.target=p.target||u;else{var P=p;p=new ae(S,u),M(p,P)}if(P=!0,E)for(var Y=E.length-1;0<=Y;Y--){var le=p.g=E[Y];P=ui(le,S,!0,p)&&P}if(le=p.g=u,P=ui(le,S,!0,p)&&P,P=ui(le,S,!1,p)&&P,E)for(Y=0;Y<E.length;Y++)le=p.g=E[Y],P=ui(le,S,!1,p)&&P}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var E=u.g[p],S=0;S<E.length;S++)Sn(E[S]);delete u.g[p],u.h--}}this.F=null},Nt.prototype.K=function(u,p,E,S){return this.i.add(String(u),p,!1,E,S)},Nt.prototype.L=function(u,p,E,S){return this.i.add(String(u),p,!0,E,S)};function ui(u,p,E,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var P=!0,Y=0;Y<p.length;++Y){var le=p[Y];if(le&&!le.da&&le.capture==E){var Ye=le.listener,Et=le.ha||le.src;le.fa&&be(u.i,le),P=Ye.call(Et,S)!==!1&&P}}return P&&!S.defaultPrevented}function co(u,p,E){if(typeof u=="function")E&&(u=R(u,E));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:g.setTimeout(u,p||0)}function Lr(u){u.g=co(()=>{u.g=null,u.i&&(u.i=!1,Lr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Cc extends J{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){J.call(this),this.h=u,this.g={}}C(Pa,J);var qi=[];function Kt(u){Ee(u.g,function(p,E){this.g.hasOwnProperty(E)&&Ba(p)},u),u.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Kt(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,en=g.JSON.parse,jc=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ur(){}Ur.prototype.h=null;function ho(u){return u.h||(u.h=u.i())}function qa(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){ae.call(this,"d")}C(Hi,ae);function zn(){ae.call(this,"c")}C(zn,ae);var xn={},Fi=null;function xs(){return Fi=Fi||new Nt}xn.La="serverreachability";function zr(u){ae.call(this,xn.La,u)}C(zr,ae);function ci(u){const p=xs();Dt(p,new zr(p))}xn.STAT_EVENT="statevent";function Gi(u,p){ae.call(this,xn.STAT_EVENT,u),this.stat=p}C(Gi,ae);function zt(u){const p=xs();Dt(p,new Gi(p,u))}xn.Ma="timingevent";function kr(u,p){ae.call(this,xn.Ma,u),this.size=p}C(kr,ae);function Qi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},p)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Br(u,p,E,S,P,Y){u.info(function(){if(u.g)if(Y)for(var le="",Ye=Y.split("&"),Et=0;Et<Ye.length;Et++){var je=Ye[Et].split("=");if(1<je.length){var Mt=je[0];je=je[1];var Ot=Mt.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(Mt+"="+je+"&"):le+(Mt+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+E+`
`+le})}function Pr(u,p,E,S,P,Y,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+E+`
`+Y+" "+le})}function hi(u,p,E,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yn(u,E)+(S?" "+S:"")})}function fo(u,p){u.info(function(){return"TIMEOUT: "+p})}Ki.prototype.info=function(){};function Yn(u,p){if(!u.g)return p;if(!p)return null;try{var E=JSON.parse(p);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var S=E[u];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var Y=P[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<P.length;le++)P[le]=""}}}}return wn(E)}catch{return p}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Yi(){}C(Yi,Ur),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},Xn=new Yi;function $n(u,p,E,S){this.j=u,this.i=p,this.l=E,this.R=S||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var qr={},fi={};function Ha(u,p,E){u.L=1,u.v=Qa(ht(p)),u.m=E,u.P=!0,di(u,null)}function di(u,p){u.F=Date.now(),kn(u),u.A=ht(u.v);var E=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),gi(E.i,"t",S),u.C=0,E=u.j.J,u.h=new mo,u.g=jo(u.j,E?p:null,!u.m),0<u.O&&(u.M=new Cc(R(u.Y,u,u.g),u.O)),p=u.U,E=u.g,S=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(qi[0]=P.toString()),P=qi);for(var Y=0;Y<P.length;Y++){var le=Ss(E,P[Y],S||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ci(),Br(u.i,u.u,u.A,u.l,u.R,u.m)}$n.prototype.ca=function(u){u=u.target;const p=this.M;p&&an(u)==3?p.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=an(this.g);var p=this.g.Ba();const la=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Xa(this.g)))){this.J||Ot!=4||p==7||(p==8||0>=la?ci(3):ci(2)),Rs(this);var E=this.g.Z();this.X=E;t:if(mi(this)){var S=Xa(this.g);u="";var P=S.length,Y=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Xi(this);var le="";break t}this.h.i=new g.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(Y&&p==P-1)});S.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,Pr(this.i,this.u,this.A,this.l,this.R,Ot,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Et=this.g;if((Ye=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ye)){var je=Ye;break t}}je=null}if(E=je)hi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zn(this,E);else{this.o=!1,this.s=3,zt(12),tn(this),Xi(this);break e}}if(this.P){E=!0;let on;for(;!this.J&&this.C<le.length;)if(on=Fa(this,le),on==fi){Ot==4&&(this.s=4,zt(14),E=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==qr){this.s=4,zt(15),hi(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else hi(this.i,this.l,on,null),Zn(this,on);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,zt(16),E=!1),this.o=this.o&&E,!E)hi(this.i,this.l,le,"[Invalid Chunked Response]"),tn(this),Xi(this);else if(0<le.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Wr(Mt),Mt.M=!0,zt(11))}}else hi(this.i,this.l,le,null),Zn(this,le);Ot==4&&tn(this),this.o&&!this.J&&(Ot==4?Ro(this.j,this):(this.o=!1,kn(this)))}else bo(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),tn(this),Xi(this)}}}catch{}finally{}};function mi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fa(u,p){var E=u.C,S=p.indexOf(`
`,E);return S==-1?fi:(E=Number(p.substring(E,S)),isNaN(E)?qr:(S+=1,S+E>p.length?fi:(p=p.slice(S,S+E),u.C=S+E,p)))}$n.prototype.cancel=function(){this.J=!0,tn(this)};function kn(u){u.S=Date.now()+u.I,pt(u,u.I)}function pt(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qi(R(u.ba,u),p)}function Rs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fo(this.i,this.A),this.L!=2&&(ci(),zt(17)),tn(this),this.s=2,Xi(this)):pt(this,this.S-u)};function Xi(u){u.j.G==0||u.J||Ro(u.j,u)}function tn(u){Rs(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Kt(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Zn(u,p){try{var E=u.j;if(E.G!=0&&(E.g==u||$i(E.h,u))){if(!u.K&&$i(E.h,u)&&E.G==3){try{var S=E.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)sa(E),aa(E);else break e;Jr(E),zt(18)}}else E.za=P[1],0<E.za-E.T&&37500>P[2]&&E.F&&E.v==0&&!E.C&&(E.C=Qi(R(E.Za,E),6e3));if(1>=po(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else vi(E,11)}else if((u.K||E.g==u)&&sa(E),!te(p))for(P=E.Da.g.parse(p),p=0;p<P.length;p++){let je=P[p];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const Mt=je[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Ot=je[4];Ot!=null&&(E.Aa=Ot,E.j.info("SVER="+E.Aa));const la=je[5];la!=null&&typeof la=="number"&&0<la&&(S=1.5*la,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const on=u.g;if(on){const Ja=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var Y=S.h;Y.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Zi(Y,Y.h),Y.h=null))}if(S.D){const _i=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;_i&&(S.ya=_i,qe(S.I,S.D,_i))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var le=u;if(S.qa=Co(S,S.J?S.ia:null,S.W),le.K){Rn(S.h,le);var Ye=le,Et=S.L;Et&&(Ye.I=Et),Ye.B&&(Rs(Ye),kn(Ye)),S.g=le}else wo(S);0<E.i.length&&Vs(E)}else je[0]!="stop"&&je[0]!="close"||vi(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?vi(E,7):$r(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}ci(4)}catch{}}var Dc=class{constructor(u,p){this.g=u,this.map=p}};function Hr(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function po(u){return u.h?1:u.g?u.g.size:0}function $i(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Zi(u,p){u.g?u.g.add(p):u.h=p}function Rn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Hr.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const E of u.g.values())p=p.concat(E.D);return p}return G(u.i)}function go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],E=u.length,S=0;S<E;S++)p.push(u[S]);return p}p=[],E=0;for(S in u)p[E++]=u[S];return p}function Ic(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var E=0;E<u;E++)p.push(E);return p}p=[],E=0;for(const S in u)p[E++]=S;return p}}}function Ns(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var E=Ic(u),S=go(u),P=S.length,Y=0;Y<P;Y++)p.call(void 0,S[Y],E&&E[Y],u)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(u,p){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var S=u[E].indexOf("="),P=null;if(0<=S){var Y=u[E].substring(0,S);P=u[E].substring(S+1)}else Y=u[E];p(Y,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,Ji(this,u.j),this.o=u.o,this.g=u.g,Ga(this,u.s),this.l=u.l;var p=u.i,E=new Jn;E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),js(this,E),this.m=u.m}else u&&(p=String(u).match(Gr))?(this.h=!1,Ji(this,p[1]||"",!0),this.o=Wi(p[2]||""),this.g=Wi(p[3]||"",!0),Ga(this,p[4]),this.l=Wi(p[5]||"",!0),js(this,p[6]||"",!0),this.m=Wi(p[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}pi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Nn(p,Qr,!0),":");var E=this.g;return(E||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Nn(p,Qr,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Nn(E,E.charAt(0)=="/"?Kr:yo,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Nn(E,Vc)),u.join("")};function ht(u){return new pi(u)}function Ji(u,p,E){u.j=E?Wi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ga(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function js(u,p,E){p instanceof Jn?(u.i=p,vo(u.i,u.h)):(E||(p=Nn(p,Oc)),u.i=new Jn(p,u.h))}function qe(u,p,E){u.i.set(p,E)}function Qa(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nn(u,p,E){return typeof u=="string"?(u=encodeURI(u).replace(p,Mc),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qr=/[#\/\?@]/g,yo=/[#\?:]/g,Kr=/[#\?]/g,Oc=/[#\?@]/g,Vc=/#/g;function Jn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function It(u){u.g||(u.g=new Map,u.h=0,u.i&&Cs(u.i,function(p,E){u.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}s=Jn.prototype,s.add=function(u,p){It(this),this.i=null,u=mn(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(p),this.h+=1,this};function Ds(u,p){It(u),p=mn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Is(u,p){return It(u),p=mn(u,p),u.g.has(p)}s.forEach=function(u,p){It(this),this.g.forEach(function(E,S){E.forEach(function(P){u.call(p,P,S,this)},this)},this)},s.na=function(){It(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),E=[];for(let S=0;S<p.length;S++){const P=u[S];for(let Y=0;Y<P.length;Y++)E.push(p[S])}return E},s.V=function(u){It(this);let p=[];if(typeof u=="string")Is(this,u)&&(p=p.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)p=p.concat(u[E])}return p},s.set=function(u,p){return It(this),this.i=null,u=mn(this,u),Is(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function gi(u,p,E){Ds(u,p),0<E.length&&(u.i=null,u.g.set(mn(u,p),G(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var E=0;E<p.length;E++){var S=p[E];const Y=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var P=Y;le[S]!==""&&(P+="="+encodeURIComponent(String(le[S]))),u.push(P)}}return this.i=u.join("&")};function mn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function vo(u,p){p&&!u.j&&(It(u),u.i=null,u.g.forEach(function(E,S){var P=S.toLowerCase();S!=P&&(Ds(this,S),gi(this,P,E))},u)),u.j=p}function Yr(u,p){const E=new Ki;if(g.Image){const S=new Image;S.onload=z(ln,E,"TestLoadImage: loaded",!0,p,S),S.onerror=z(ln,E,"TestLoadImage: error",!1,p,S),S.onabort=z(ln,E,"TestLoadImage: abort",!1,p,S),S.ontimeout=z(ln,E,"TestLoadImage: timeout",!1,p,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function _o(u,p){const E=new Ki,S=new AbortController,P=setTimeout(()=>{S.abort(),ln(E,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(P),Y.ok?ln(E,"TestPingServer: ok",!0,p):ln(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),ln(E,"TestPingServer: error",!1,p)})}function ln(u,p,E,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(E)}catch{}}function Bn(){this.g=new jc}function Xr(u,p,E){const S=E||"";try{Ns(u,function(P,Y){let le=P;v(P)&&(le=wn(P)),p.push(S+Y+"="+encodeURIComponent(le))})}catch(P){throw p.push(S+"type="+encodeURIComponent("_badmap")),P}}function Wn(u){this.l=u.Ub||null,this.j=u.eb||!1}C(Wn,Ur),Wn.prototype.g=function(){return new pn(this.l,this.j)},Wn.prototype.i=(function(u){return function(){return u}})({});function pn(u,p){Nt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(pn,Nt),s=pn.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ea(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||g).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ms(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ms(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ei(this):ea(this),this.readyState==3&&Ms(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},s.Qa=function(u){this.g&&(this.response=u,ei(this))},s.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ea(u)}s.setRequestHeader=function(u,p){this.u.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=p.next();return u.join(`\r
`)};function ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ka(u){let p="";return Ee(u,function(E,S){p+=S,p+=":",p+=E,p+=`\r
`}),p}function ta(u,p,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Ka(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):qe(u,p,E))}function nt(u){Nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,Nt);var Yt=/^https?$/i,yi=["POST","PUT"];s=nt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,p,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?ho(this.o):ho(Xn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Y){Ya(this,Y);return}if(u=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)E.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(yi,p,void 0))||S||P||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Ya(this,Y)}};function Ya(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,na(u),ia(u)}function na(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),ia(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ia(this,!0)),nt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Eo(this):this.bb())},s.bb=function(){Eo(this)};function Eo(u){if(u.h&&typeof m<"u"&&(!u.v[1]||an(u)!=4||u.Z()!=2)){if(u.u&&an(u)==4)co(u.Ea,0,u);else if(Dt(u,"readystatechange"),an(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var S;if(S=le===0){var P=String(u.D).match(Gr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),S=!Yt.test(P?P.toLowerCase():"")}E=S}if(E)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var Y=2<an(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",na(u)}}finally{ia(u)}}}}function ia(u,p){if(u.g){Os(u);const E=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Dt(u,"ready");try{E.onreadystatechange=S}catch{}}}function Os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function an(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),en(p)}};function Xa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(u){const p={};u=(u.g&&2<=an(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(te(u[S]))continue;var E=U(u[S]);const P=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=p[P]||[];p[P]=Y,Y.push(E)}O(p,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(u,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||p}function To(u){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,u),this.cb=$a("retryDelaySeedMs",1e4,u),this.Wa=$a("forwardChannelMaxRetries",2,u),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(u&&u.concurrentRequestLimit),this.Da=new Bn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=To.prototype,s.la=8,s.G=1,s.connect=function(u,p,E,S){zt(0),this.W=u,this.H=p||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=Co(this,null,this.W),Vs(this)};function $r(u){if(So(u),u.G==3){var p=u.U++,E=ht(u.I);if(qe(E,"SID",u.K),qe(E,"RID",p),qe(E,"TYPE","terminate"),Za(u,E),p=new $n(u,u.j,p),p.L=2,p.v=Qa(ht(E)),E=!1,g.navigator&&g.navigator.sendBeacon)try{E=g.navigator.sendBeacon(p.v.toString(),"")}catch{}!E&&g.Image&&(new Image().src=p.v,E=!0),E||(p.g=jo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),kn(p)}el(u)}function aa(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function So(u){aa(u),u.u&&(g.clearTimeout(u.u),u.u=null),sa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Vs(u){if(!Fr(u.h)&&!u.s){u.s=!0;var p=u.Ga;ie||Ue(),oe||(ie(),oe=!0),Le.add(p,u),u.B=0}}function Lc(u,p){return po(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qi(R(u.Ga,u,p),No(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new $n(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=x(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(P.H=Y,Y=null),this.P)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Zr(this,P,p),E=ht(this.I),qe(E,"RID",u),qe(E,"CVER",22),this.D&&qe(E,"X-HTTP-Session-Id",this.D),Za(this,E),Y&&(this.O?p="headers="+encodeURIComponent(String(Ka(Y)))+"&"+p:this.m&&ta(E,this.m,Y)),Zi(this.h,P),this.Ua&&qe(E,"TYPE","init"),this.P?(qe(E,"$req",p),qe(E,"SID","null"),P.T=!0,Ha(P,E,null)):Ha(P,E,p),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Fr(this.h)||Ao(this))};function Ao(u,p){var E;p?E=p.l:E=u.U++;const S=ht(u.I);qe(S,"SID",u.K),qe(S,"RID",E),qe(S,"AID",u.T),Za(u,S),u.m&&u.o&&ta(S,u.m,u.o),E=new $n(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Zr(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zi(u.h,E),Ha(E,S,p)}function Za(u,p){u.H&&Ee(u.H,function(E,S){qe(p,S,E)}),u.l&&Ns({},function(E,S){qe(p,S,E)})}function Zr(u,p,E){E=Math.min(u.i.length,E);var S=u.l?R(u.l.Na,u.l,u):null;e:{var P=u.i;let Y=-1;for(;;){const le=["count="+E];Y==-1?0<E?(Y=P[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let Ye=!0;for(let Et=0;Et<E;Et++){let je=P[Et].g;const Mt=P[Et].map;if(je-=Y,0>je)Y=Math.max(0,P[Et].g-100),Ye=!1;else try{Xr(Mt,le,"req"+je+"_")}catch{S&&S(Mt)}}if(Ye){S=le.join("&");break e}}}return u=u.i.splice(0,E),p.D=u,S}function wo(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ie||Ue(),oe||(ie(),oe=!0),Le.add(p,u),u.v=0}}function Jr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qi(R(u.Fa,u),No(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qi(R(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),aa(this),xo(this))};function Wr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new $n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ht(u.qa);qe(p,"RID","rpc"),qe(p,"SID",u.K),qe(p,"AID",u.T),qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(p,"TO",u.ja),qe(p,"TYPE","xmlhttp"),Za(u,p),u.m&&u.o&&ta(p,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Qa(ht(p)),E.m=null,E.P=!0,di(E,u)}s.Za=function(){this.C!=null&&(this.C=null,aa(this),Jr(this),zt(19))};function sa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ro(u,p){var E=null;if(u.g==p){sa(u),Wr(u),u.g=null;var S=2}else if($i(u.h,p))E=p.D,Rn(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){E=p.m?p.m.length:0,p=Date.now()-p.F;var P=u.B;S=xs(),Dt(S,new kr(S,E)),Vs(u)}else wo(u);else if(P=p.s,P==3||P==0&&0<p.X||!(S==1&&Lc(u,p)||S==2&&Jr(u)))switch(E&&0<E.length&&(p=u.h,p.i=p.i.concat(E)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function No(u,p){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*p}function vi(u,p){if(u.j.info("Error code "+p),p==2){var E=R(u.fb,u),S=u.Xa;const P=!S;S=new pi(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ji(S,"https"),Qa(S),P?Yr(S.toString(),E):_o(S.toString(),E)}else zt(2);u.G=0,u.l&&u.l.sa(p),el(u),So(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function el(u){if(u.G=0,u.ka=[],u.l){const p=nn(u.h);(p.length!=0||u.i.length!=0)&&(j(u.ka,p),j(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Co(u,p,E){var S=E instanceof pi?ht(E):new pi(E);if(S.g!="")p&&(S.g=p+"."+S.g),Ga(S,S.s);else{var P=g.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var Y=new pi(null);S&&Ji(Y,S),p&&(Y.g=p),P&&Ga(Y,P),E&&(Y.l=E),S=Y}return E=u.D,p=u.ya,E&&p&&qe(S,E,p),qe(S,"VER",u.la),Za(u,S),S}function jo(u,p,E){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new nt(new Wn({eb:E})):new nt(u.pa),p.Ha(u.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Do(){}s=Do.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ls(){}Ls.prototype.g=function(u,p){return new sn(u,p)};function sn(u,p){Nt.call(this),this.g=new To(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!te(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ra(this)}C(sn,Nt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){$r(this.g)},sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=wn(u),u=E);p.i.push(new Dc(p.Ya++,u)),p.G==3&&Vs(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,sn.aa.N.call(this)};function Io(u){Hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const E in p){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}C(Io,Hi);function Mo(){zn.call(this),this.status=1}C(Mo,zn);function ra(u){this.g=u}C(ra,Do),ra.prototype.ua=function(){Dt(this.g,"a")},ra.prototype.ta=function(u){Dt(this.g,new Io(u))},ra.prototype.sa=function(u){Dt(this.g,new Mo)},ra.prototype.ra=function(){Dt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,r0=function(){return new Ls},s0=function(){return xs()},a0=xn,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Zu=ct,kt.COMPLETE="complete",i0=kt,qa.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Bl=qa,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,n0=nt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore";class Zt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Dr="10.14.0";const Es=new X_("@firebase/firestore");function kl(){return Es.logLevel}function fe(s,...t){if(Es.logLevel<=Be.DEBUG){const i=t.map(Bd);Es.debug(`Firestore (${Dr}): ${s}`,...i)}}function zi(s,...t){if(Es.logLevel<=Be.ERROR){const i=t.map(Bd);Es.error(`Firestore (${Dr}): ${s}`,...i)}}function Er(s,...t){if(Es.logLevel<=Be.WARN){const i=t.map(Bd);Es.warn(`Firestore (${Dr}): ${s}`,...i)}}function Bd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s="Unexpected state"){const t=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: `+s;throw zi(t),new Error(t)}function mt(s,t){s||we()}function ke(s,t){return s}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends jr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class l0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class G1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Q1{constructor(t){this.t=t,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){mt(this.o===void 0);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vs,t.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vs)}}),0),m()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new l0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mt(t===null||typeof t=="string"),new Zt(t)}}class K1{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y1{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new K1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $1{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){mt(this.o===void 0);const r=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const m=c.token!==this.R;return this.R=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(mt(typeof i.token=="string"),this.R=i.token,new X1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Z1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class J1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=Z1(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=t.charAt(o[c]%t.length))}return r}}function Ke(s,t){return s<t?-1:s>t?1:0}function br(s,t,i){return s.length===t.length&&s.every(((r,o)=>i(r,t[o])))}class jt{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return jt.fromMillis(Date.now())}static fromDate(t){return jt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*i));return new jt(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ke(this.nanoseconds,t.nanoseconds):Ke(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Se(t)}static min(){return new Se(new jt(0,0))}static max(){return new Se(new jt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $l{constructor(t,i,r){i===void 0?i=0:i>t.length&&we(),r===void 0?r=t.length-i:r>t.length-i&&we(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return $l.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof $l?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const c=t.get(o),m=i.get(o);if(c<m)return-1;if(c>m)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class ut extends $l{construct(t,i,r){return new ut(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ut(i)}static emptyPath(){return new ut([])}}const W1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends $l{construct(t,i,r){return new Wt(t,i,r)}static isValidIdentifier(t){return W1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(t){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let m=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else g==="`"?(m=!m,o++):g!=="."||m?(r+=g,o++):(c(),o++)}if(c(),m)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wt(i)}static emptyPath(){return new Wt([])}}class _e{constructor(t){this.path=t}static fromPath(t){return new _e(ut.fromString(t))}static fromName(t){return new _e(ut.fromString(t).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ut.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ut.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _e(new ut(t.slice()))}}function ew(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new jt(i+1,0):new jt(i,r));return new Va(o,_e.empty(),t)}function tw(s){return new Va(s.readTime,s.key,-1)}class Va{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Va(Se.min(),_e.empty(),-1)}static max(){return new Va(Se.max(),_e.empty(),-1)}}function nw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,t.documentKey),i!==0?i:Ke(s.largestBatchId,t.largestBatchId))}const iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Pd(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==iw)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ne(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ne?i:ne.resolve(i)}catch(i){return ne.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ne.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ne.reject(i)}static resolve(t){return new ne(((i,r)=>{i(t)}))}static reject(t){return new ne(((i,r)=>{r(t)}))}static waitFor(t){return new ne(((i,r)=>{let o=0,c=0,m=!1;t.forEach((g=>{++o,g.next((()=>{++c,m&&c===o&&i()}),(y=>r(y)))})),m=!0,c===o&&i()}))}static or(t){let i=ne.resolve(!1);for(const r of t)i=i.next((o=>o?ne.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(t,i){return new ne(((r,o)=>{const c=t.length,m=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((b=>{m[v]=b,++g,g===c&&r(m)}),(b=>o(b)))}}))}static doWhile(t,i){return new ne(((r,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):r()};c()}))}}function sw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(s){return s.name==="IndexedDbTransactionError"}class qd{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}qd.oe=-1;function vc(s){return s==null}function uc(s){return s===0&&1/s==-1/0}function rw(s){return typeof s=="number"&&Number.isInteger(s)&&!uc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Cv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ao(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function o0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class _t{constructor(t,i){this.comparator=t,this.root=i||Ft.EMPTY}insert(t,i){return new _t(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(t){return new _t(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fu(this.root,t,this.comparator,!0)}}class Fu{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ft{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,c){return new Ft(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const t=this.left.check();if(t!==this.right.check())throw we();return t+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(t,i,r,o,c){return this}insert(t,i,r){return new Ft(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(t){this.comparator=t,this.data=new _t(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(t){return new jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Gt)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Gt(this.comparator);return i.data=t,i}}class jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Da{constructor(t){this.fields=t,t.sort(Wt.comparator)}static empty(){return new Da([])}unionWith(t){let i=new Gt(Wt.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Da(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return br(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class u0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new u0("Invalid base64 string: "+c):c}})(t);return new Qt(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let m=0;m<o.length;++m)c+=String.fromCharCode(o[m]);return c})(t);return new Qt(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ke(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(s){if(mt(!!s),typeof s=="string"){let t=0;const i=lw.exec(s);if(mt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function bs(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}function Hd(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Fd(s){const t=s.mapValue.fields.__previous_value__;return Hd(t)?Fd(t):t}function Zl(s){const t=La(s.mapValue.fields.__local_write_time__.timestampValue);return new jt(t.seconds,t.nanos)}class ow{constructor(t,i,r,o,c,m,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=m,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v}}class Jl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Jl&&t.projectId===this.projectId&&t.database===this.database}}const Gu={mapValue:{}};function Ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hd(s)?4:cw(s)?9007199254740991:uw(s)?10:11:we()}function li(s,t){if(s===t)return!0;const i=Ts(s);if(i!==Ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Zl(s).isEqual(Zl(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const m=La(o.timestampValue),g=La(c.timestampValue);return m.seconds===g.seconds&&m.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return bs(o.bytesValue).isEqual(bs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const m=vt(o.doubleValue),g=vt(c.doubleValue);return m===g?uc(m)===uc(g):isNaN(m)&&isNaN(g)}return!1})(s,t);case 9:return br(s.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return(function(o,c){const m=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Cv(m)!==Cv(g))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(g[y]===void 0||!li(m[y],g[y])))return!1;return!0})(s,t);default:return we()}}function Wl(s,t){return(s.values||[]).find((i=>li(i,t)))!==void 0}function Tr(s,t){if(s===t)return 0;const i=Ts(s),r=Ts(t);if(i!==r)return Ke(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,t.booleanValue);case 2:return(function(c,m){const g=vt(c.integerValue||c.doubleValue),y=vt(m.integerValue||m.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Dv(s.timestampValue,t.timestampValue);case 4:return Dv(Zl(s),Zl(t));case 5:return Ke(s.stringValue,t.stringValue);case 6:return(function(c,m){const g=bs(c),y=bs(m);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,m){const g=c.split("/"),y=m.split("/");for(let v=0;v<g.length&&v<y.length;v++){const b=Ke(g[v],y[v]);if(b!==0)return b}return Ke(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,m){const g=Ke(vt(c.latitude),vt(m.latitude));return g!==0?g:Ke(vt(c.longitude),vt(m.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Iv(s.arrayValue,t.arrayValue);case 10:return(function(c,m){var g,y,v,b;const A=c.fields||{},R=m.fields||{},z=(g=A.value)===null||g===void 0?void 0:g.arrayValue,C=(y=R.value)===null||y===void 0?void 0:y.arrayValue,G=Ke(((v=z?.values)===null||v===void 0?void 0:v.length)||0,((b=C?.values)===null||b===void 0?void 0:b.length)||0);return G!==0?G:Iv(z,C)})(s.mapValue,t.mapValue);case 11:return(function(c,m){if(c===Gu.mapValue&&m===Gu.mapValue)return 0;if(c===Gu.mapValue)return 1;if(m===Gu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=m.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const R=Ke(y[A],b[A]);if(R!==0)return R;const z=Tr(g[y[A]],v[b[A]]);if(z!==0)return z}return Ke(y.length,b.length)})(s.mapValue,t.mapValue);default:throw we()}}function Dv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ke(s,t);const i=La(s),r=La(t),o=Ke(i.seconds,r.seconds);return o!==0?o:Ke(i.nanos,r.nanos)}function Iv(s,t){const i=s.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Tr(i[o],r[o]);if(c)return c}return Ke(i.length,r.length)}function Sr(s){return hd(s)}function hd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=La(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return bs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=hd(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const m of r)c?c=!1:o+=",",o+=`${m}:${hd(i.fields[m])}`;return o+"}"})(s.mapValue):we()}function Mv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function fd(s){return!!s&&"integerValue"in s}function Gd(s){return!!s&&"arrayValue"in s}function Ov(s){return!!s&&"nullValue"in s}function Vv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qf(s){return!!s&&"mapValue"in s}function uw(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Hl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return ao(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Hl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function cw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class si{constructor(t){this.value=t}static empty(){return new si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Qf(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(i)}setAll(t){let i=Wt.emptyPath(),r={},o=[];t.forEach(((m,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=g.popLast()}m?r[g.lastSegment()]=Hl(m):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(t){const i=this.field(t.popLast());Qf(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){ao(i,((o,c)=>t[o]=c));for(const o of r)delete t[o]}clone(){return new si(Hl(this.value))}}class Jt{constructor(t,i,r,o,c,m,g){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=m,this.documentState=g}static newInvalidDocument(t){return new Jt(t,0,Se.min(),Se.min(),Se.min(),si.empty(),0)}static newFoundDocument(t,i,r,o){return new Jt(t,1,i,Se.min(),r,o,0)}static newNoDocument(t,i){return new Jt(t,2,i,Se.min(),Se.min(),si.empty(),0)}static newUnknownDocument(t,i){return new Jt(t,3,i,Se.min(),Se.min(),si.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cc{constructor(t,i){this.position=t,this.inclusive=i}}function Lv(s,t,i){let r=0;for(let o=0;o<s.position.length;o++){const c=t[o],m=s.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(m.referenceValue),i.key):r=Tr(m,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!li(s.position[i],t.position[i]))return!1;return!0}class eo{constructor(t,i="asc"){this.field=t,this.dir=i}}function hw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class c0{}class xt extends c0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new dw(t,i,r):i==="array-contains"?new gw(t,r):i==="in"?new yw(t,r):i==="not-in"?new vw(t,r):i==="array-contains-any"?new _w(t,r):new xt(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new mw(t,r):new pw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Tr(i,this.value)):i!==null&&Ts(this.value)===Ts(i)&&this.matchesComparison(Tr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends c0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Gn(t,i)}matches(t){return h0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h0(s){return s.op==="and"}function f0(s){return fw(s)&&h0(s)}function fw(s){for(const t of s.filters)if(t instanceof Gn)return!1;return!0}function dd(s){if(s instanceof xt)return s.field.canonicalString()+s.op.toString()+Sr(s.value);if(f0(s))return s.filters.map((t=>dd(t))).join(",");{const t=s.filters.map((i=>dd(i))).join(",");return`${s.op}(${t})`}}function d0(s,t){return s instanceof xt?(function(r,o){return o instanceof xt&&r.op===o.op&&r.field.isEqual(o.field)&&li(r.value,o.value)})(s,t):s instanceof Gn?(function(r,o){return o instanceof Gn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,m,g)=>c&&d0(m,o.filters[g])),!0):!1})(s,t):void we()}function m0(s){return s instanceof xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sr(i.value)}`})(s):s instanceof Gn?(function(i){return i.op.toString()+" {"+i.getFilters().map(m0).join(" ,")+"}"})(s):"Filter"}class dw extends xt{constructor(t,i,r){super(t,i,r),this.key=_e.fromName(r.referenceValue)}matches(t){const i=_e.comparator(t.key,this.key);return this.matchesComparison(i)}}class mw extends xt{constructor(t,i){super(t,"in",i),this.keys=p0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pw extends xt{constructor(t,i){super(t,"not-in",i),this.keys=p0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function p0(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class gw extends xt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gd(i)&&Wl(i.arrayValue,this.value)}}class yw extends xt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class vw extends xt{constructor(t,i){super(t,"not-in",i)}matches(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Wl(this.value.arrayValue,i)}}class _w extends xt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class Ew{constructor(t,i=null,r=[],o=[],c=null,m=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=m,this.endAt=g,this.ue=null}}function zv(s,t=null,i=[],r=[],o=null,c=null,m=null){return new Ew(s,t,i,r,o,c,m)}function Qd(s){const t=ke(s);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Sr(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Sr(r))).join(",")),t.ue=i}return t.ue}function Kd(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!d0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Uv(s.startAt,t.startAt)&&Uv(s.endAt,t.endAt)}function md(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ir{constructor(t,i=null,r=[],o=[],c=null,m="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=m,this.startAt=g,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bw(s,t,i,r,o,c,m,g){return new Ir(s,t,i,r,o,c,m,g)}function g0(s){return new Ir(s)}function kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function y0(s){return s.collectionGroup!==null}function Fl(s){const t=ke(s);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let g=new Gt(Wt.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new eo(c,r))})),i.has(Wt.keyField().canonicalString())||t.ce.push(new eo(Wt.keyField(),r))}return t.ce}function ri(s){const t=ke(s);return t.le||(t.le=Tw(t,Fl(s))),t.le}function Tw(s,t){if(s.limitType==="F")return zv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eo(o.field,c)}));const i=s.endAt?new cc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new cc(s.startAt.position,s.startAt.inclusive):null;return zv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function pd(s,t){const i=s.filters.concat([t]);return new Ir(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function hc(s,t,i){return new Ir(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _c(s,t){return Kd(ri(s),ri(t))&&s.limitType===t.limitType}function v0(s){return`${Qd(ri(s))}|lt:${s.limitType}`}function hr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>m0(o))).join(", ")}]`),vc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Sr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Sr(o))).join(",")),`Target(${r})`})(ri(s))}; limitType=${s.limitType})`}function Ec(s,t){return t.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,o){for(const c of Fl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(m,g,y){const v=Lv(m,g,y);return m.inclusive?v<=0:v<0})(r.startAt,Fl(r),o)||r.endAt&&!(function(m,g,y){const v=Lv(m,g,y);return m.inclusive?v>=0:v>0})(r.endAt,Fl(r),o))})(s,t)}function Sw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _0(s){return(t,i)=>{let r=!1;for(const o of Fl(s)){const c=Aw(o,t,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Aw(s,t,i){const r=s.field.isKeyField()?_e.comparator(t.key,i.key):(function(c,m,g){const y=m.data.field(c),v=g.data.field(c);return y!==null&&v!==null?Tr(y,v):we()})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}class Mr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ao(this.inner,((i,r)=>{for(const[o,c]of r)t(o,c)}))}isEmpty(){return o0(this.inner)}size(){return this.innerSize}}const ww=new _t(_e.comparator);function Ua(){return ww}const E0=new _t(_e.comparator);function Pl(...s){let t=E0;for(const i of s)t=t.insert(i.key,i);return t}function xw(s){let t=E0;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ps(){return Gl()}function b0(){return Gl()}function Gl(){return new Mr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Rw=new Gt(_e.comparator);function Pe(...s){let t=Rw;for(const i of s)t=t.add(i);return t}const Nw=new Gt(Ke);function Cw(){return Nw}function Yd(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(t)?"-0":t}}function T0(s){return{integerValue:""+s}}function jw(s,t){return rw(t)?T0(t):Yd(s,t)}class bc{constructor(){this._=void 0}}function Dw(s,t,i){return s instanceof gd?(function(o,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hd(c)&&(c=Fd(c)),c&&(m.fields.__previous_value__=c),{mapValue:m}})(i,t):s instanceof fc?S0(s,t):s instanceof dc?A0(s,t):(function(o,c){const m=Mw(o,c),g=Bv(m)+Bv(o.Pe);return fd(m)&&fd(o.Pe)?T0(g):Yd(o.serializer,g)})(s,t)}function Iw(s,t,i){return s instanceof fc?S0(s,t):s instanceof dc?A0(s,t):i}function Mw(s,t){return s instanceof yd?(function(r){return fd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class gd extends bc{}class fc extends bc{constructor(t){super(),this.elements=t}}function S0(s,t){const i=w0(t);for(const r of s.elements)i.some((o=>li(o,r)))||i.push(r);return{arrayValue:{values:i}}}class dc extends bc{constructor(t){super(),this.elements=t}}function A0(s,t){let i=w0(t);for(const r of s.elements)i=i.filter((o=>!li(o,r)));return{arrayValue:{values:i}}}class yd extends bc{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Bv(s){return vt(s.integerValue||s.doubleValue)}function w0(s){return Gd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Ow(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof fc&&o instanceof fc||r instanceof dc&&o instanceof dc?br(r.elements,o.elements,li):r instanceof yd&&o instanceof yd?li(r.Pe,o.Pe):r instanceof gd&&o instanceof gd})(s.transform,t.transform)}class _s{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new _s}static exists(t){return new _s(void 0,t)}static updateTime(t){return new _s(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ju(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Xd{}function x0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Lw(s.key,_s.none()):new $d(s.key,s.data,_s.none());{const i=s.data,r=si.empty();let o=new Gt(Wt.comparator);for(let c of t.fields)if(!o.has(c)){let m=i.field(c);m===null&&c.length>1&&(c=c.popLast(),m=i.field(c)),m===null?r.delete(c):r.set(c,m),o=o.add(c)}return new Tc(s.key,r,new Da(o.toArray()),_s.none())}}function Vw(s,t,i){s instanceof $d?(function(o,c,m){const g=o.value.clone(),y=qv(o.fieldTransforms,c,m.transformResults);g.setAll(y),c.convertToFoundDocument(m.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Tc?(function(o,c,m){if(!Ju(o.precondition,c))return void c.convertToUnknownDocument(m.version);const g=qv(o.fieldTransforms,c,m.transformResults),y=c.data;y.setAll(R0(o)),y.setAll(g),c.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,t,i):(function(o,c,m){c.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,i)}function Ql(s,t,i,r){return s instanceof $d?(function(c,m,g,y){if(!Ju(c.precondition,m))return g;const v=c.value.clone(),b=Hv(c.fieldTransforms,y,m);return v.setAll(b),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),null})(s,t,i,r):s instanceof Tc?(function(c,m,g,y){if(!Ju(c.precondition,m))return g;const v=Hv(c.fieldTransforms,y,m),b=m.data;return b.setAll(R0(c)),b.setAll(v),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,m,g){return Ju(c.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):g})(s,t,i)}function Pv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&br(r,o,((c,m)=>Ow(c,m)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class $d extends Xd{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tc extends Xd{constructor(t,i,r,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function R0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function qv(s,t,i){const r=new Map;mt(s.length===i.length);for(let o=0;o<i.length;o++){const c=s[o],m=c.transform,g=t.data.field(c.field);r.set(c.field,Iw(m,g,i[o]))}return r}function Hv(s,t,i){const r=new Map;for(const o of s){const c=o.transform,m=i.data.field(o.field);r.set(o.field,Dw(c,m,t))}return r}class Lw extends Xd{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uw{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Vw(c,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=b0();return this.mutations.forEach((o=>{const c=t.get(o.key),m=c.overlayedDocument;let g=this.applyToLocalView(m,c.mutatedFields);g=i.has(o.key)?null:g;const y=x0(m,g);y!==null&&r.set(o.key,y),m.isValidDocument()||m.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pe())}isEqual(t){return this.batchId===t.batchId&&br(this.mutations,t.mutations,((i,r)=>Pv(i,r)))&&br(this.baseMutations,t.baseMutations,((i,r)=>Pv(i,r)))}}class zw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kw{constructor(t,i){this.count=t,this.unchangedNames=i}}var wt,ze;function N0(s){if(s===void 0)return zi("GRPC error has no .code"),re.UNKNOWN;switch(s){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return we()}}(ze=wt||(wt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function Bw(){return new TextEncoder}const Pw=new ys([4294967295,4294967295],0);function Fv(s){const t=Bw().encode(s),i=new t0;return i.update(t),new Uint8Array(i.digest())}function Gv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ys([i,r],0),new ys([o,c],0)]}class Zd{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=ys.fromNumber(this.Ie)}Ee(t,i,r){let o=t.add(i.multiply(ys.fromNumber(r)));return o.compare(Pw)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=Fv(t),[r,o]=Gv(i);for(let c=0;c<this.hashCount;c++){const m=this.Ee(r,o,c);if(!this.de(m))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),m=new Zd(c,o,i);return r.forEach((g=>m.insert(g))),m}insert(t){if(this.Ie===0)return;const i=Fv(t),[r,o]=Gv(i);for(let c=0;c<this.hashCount;c++){const m=this.Ee(r,o,c);this.Ae(m)}}Ae(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sc{constructor(t,i,r,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,so.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sc(Se.min(),o,new _t(Ke),Ua(),Pe())}}class so{constructor(t,i,r,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new so(r,i,Pe(),Pe(),Pe())}}class Wu{constructor(t,i,r,o){this.Re=t,this.removedTargetIds=i,this.key=r,this.Ve=o}}class C0{constructor(t,i){this.targetId=t,this.me=i}}class j0{constructor(t,i,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Qv{constructor(){this.fe=0,this.ge=Yv(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Pe(),i=Pe(),r=Pe();return this.ge.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:we()}})),new so(this.pe,this.ye,t,i,r)}Ce(){this.we=!1,this.ge=Yv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qw{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ua(),this.qe=Kv(),this.Qe=new _t(Ke)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const r=this.Ge(i);switch(t.state){case 0:this.ze(i)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),r.De(t.resumeToken));break;default:we()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((r,o)=>{this.ze(o)&&i(o)}))}He(t){const i=t.targetId,r=t.me.count,o=this.Je(i);if(o){const c=o.target;if(md(c))if(r===0){const m=new _e(c.path);this.Ue(i,m,Jt.newNoDocument(m,Se.min()))}else mt(r===1);else{const m=this.Ye(i);if(m!==r){const g=this.Ze(t),y=g?this.Xe(g,t,m):1;if(y!==0){this.je(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let m,g;try{m=bs(r).toUint8Array()}catch(y){if(y instanceof u0)return Er("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Zd(m,o,c)}catch(y){return Er(y instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ie===0?null:g}Xe(t,i,r){return i.me.count===r-this.nt(t,i.targetId)?0:2}nt(t,i){const r=this.Le.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const m=this.Le.tt(),g=`projects/${m.projectId}/databases/${m.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,c,null),o++)})),o}rt(t){const i=new Map;this.Be.forEach(((c,m)=>{const g=this.Je(m);if(g){if(c.current&&md(g.target)){const y=new _e(g.target.path);this.ke.get(y)!==null||this.it(m,y)||this.Ue(m,y,Jt.newNoDocument(y,t))}c.be&&(i.set(m,c.ve()),c.Ce())}}));let r=Pe();this.qe.forEach(((c,m)=>{let g=!0;m.forEachWhile((y=>{const v=this.Je(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.ke.forEach(((c,m)=>m.setReadTime(t)));const o=new Sc(t,i,this.Qe,this.ke,r);return this.ke=Ua(),this.qe=Kv(),this.Qe=new _t(Ke),o}$e(t,i){if(!this.ze(t))return;const r=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,r),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,r){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),r&&(this.ke=this.ke.insert(i,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Qv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Gt(Ke),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||fe("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Qv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Kv(){return new _t(_e.comparator)}function Yv(){return new _t(_e.comparator)}const Hw={asc:"ASCENDING",desc:"DESCENDING"},Fw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Qw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vd(s,t){return s.useProto3Json||vc(t)?t:{value:t}}function _d(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function D0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function pr(s){return mt(!!s),Se.fromTimestamp((function(i){const r=La(i);return new jt(r.seconds,r.nanos)})(s))}function I0(s,t){return Ed(s,t).canonicalString()}function Ed(s,t){const i=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function M0(s){const t=ut.fromString(s);return mt(z0(t)),t}function Kf(s,t){const i=M0(t);if(i.get(1)!==s.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(V0(i))}function O0(s,t){return I0(s.databaseId,t)}function Kw(s){const t=M0(s);return t.length===4?ut.emptyPath():V0(t)}function Xv(s){return new ut(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function V0(s){return mt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Yw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we()})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(mt(b===void 0||typeof b=="string"),Qt.fromBase64String(b||"")):(mt(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Qt.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),m=t.targetChange.cause,g=m&&(function(v){const b=v.code===void 0?re.UNKNOWN:N0(v.code);return new de(b,v.message||"")})(m);i=new j0(r,o,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kf(s,r.document.name),c=pr(r.document.updateTime),m=r.document.createTime?pr(r.document.createTime):Se.min(),g=new si({mapValue:{fields:r.document.fields}}),y=Jt.newFoundDocument(o,c,m,g),v=r.targetIds||[],b=r.removedTargetIds||[];i=new Wu(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Kf(s,r.document),c=r.readTime?pr(r.readTime):Se.min(),m=Jt.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Wu([],g,m.key,m)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Kf(s,r.document),c=r.removedTargetIds||[];i=new Wu([],c,o,null)}else{if(!("filter"in t))return we();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,m=new kw(o,c),g=r.targetId;i=new C0(g,m)}}return i}function Xw(s,t){return{documents:[O0(s,t.path)]}}function $w(s,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=O0(s,o);const c=(function(v){if(v.length!==0)return U0(Gn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const m=(function(v){if(v.length!==0)return v.map((b=>(function(R){return{field:fr(R.field),direction:Ww(R.dir)}})(b)))})(t.orderBy);m&&(i.structuredQuery.orderBy=m);const g=vd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:o}}function Zw(s){let t=Kw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){mt(r===1);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const R=L0(A);return R instanceof Gn&&f0(R)?R.getFilters():[R]})(i.where));let m=[];i.orderBy&&(m=(function(A){return A.map((R=>(function(C){return new eo(dr(C.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(R)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let R;return R=typeof A=="object"?A.value:A,vc(R)?null:R})(i.limit));let y=null;i.startAt&&(y=(function(A){const R=!!A.before,z=A.values||[];return new cc(z,R)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const R=!A.before,z=A.values||[];return new cc(z,R)})(i.endAt)),bw(t,o,m,c,g,"F",y,v)}function Jw(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function L0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=dr(i.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=dr(i.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=dr(i.unaryFilter.field);return xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=dr(i.unaryFilter.field);return xt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return we()}})(s):s.fieldFilter!==void 0?(function(i){return xt.create(dr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gn.create(i.compositeFilter.filters.map((r=>L0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}})(i.compositeFilter.op))})(s):we()}function Ww(s){return Hw[s]}function ex(s){return Fw[s]}function tx(s){return Gw[s]}function fr(s){return{fieldPath:s.canonicalString()}}function dr(s){return Wt.fromServerFormat(s.fieldPath)}function U0(s){return s instanceof xt?(function(i){if(i.op==="=="){if(Vv(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NAN"}};if(Ov(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Vv(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NOT_NAN"}};if(Ov(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fr(i.field),op:ex(i.op),value:i.value}}})(s):s instanceof Gn?(function(i){const r=i.getFilters().map((o=>U0(o)));return r.length===1?r[0]:{compositeFilter:{op:tx(i.op),filters:r}}})(s):we()}function z0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ia{constructor(t,i,r,o,c=Se.min(),m=Se.min(),g=Qt.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class nx{constructor(t){this.ct=t}}function ix(s){const t=Zw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hc(t,t.limit,"L"):t}class ax{constructor(){this.un=new sx}addToCollectionParentIndex(t,i){return this.un.add(i),ne.resolve()}getCollectionParents(t,i){return ne.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return ne.resolve()}deleteFieldIndex(t,i){return ne.resolve()}deleteAllFieldIndexes(t){return ne.resolve()}createTargetIndexes(t,i){return ne.resolve()}getDocumentsMatchingTarget(t,i){return ne.resolve(null)}getIndexType(t,i){return ne.resolve(0)}getFieldIndexes(t,i){return ne.resolve([])}getNextCollectionGroupToUpdate(t){return ne.resolve(null)}getMinOffset(t,i){return ne.resolve(Va.min())}getMinOffsetFromCollectionGroup(t,i){return ne.resolve(Va.min())}updateCollectionGroup(t,i,r){return ne.resolve()}updateIndexEntries(t,i){return ne.resolve()}}class sx{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Gt(ut.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Gt(ut.comparator)).toArray()}}class Ar{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ar(0)}static kn(){return new Ar(-1)}}class rx{constructor(){this.changes=new Mr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Jt.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ne.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ox{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Ql(r.mutation,o,Da.empty(),jt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Pe()){const o=ps();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((c=>{let m=Pl();return c.forEach(((g,y)=>{m=m.insert(g,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,i){const r=ps();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Pe())))}populateOverlays(t,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((m,g)=>{i.set(m,g)}))}))}computeViews(t,i,r,o){let c=Ua();const m=Gl(),g=(function(){return Gl()})();return i.forEach(((y,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Tc)?c=c.insert(v.key,v):b!==void 0?(m.set(v.key,b.mutation.getFieldMask()),Ql(b.mutation,v,b.mutation.getFieldMask(),jt.now())):m.set(v.key,Da.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,b)=>m.set(v,b))),i.forEach(((v,b)=>{var A;return g.set(v,new lx(b,(A=m.get(v))!==null&&A!==void 0?A:null))})),g)))}recalculateAndSaveOverlays(t,i){const r=Gl();let o=new _t(((m,g)=>m-g)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((m=>{for(const g of m)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let b=r.get(y)||Da.empty();b=g.applyToLocalView(v,b),r.set(y,b);const A=(o.get(g.batchId)||Pe()).add(y);o=o.insert(g.batchId,A)}))})).next((()=>{const m=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,b=y.value,A=b0();b.forEach((R=>{if(!c.has(R)){const z=x0(i.get(R),r.get(R));z!==null&&A.set(R,z),c=c.add(R)}})),m.push(this.documentOverlayCache.saveOverlays(t,v,A))}return ne.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(m){return _e.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):y0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((c=>{const m=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-c.size):ne.resolve(ps());let g=-1,y=c;return m.next((v=>ne.forEach(v,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(t,b).next((R=>{y=y.insert(b,R)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Pe()))).next((b=>({batchId:g,changes:xw(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _e(i)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const c=i.collectionGroup;let m=Pl();return this.indexManager.getCollectionParents(t,c).next((g=>ne.forEach(g,(y=>{const v=(function(A,R){return new Ir(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((b=>{b.forEach(((A,R)=>{m=m.insert(A,R)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,o)))).next((m=>{c.forEach(((y,v)=>{const b=v.getKey();m.get(b)===null&&(m=m.insert(b,Jt.newInvalidDocument(b)))}));let g=Pl();return m.forEach(((y,v)=>{const b=c.get(y);b!==void 0&&Ql(b.mutation,v,Da.empty(),jt.now()),Ec(i,v)&&(g=g.insert(y,v))})),g}))}}class ux{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return ne.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}})(i)),ne.resolve()}getNamedQuery(t,i){return ne.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:ix(o.bundledQuery),readTime:pr(o.readTime)}})(i)),ne.resolve()}}class cx{constructor(){this.overlays=new _t(_e.comparator),this.Ir=new Map}getOverlay(t,i){return ne.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ps();return ne.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,c)=>{this.ht(t,i,c)})),ne.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(r)),ne.resolve()}getOverlaysForCollection(t,i,r){const o=ps(),c=i.length+1,m=new _e(i.child("")),g=this.overlays.getIteratorFrom(m);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ne.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let c=new _t(((v,b)=>v-b));const m=this.overlays.getIterator();for(;m.hasNext();){const v=m.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=c.get(v.largestBatchId);b===null&&(b=ps(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=ps(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=o)););return ne.resolve(g)}ht(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const m=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new zw(i,r));let c=this.Ir.get(i);c===void 0&&(c=Pe(),this.Ir.set(i,c)),this.Ir.set(i,c.add(r.key))}}class hx{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(t){return ne.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ne.resolve()}}class Jd{constructor(){this.Tr=new Gt(Lt.Er),this.dr=new Gt(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const r=new Lt(t,i);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Vr(new Lt(t,i))}mr(t,i){t.forEach((r=>this.removeReference(r,i)))}gr(t){const i=new _e(new ut([])),r=new Lt(i,t),o=new Lt(i,t+1),c=[];return this.dr.forEachInRange([r,o],(m=>{this.Vr(m),c.push(m.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new _e(new ut([])),r=new Lt(i,t),o=new Lt(i,t+1);let c=Pe();return this.dr.forEachInRange([r,o],(m=>{c=c.add(m.key)})),c}containsKey(t){const i=new Lt(t,0),r=this.Tr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Lt{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return _e.comparator(t.key,i.key)||Ke(t.wr,i.wr)}static Ar(t,i){return Ke(t.wr,i.wr)||_e.comparator(t.key,i.key)}}class fx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Gt(Lt.Er)}checkEmpty(t){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new Uw(c,i,r,o);this.mutationQueue.push(m);for(const g of o)this.br=this.br.add(new Lt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return ne.resolve(m)}lookupMutationBatch(t,i){return ne.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.vr(r),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([r,o],(m=>{const g=this.Dr(m.wr);c.push(g)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Gt(Ke);return i.forEach((o=>{const c=new Lt(o,0),m=new Lt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,m],(g=>{r=r.add(g.wr)}))})),ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const m=new Lt(new _e(c),0);let g=new Gt(Ke);return this.br.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.wr)),!0)}),m),ne.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((r=>{const o=this.Dr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){mt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ne.forEach(i.mutations,(o=>{const c=new Lt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.br=r}))}On(t){}containsKey(t,i){const r=new Lt(i,0),o=this.br.firstAfterOrEqual(r);return ne.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ne.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dx{constructor(t){this.Mr=t,this.docs=(function(){return new _t(_e.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,m=this.Mr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:m}),this.size+=m-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ne.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(t,i){let r=Ua();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let c=Ua();const m=i.path,g=new _e(m.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!m.isPrefixOf(v.path))break;v.path.length>m.length+1||nw(tw(b),r)<=0||(o.has(b.key)||Ec(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(t,i,r,o){we()}Or(t,i){return ne.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new mx(this)}getSize(t){return ne.resolve(this.size)}}class mx extends rx{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(t,o)):this.cr.removeEntry(r)})),ne.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class px{constructor(t){this.persistence=t,this.Nr=new Mr((i=>Qd(i)),Kd),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jd,this.targetCount=0,this.kr=Ar.Bn()}forEachTarget(t,i){return this.Nr.forEach(((r,o)=>i(o))),ne.resolve()}getLastRemoteSnapshotVersion(t){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ne.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Lr&&(this.Lr=i),ne.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Ar(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,ne.resolve()}updateTargetData(t,i){return this.Kn(i),ne.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,ne.resolve()}removeTargets(t,i,r){let o=0;const c=[];return this.Nr.forEach(((m,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Nr.delete(m),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(t){return ne.resolve(this.targetCount)}getTargetData(t,i){const r=this.Nr.get(i)||null;return ne.resolve(r)}addMatchingKeys(t,i,r){return this.Br.Rr(i,r),ne.resolve()}removeMatchingKeys(t,i,r){this.Br.mr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((m=>{c.push(o.markPotentiallyOrphaned(t,m))})),ne.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),ne.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Br.yr(i);return ne.resolve(r)}containsKey(t,i){return ne.resolve(this.Br.containsKey(i))}}class gx{constructor(t,i){this.qr={},this.overlays={},this.Qr=new qd(0),this.Kr=!1,this.Kr=!0,this.$r=new hx,this.referenceDelegate=t(this),this.Ur=new px(this),this.indexManager=new ax,this.remoteDocumentCache=(function(o){return new dx(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new nx(i),this.Gr=new ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.qr[t.toKey()];return r||(r=new fx(i,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,r){fe("MemoryPersistence","Starting transaction:",t);const o=new yx(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((c=>this.referenceDelegate.jr(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Hr(t,i){return ne.or(Object.values(this.qr).map((r=>()=>r.containsKey(t,i))))}}class yx extends aw{constructor(t){super(),this.currentSequenceNumber=t}}class Wd{constructor(t){this.persistence=t,this.Jr=new Jd,this.Yr=null}static Zr(t){return new Wd(t)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(t,i,r){return this.Jr.addReference(r,i),this.Xr.delete(r.toString()),ne.resolve()}removeReference(t,i,r){return this.Jr.removeReference(r,i),this.Xr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),ne.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.Xr.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(r=>{const o=_e.fromPath(r);return this.ei(t,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((r=>{r?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return ne.or([()=>ne.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class em{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.$i=r,this.Ui=o}static Wi(t,i){let r=Pe(),o=Pe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new em(t,i.fromCache,r,o)}}class vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _x{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return NA()?8:sw(xA())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,r,o){const c={result:null};return this.Yi(t,i).next((m=>{c.result=m})).next((()=>{if(!c.result)return this.Zi(t,i,o,r).next((m=>{c.result=m}))})).next((()=>{if(c.result)return;const m=new vx;return this.Xi(t,i,m).next((g=>{if(c.result=g,this.zi)return this.es(t,i,m,g.size)}))})).next((()=>c.result))}es(t,i,r,o){return r.documentReadCount<this.ji?(kl()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",hr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(kl()<=Be.DEBUG&&fe("QueryEngine","Query:",hr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(kl()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",hr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(i))):ne.resolve())}Yi(t,i){if(kv(i))return ne.resolve(null);let r=ri(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hc(i,null,"F"),r=ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const m=Pe(...c);return this.Ji.getDocuments(t,m).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const v=this.ts(i,g);return this.ns(i,v,m,y.readTime)?this.Yi(t,hc(i,null,"F")):this.rs(t,v,i,y)}))))})))))}Zi(t,i,r,o){return kv(i)||o.isEqual(Se.min())?ne.resolve(null):this.Ji.getDocuments(t,r).next((c=>{const m=this.ts(i,c);return this.ns(i,m,r,o)?ne.resolve(null):(kl()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hr(i)),this.rs(t,m,i,ew(o,-1)).next((g=>g)))}))}ts(t,i){let r=new Gt(_0(t));return i.forEach(((o,c)=>{Ec(t,c)&&(r=r.add(c))})),r}ns(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(t,i,r){return kl()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",hr(i)),this.Ji.getDocumentsMatchingQuery(t,i,Va.min(),r)}rs(t,i,r,o){return this.Ji.getDocumentsMatchingQuery(t,r,o).next((c=>(i.forEach((m=>{c=c.insert(m.key,m)})),c)))}}class Ex{constructor(t,i,r,o){this.persistence=t,this.ss=i,this.serializer=o,this.os=new _t(Ke),this._s=new Mr((c=>Qd(c)),Kd),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ox(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function bx(s,t,i,r){return new Ex(s,t,i,r)}async function k0(s,t){const i=ke(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.ls(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const m=[],g=[];let y=Pe();for(const v of o){m.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of c){g.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next((v=>({hs:v,removedBatchIds:m,addedBatchIds:g})))}))}))}function B0(s){const t=ke(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function Tx(s,t){const i=ke(s),r=t.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const m=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];t.targetChanges.forEach(((b,A)=>{const R=o.get(A);if(!R)return;g.push(i.Ur.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Ur.addMatchingKeys(c,b.addedDocuments,A))));let z=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?z=z.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,r)),o=o.insert(A,z),(function(G,j,Q){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(R,z,b)&&g.push(i.Ur.updateTargetData(c,z))}));let y=Ua(),v=Pe();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(Sx(c,m,t.documentUpdates).next((b=>{y=b.Ps,v=b.Is}))),!r.isEqual(Se.min())){const b=i.Ur.getLastRemoteSnapshotVersion(c).next((A=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return ne.waitFor(g).next((()=>m.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.os=o,c)))}function Sx(s,t,i){let r=Pe(),o=Pe();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let m=Ua();return i.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(t.removeEntry(g,y.readTime),m=m.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),m=m.insert(g,y)):fe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Ps:m,Is:o}}))}function Ax(s,t){const i=ke(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Ur.getTargetData(r,t).next((c=>c?(o=c,ne.resolve(o)):i.Ur.allocateTargetId(r).next((m=>(o=new Ia(t,m,"TargetPurposeListen",r.currentSequenceNumber),i.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(r.targetId,r),i._s.set(t,r.targetId)),r}))}async function bd(s,t,i){const r=ke(s),o=r.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(m=>r.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!io(m))throw m;fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${m}`)}r.os=r.os.remove(t),r._s.delete(o.target)}function $v(s,t,i){const r=ke(s);let o=Se.min(),c=Pe();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,v,b){const A=ke(y),R=A._s.get(b);return R!==void 0?ne.resolve(A.os.get(R)):A.Ur.getTargetData(v,b)})(r,m,ri(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(m,g.targetId).next((y=>{c=y}))})).next((()=>r.ss.getDocumentsMatchingQuery(m,t,i?o:Se.min(),i?c:Pe()))).next((g=>(wx(r,Sw(t),g),{documents:g,Ts:c})))))}function wx(s,t,i){let r=s.us.get(t)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.us.set(t,r)}class Zv{constructor(){this.activeTargetIds=Cw()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xx{constructor(){this.so=new Zv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,r){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Zv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Rx{_o(t){}shutdown(){}}class Jv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qu=null;function Yf(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}const Nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cx{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const $t="WebChannelConnection";class jx extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const r=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+i.host,this.vo=`projects/${o}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(i,r,o,c,m){const g=Yf(),y=this.xo(i,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${i}' ${g}:`,y,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,m),this.No(i,y,v,o).then((b=>(fe("RestConnection",`Received RPC '${i}' ${g}: `,b),b)),(b=>{throw Er("RestConnection",`RPC '${i}' ${g} failed with error: `,b,"url: ",y,"request:",o),b}))}Lo(i,r,o,c,m,g){return this.Mo(i,r,o,c,m)}Oo(i,r,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((c,m)=>i[m]=c)),o&&o.headers.forEach(((c,m)=>i[m]=c))}xo(i,r){const o=Nx[i];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,r,o){const c=Yf();return new Promise(((m,g)=>{const y=new n0;y.setWithCredentials(!0),y.listenOnce(i0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zu.NO_ERROR:const b=y.getResponseJson();fe($t,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case Zu.TIMEOUT:fe($t,`RPC '${t}' ${c} timed out`),g(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const A=y.getStatus();if(fe($t,`RPC '${t}' ${c} failed with status:`,A,"response text:",y.getResponseText()),A>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const z=R?.error;if(z&&z.status&&z.message){const C=(function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Q)>=0?Q:re.UNKNOWN})(z.status);g(new de(C,z.message))}else g(new de(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(re.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{fe($t,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);fe($t,`RPC '${t}' ${c} sending request:`,o),y.send(i,"POST",v,r,15)}))}Bo(t,i,r){const o=Yf(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=r0(),g=s0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const b=c.join("");fe($t,`Creating RPC '${t}' stream ${o}: ${b}`,y);const A=m.createWebChannel(b,y);let R=!1,z=!1;const C=new Cx({Io:j=>{z?fe($t,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(R||(fe($t,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),fe($t,`RPC '${t}' stream ${o} sending:`,j),A.send(j))},To:()=>A.close()}),G=(j,Q,te)=>{j.listen(Q,(se=>{try{te(se)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return G(A,Bl.EventType.OPEN,(()=>{z||(fe($t,`RPC '${t}' stream ${o} transport opened.`),C.yo())})),G(A,Bl.EventType.CLOSE,(()=>{z||(z=!0,fe($t,`RPC '${t}' stream ${o} transport closed`),C.So())})),G(A,Bl.EventType.ERROR,(j=>{z||(z=!0,Er($t,`RPC '${t}' stream ${o} transport errored:`,j),C.So(new de(re.UNAVAILABLE,"The operation could not be completed")))})),G(A,Bl.EventType.MESSAGE,(j=>{var Q;if(!z){const te=j.data[0];mt(!!te);const se=te,pe=se.error||((Q=se[0])===null||Q===void 0?void 0:Q.error);if(pe){fe($t,`RPC '${t}' stream ${o} received error:`,pe);const xe=pe.status;let Ee=(function(N){const M=wt[N];if(M!==void 0)return N0(M)})(xe),O=pe.message;Ee===void 0&&(Ee=re.INTERNAL,O="Unknown error status: "+xe+" with message "+pe.message),z=!0,C.So(new de(Ee,O)),A.close()}else fe($t,`RPC '${t}' stream ${o} received:`,te),C.bo(te)}})),G(g,a0.STAT_EVENT,(j=>{j.stat===cd.PROXY?fe($t,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===cd.NOPROXY&&fe($t,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{C.wo()}),0),C}}function Xf(){return typeof document<"u"?document:null}function Ac(s){return new Qw(s,!0)}class P0{constructor(t,i,r=1e3,o=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=r,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Dx{constructor(t,i,r,o,c,m,g,y){this.ui=t,this.Ho=r,this.Jo=o,this.connection=c,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new P0(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===re.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===i&&this.P_(r,o)}),(r=>{t((()=>{const o=new de(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(t,i){const r=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ix extends Dx{constructor(t,i,r,o,c,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,m),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=Yw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Se.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Se.min():m.readTime?pr(m.readTime):Se.min()})(t);return this.listener.d_(i,r)}A_(t){const i={};i.database=Xv(this.serializer),i.addTarget=(function(c,m){let g;const y=m.target;if(g=md(y)?{documents:Xw(c,y)}:{query:$w(c,y)._t},g.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){g.resumeToken=D0(c,m.resumeToken);const v=vd(c,m.expectedCount);v!==null&&(g.expectedCount=v)}else if(m.snapshotVersion.compareTo(Se.min())>0){g.readTime=_d(c,m.snapshotVersion.toTimestamp());const v=vd(c,m.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const r=Jw(this.serializer,t);r&&(i.labels=r),this.a_(i)}R_(t){const i={};i.database=Xv(this.serializer),i.removeTarget=t,this.a_(i)}}class Mx extends class{}{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Mo(t,Ed(i,r),o,c,m))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(re.UNKNOWN,c.toString())}))}Lo(t,i,r,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,g])=>this.connection.Lo(t,Ed(i,r),o,m,g,c))).catch((m=>{throw m.name==="FirebaseError"?(m.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new de(re.UNKNOWN,m.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Ox{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zi(i),this.D_=!1):fe("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class Vx{constructor(t,i,r,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((m=>{r.enqueueAndForget((async()=>{lo(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const v=ke(y);v.L_.add(4),await ro(v),v.q_.set("Unknown"),v.L_.delete(4),await wc(v)})(this))}))})),this.q_=new Ox(r,o)}}async function wc(s){if(lo(s))for(const t of s.B_)await t(!0)}async function ro(s){for(const t of s.B_)await t(!1)}function q0(s,t){const i=ke(s);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),am(i)?im(i):Or(i).r_()&&nm(i,t))}function tm(s,t){const i=ke(s),r=Or(i);i.N_.delete(t),r.r_()&&H0(i,t),i.N_.size===0&&(r.r_()?r.o_():lo(i)&&i.q_.set("Unknown"))}function nm(s,t){if(s.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Or(s).A_(t)}function H0(s,t){s.Q_.xe(t),Or(s).R_(t)}function im(s){s.Q_=new qw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>s.N_.get(t)||null,tt:()=>s.datastore.serializer.databaseId}),Or(s).start(),s.q_.v_()}function am(s){return lo(s)&&!Or(s).n_()&&s.N_.size>0}function lo(s){return ke(s).L_.size===0}function F0(s){s.Q_=void 0}async function Lx(s){s.q_.set("Online")}async function Ux(s){s.N_.forEach(((t,i)=>{nm(s,t)}))}async function zx(s,t){F0(s),am(s)?(s.q_.M_(t),im(s)):s.q_.set("Unknown")}async function kx(s,t,i){if(s.q_.set("Online"),t instanceof j0&&t.state===2&&t.cause)try{await(async function(o,c){const m=c.cause;for(const g of c.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,m),o.N_.delete(g),o.Q_.removeTarget(g))})(s,t)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Wv(s,r)}else if(t instanceof Wu?s.Q_.Ke(t):t instanceof C0?s.Q_.He(t):s.Q_.We(t),!i.isEqual(Se.min()))try{const r=await B0(s.localStore);i.compareTo(r)>=0&&await(function(c,m){const g=c.Q_.rt(m);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.N_.get(v);b&&c.N_.set(v,b.withResumeToken(y.resumeToken,m))}})),g.targetMismatches.forEach(((y,v)=>{const b=c.N_.get(y);if(!b)return;c.N_.set(y,b.withResumeToken(Qt.EMPTY_BYTE_STRING,b.snapshotVersion)),H0(c,y);const A=new Ia(b.target,y,v,b.sequenceNumber);nm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Wv(s,r)}}async function Wv(s,t,i){if(!io(t))throw t;s.L_.add(1),await ro(s),s.q_.set("Offline"),i||(i=()=>B0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await wc(s)}))}async function e_(s,t){const i=ke(s);i.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=lo(i);i.L_.add(3),await ro(i),r&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await wc(i)}async function Bx(s,t){const i=ke(s);t?(i.L_.delete(2),await wc(i)):t||(i.L_.add(2),await ro(i),i.q_.set("Unknown"))}function Or(s){return s.K_||(s.K_=(function(i,r,o){const c=ke(i);return c.w_(),new Ix(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Eo:Lx.bind(null,s),Ro:Ux.bind(null,s),mo:zx.bind(null,s),d_:kx.bind(null,s)}),s.B_.push((async t=>{t?(s.K_.s_(),am(s)?im(s):s.q_.set("Unknown")):(await s.K_.stop(),F0(s))}))),s.K_}class sm{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const m=Date.now()+r,g=new sm(t,i,m,o,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G0(s,t){if(zi("AsyncQueue",`${t}: ${s}`),io(s))return new de(re.UNAVAILABLE,`${t}: ${s}`);throw s}class gr{constructor(t){this.comparator=t?(i,r)=>t(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new _t(this.comparator)}static emptySet(t){return new gr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof gr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new gr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class t_{constructor(){this.W_=new _t(_e.comparator)}track(t){const i=t.doc.key,r=this.W_.get(i);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(i,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(i):t.type===1&&r.type===2?this.W_=this.W_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):we():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,r)=>{t.push(r)})),t}}class wr{constructor(t,i,r,o,c,m,g,y,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=m,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,o,c){const m=[];return i.forEach((g=>{m.push({type:0,doc:g})})),new wr(t,i,gr.emptySet(i),m,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class Px{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class qx{constructor(){this.queries=n_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,r){const o=ke(i),c=o.queries;o.queries=n_(),c.forEach(((m,g)=>{for(const y of g.j_)y.onError(r)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function n_(){return new Mr((s=>v0(s)),_c)}async function Hx(s,t){const i=ke(s);let r=3;const o=t.query;let c=i.queries.get(o);c?!c.H_()&&t.J_()&&(r=2):(c=new Px,r=t.J_()?0:1);try{switch(r){case 0:c.z_=await i.onListen(o,!0);break;case 1:c.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const g=G0(m,`Initialization of query '${hr(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&rm(i)}async function Fx(s,t){const i=ke(s),r=t.query;let o=3;const c=i.queries.get(r);if(c){const m=c.j_.indexOf(t);m>=0&&(c.j_.splice(m,1),c.j_.length===0?o=t.J_()?0:1:!c.H_()&&t.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Gx(s,t){const i=ke(s);let r=!1;for(const o of t){const c=o.query,m=i.queries.get(c);if(m){for(const g of m.j_)g.X_(o)&&(r=!0);m.z_=o}}r&&rm(i)}function Qx(s,t,i){const r=ke(s),o=r.queries.get(t);if(o)for(const c of o.j_)c.onError(i);r.queries.delete(t)}function rm(s){s.Y_.forEach((t=>{t.next()}))}var Td,i_;(i_=Td||(Td={})).ea="default",i_.Cache="cache";class Kx{constructor(t,i,r){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new wr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const r=i!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=wr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Td.Cache}}class Q0{constructor(t){this.key=t}}class K0{constructor(t){this.key=t}}class Yx{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=_0(t),this.Ra=new gr(this.Aa)}get Va(){return this.Ta}ma(t,i){const r=i?i.fa:new t_,o=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,m=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const R=o.get(b),z=Ec(this.query,A)?A:null,C=!!R&&this.mutatedKeys.has(R.key),G=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let j=!1;R&&z?R.data.isEqual(z.data)?C!==G&&(r.track({type:3,doc:z}),j=!0):this.ga(R,z)||(r.track({type:2,doc:z}),j=!0,(y&&this.Aa(z,y)>0||v&&this.Aa(z,v)<0)&&(g=!0)):!R&&z?(r.track({type:0,doc:z}),j=!0):R&&!z&&(r.track({type:1,doc:R}),j=!0,(y||v)&&(g=!0)),j&&(z?(m=m.add(z),c=G?c.add(b):c.delete(b)):(m=m.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const b=this.query.limitType==="F"?m.last():m.first();m=m.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{Ra:m,fa:r,ns:g,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const m=t.fa.G_();m.sort(((b,A)=>(function(z,C){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return G(z)-G(C)})(b.type,A.type)||this.Aa(b.doc,A.doc))),this.pa(r),o=o!=null&&o;const g=i&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,v=y!==this.Ea;return this.Ea=y,m.length!==0||v?{snapshot:new wr(this.query,t.Ra,c,m,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new t_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Pe(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const i=[];return t.forEach((r=>{this.da.has(r)||i.push(new K0(r))})),this.da.forEach((r=>{t.has(r)||i.push(new Q0(r))})),i}ba(t){this.Ta=t.Ts,this.da=Pe();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return wr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Xx{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class $x{constructor(t){this.key=t,this.va=!1}}class Zx{constructor(t,i,r,o,c,m){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new Mr((g=>v0(g)),_c),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(_e.comparator),this.Na=new Map,this.La=new Jd,this.Ba={},this.ka=new Map,this.qa=Ar.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Jx(s,t,i=!0){const r=J0(s);let o;const c=r.Fa.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=await Y0(r,t,i,!0),o}async function Wx(s,t){const i=J0(s);await Y0(i,t,!0,!1)}async function Y0(s,t,i,r){const o=await Ax(s.localStore,ri(t)),c=o.targetId,m=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await e2(s,t,c,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&q0(s.remoteStore,o),g}async function e2(s,t,i,r,o){s.Ka=(A,R,z)=>(async function(G,j,Q,te){let se=j.view.ma(Q);se.ns&&(se=await $v(G.localStore,j.query,!1).then((({documents:O})=>j.view.ma(O,se))));const pe=te&&te.targetChanges.get(j.targetId),xe=te&&te.targetMismatches.get(j.targetId)!=null,Ee=j.view.applyChanges(se,G.isPrimaryClient,pe,xe);return s_(G,j.targetId,Ee.wa),Ee.snapshot})(s,A,R,z);const c=await $v(s.localStore,t,!0),m=new Yx(t,c.Ts),g=m.ma(c.documents),y=so.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=m.applyChanges(g,s.isPrimaryClient,y);s_(s,i,v.wa);const b=new Xx(t,i,m);return s.Fa.set(t,b),s.Ma.has(i)?s.Ma.get(i).push(t):s.Ma.set(i,[t]),v.snapshot}async function t2(s,t,i){const r=ke(s),o=r.Fa.get(t),c=r.Ma.get(o.targetId);if(c.length>1)return r.Ma.set(o.targetId,c.filter((m=>!_c(m,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await bd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&tm(r.remoteStore,o.targetId),Sd(r,o.targetId)})).catch(Pd)):(Sd(r,o.targetId),await bd(r.localStore,o.targetId,!0))}async function n2(s,t){const i=ke(s),r=i.Fa.get(t),o=i.Ma.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tm(i.remoteStore,r.targetId))}async function X0(s,t){const i=ke(s);try{const r=await Tx(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const m=i.Na.get(c);m&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?m.va=!0:o.modifiedDocuments.size>0?mt(m.va):o.removedDocuments.size>0&&(mt(m.va),m.va=!1))})),await Z0(i,r,t)}catch(r){await Pd(r)}}function a_(s,t,i){const r=ke(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Fa.forEach(((c,m)=>{const g=m.view.Z_(t);g.snapshot&&o.push(g.snapshot)})),(function(m,g){const y=ke(m);y.onlineState=g;let v=!1;y.queries.forEach(((b,A)=>{for(const R of A.j_)R.Z_(g)&&(v=!0)})),v&&rm(y)})(r.eventManager,t),o.length&&r.Ca.d_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function i2(s,t,i){const r=ke(s);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Na.get(t),c=o&&o.key;if(c){let m=new _t(_e.comparator);m=m.insert(c,Jt.newNoDocument(c,Se.min()));const g=Pe().add(c),y=new Sc(Se.min(),new Map,new _t(Ke),m,g);await X0(r,y),r.Oa=r.Oa.remove(c),r.Na.delete(t),lm(r)}else await bd(r.localStore,t,!1).then((()=>Sd(r,t,i))).catch(Pd)}function Sd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Ma.get(t))s.Fa.delete(r),i&&s.Ca.$a(r,i);s.Ma.delete(t),s.isPrimaryClient&&s.La.gr(t).forEach((r=>{s.La.containsKey(r)||$0(s,r)}))}function $0(s,t){s.xa.delete(t.path.canonicalString());const i=s.Oa.get(t);i!==null&&(tm(s.remoteStore,i),s.Oa=s.Oa.remove(t),s.Na.delete(i),lm(s))}function s_(s,t,i){for(const r of i)r instanceof Q0?(s.La.addReference(r.key,t),a2(s,r)):r instanceof K0?(fe("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,t),s.La.containsKey(r.key)||$0(s,r.key)):we()}function a2(s,t){const i=t.key,r=i.path.canonicalString();s.Oa.get(i)||s.xa.has(r)||(fe("SyncEngine","New document in limbo: "+i),s.xa.add(r),lm(s))}function lm(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const t=s.xa.values().next().value;s.xa.delete(t);const i=new _e(ut.fromString(t)),r=s.qa.next();s.Na.set(r,new $x(i)),s.Oa=s.Oa.insert(i,r),q0(s.remoteStore,new Ia(ri(g0(i.path)),r,"TargetPurposeLimboResolution",qd.oe))}}async function Z0(s,t,i){const r=ke(s),o=[],c=[],m=[];r.Fa.isEmpty()||(r.Fa.forEach(((g,y)=>{m.push(r.Ka(y,t,i).then((v=>{var b;if((v||i)&&r.isPrimaryClient){const A=v?!v.fromCache:(b=i?.targetChanges.get(y.targetId))===null||b===void 0?void 0:b.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){o.push(v);const A=em.Wi(y.targetId,v);c.push(A)}})))})),await Promise.all(m),r.Ca.d_(o),await(async function(y,v){const b=ke(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(v,(R=>ne.forEach(R.$i,(z=>b.persistence.referenceDelegate.addReference(A,R.targetId,z))).next((()=>ne.forEach(R.Ui,(z=>b.persistence.referenceDelegate.removeReference(A,R.targetId,z)))))))))}catch(A){if(!io(A))throw A;fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const R=A.targetId;if(!A.fromCache){const z=b.os.get(R),C=z.snapshotVersion,G=z.withLastLimboFreeSnapshotVersion(C);b.os=b.os.insert(R,G)}}})(r.localStore,c))}async function s2(s,t){const i=ke(s);if(!i.currentUser.isEqual(t)){fe("SyncEngine","User change. New user:",t.toKey());const r=await k0(i.localStore,t);i.currentUser=t,(function(c,m){c.ka.forEach((g=>{g.forEach((y=>{y.reject(new de(re.CANCELLED,m))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Z0(i,r.hs)}}function r2(s,t){const i=ke(s),r=i.Na.get(t);if(r&&r.va)return Pe().add(r.key);{let o=Pe();const c=i.Ma.get(t);if(!c)return o;for(const m of c){const g=i.Fa.get(m);o=o.unionWith(g.view.Va)}return o}}function J0(s){const t=ke(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=X0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=r2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=i2.bind(null,t),t.Ca.d_=Gx.bind(null,t.eventManager),t.Ca.$a=Qx.bind(null,t.eventManager),t}class mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ac(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return bx(this.persistence,new _x,t.initialUser,this.serializer)}Ga(t){return new gx(Wd.Zr,this.serializer)}Wa(t){return new xx}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mc.provider={build:()=>new mc};class Ad{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s2.bind(null,this.syncEngine),await Bx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qx})()}createDatastore(t){const i=Ac(t.databaseInfo.databaseId),r=(function(c){return new jx(c)})(t.databaseInfo);return(function(c,m,g,y){return new Mx(c,m,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,c,m,g){return new Vx(r,o,c,m,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>a_(this.syncEngine,i,0)),(function(){return Jv.D()?new Jv:new Rx})())}createSyncEngine(t,i){return(function(o,c,m,g,y,v,b){const A=new Zx(o,c,m,g,y,v);return b&&(A.Qa=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const c=ke(o);fe("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await ro(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ad.provider={build:()=>new Ad};class l2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}class o2{constructor(t,i,r,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=J1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async m=>{fe("FirestoreClient","Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(fe("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=G0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function $f(s,t){s.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await k0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function r_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await u2(s);fe("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>e_(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>e_(t.remoteStore,o))),s._onlineComponents=t}async function u2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await $f(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await $f(s,new mc)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await $f(s,new mc);return s._offlineComponents}async function c2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await r_(s,s._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await r_(s,new Ad))),s._onlineComponents}async function h2(s){const t=await c2(s),i=t.eventManager;return i.onListen=Jx.bind(null,t.syncEngine),i.onUnlisten=t2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Wx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,t.syncEngine),i}function f2(s,t,i={}){const r=new vs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,m,g,y,v){const b=new l2({next:R=>{b.Za(),m.enqueueAndForget((()=>Fx(c,A))),R.fromCache&&y.source==="server"?v.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),A=new Kx(g,b,{includeMetadataChanges:!0,_a:!0});return Hx(c,A)})(await h2(s),s.asyncQueue,t,i,r))),r.promise}function W0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const l_=new Map;function d2(s,t,i,r){if(t===!0&&r===!0)throw new de(re.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function o_(s){if(_e.isDocumentKey(s))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":we()}function wd(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(s);throw new de(re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}class u_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}d2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class om{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(t),t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new F1;switch(r.type){case"firstParty":return new Y1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=l_.get(i);r&&(fe("ComponentProvider","Removing Datastore"),l_.delete(i),r.terminate())})(this),Promise.resolve()}}function m2(s,t,i,r={}){var o;const c=(s=wd(s,om))._getSettings(),m=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==m&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:m,ssl:!1})),r.mockUserToken){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Zt.MOCK_USER;else{g=wA(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zt(v)}s._authCredentials=new G1(new l0(g,y))}}class ka{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ka(this.firestore,t,this._query)}}class Pi{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pi(this.firestore,t,this._key)}}class yr extends ka{constructor(t,i,r){super(t,i,g0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pi(this.firestore,null,new _e(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function p2(s,t,...i){if(s=rc(s),s instanceof om){const r=ut.fromString(t,...i);return o_(r),new yr(s,null,r)}{if(!(s instanceof Pi||s instanceof yr))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ut.fromString(t,...i));return o_(r),new yr(s.firestore,null,r)}}class c_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new P0(this,"async_queue_retry"),this.Vu=()=>{const r=Xf();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new vs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!io(t))throw t;fe("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((r=>{this.Eu=r,this.du=!1;const o=(function(m){let g=m.message||"";return m.stack&&(g=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),g})(r);throw zi("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=i,i}enqueueAfterDelay(t,i,r){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const o=sm.createAndSchedule(this,t,i,r,(c=>this.yu(c)));return this.Tu.push(o),o}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}class eE extends om{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new c_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c_(t),this._firestoreClient=void 0,await t}}}function g2(s,t){const i=typeof s=="object"?s:O1(),r=typeof s=="string"?s:"(default)",o=j1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=SA("firestore");c&&m2(o,...c)}return o}function y2(s){if(s._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||v2(s),s._firestoreClient}function v2(s){var t,i,r;const o=s._freezeSettings(),c=(function(g,y,v,b){return new ow(g,y,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,W0(b.experimentalLongPollingOptions),b.useFetchStreams)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new o2(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}})(s._componentsProvider))}class xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xr(Qt.fromBase64String(t))}catch(i){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xr(Qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class tE{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nE{constructor(t){this._methodName=t}}class um{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ke(this._lat,t._lat)||Ke(this._long,t._long)}}class cm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,t._values)}}const _2=/^__.*__$/;function iE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class hm{constructor(t,i,r,o,c,m){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Fu({path:r,xu:!1});return o.Ou(t),o}Nu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return xd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(iE(this.Cu)&&_2.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class E2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ac(t)}Qu(t,i,r,o=!1){return new hm({Cu:t,methodName:i,qu:r,path:Wt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b2(s){const t=s._freezeSettings(),i=Ac(s._databaseId);return new E2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function T2(s,t,i,r=!1){return fm(i,s.Qu(r?4:3,t))}function fm(s,t){if(aE(s=rc(s)))return A2("Unsupported field value:",t,s),S2(s,t);if(s instanceof nE)return(function(r,o){if(!iE(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(r,o){const c=[];let m=0;for(const g of r){let y=fm(g,o.Lu(m));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),m++}return{arrayValue:{values:c}}})(s,t)}return(function(r,o){if((r=rc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=jt.fromDate(r);return{timestampValue:_d(o.serializer,c)}}if(r instanceof jt){const c=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(o.serializer,c)}}if(r instanceof um)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:D0(o.serializer,r._byteString)};if(r instanceof Pi){const c=o.databaseId,m=r.firestore._databaseId;if(!m.isEqual(c))throw o.Bu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:I0(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof cm)return(function(m,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:m.toArray().map((y=>{if(typeof y!="number")throw g.Bu("VectorValues must only contain numeric values.");return Yd(g.serializer,y)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${xc(r)}`)})(s,t)}function S2(s,t){const i={};return o0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ao(s,((r,o)=>{const c=fm(o,t.Mu(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function aE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof um||s instanceof xr||s instanceof Pi||s instanceof nE||s instanceof cm)}function A2(s,t,i){if(!aE(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const r=xc(i);throw r==="an object"?t.Bu(s+" a custom object"):t.Bu(s+" "+r)}}const w2=new RegExp("[~\\*/\\[\\]]");function x2(s,t,i){if(t.search(w2)>=0)throw xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new tE(...t.split("."))._internalPath}catch{throw xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function xd(s,t,i,r,o){const c=r&&!r.isEmpty(),m=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||m)&&(y+=" (found",c&&(y+=` in field ${r}`),m&&(y+=` in document ${o}`),y+=")"),new de(re.INVALID_ARGUMENT,g+s+y)}class sE{constructor(t,i,r,o,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new R2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class R2 extends sE{data(){return super.data()}}function dm(s,t){return typeof t=="string"?x2(s,t):t instanceof tE?t._internalPath:t._delegate._internalPath}function N2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class pm extends mm{}function C2(s,t,...i){let r=[];t instanceof mm&&r.push(t),r=r.concat(i),(function(c){const m=c.filter((y=>y instanceof ym)).length,g=c.filter((y=>y instanceof gm)).length;if(m>1||m>0&&g>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class gm extends pm{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new gm(t,i,r)}_apply(t){const i=this._parse(t);return rE(t._query,i),new ka(t.firestore,t.converter,pd(t._query,i))}_parse(t){const i=b2(t.firestore);return(function(c,m,g,y,v,b,A){let R;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){f_(A,b);const z=[];for(const C of A)z.push(h_(y,c,C));R={arrayValue:{values:z}}}else R=h_(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||f_(A,b),R=T2(g,m,A,b==="in"||b==="not-in");return xt.create(v,b,R)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ym extends mm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ym(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Gn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let m=o;const g=c.getFlattenedFilters();for(const y of g)rE(m,y),m=pd(m,y)})(t._query,i),new ka(t.firestore,t.converter,pd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vm extends pm{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new vm(t,i)}_apply(t){const i=(function(o,c,m){if(o.startAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(c,m)})(t._query,this._field,this._direction);return new ka(t.firestore,t.converter,(function(o,c){const m=o.explicitOrderBy.concat([c]);return new Ir(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function j2(s,t="asc"){const i=t,r=dm("orderBy",s);return vm._create(r,i)}class _m extends pm{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new _m(t,i,r)}_apply(t){return new ka(t.firestore,t.converter,hc(t._query,this._limit,this._limitType))}}function D2(s){return _m._create("limit",s,"F")}function h_(s,t,i){if(typeof(i=rc(i))=="string"){if(i==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(t)&&i.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ut.fromString(i));if(!_e.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mv(s,new _e(r))}if(i instanceof Pi)return Mv(s,i._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function f_(s,t){if(!Array.isArray(s)||s.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rE(s,t){const i=(function(o,c){for(const m of o)for(const g of m.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class I2{convertValue(t,i="none"){switch(Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw we()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ao(t,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(t){var i,r,o;const c=(o=(r=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((m=>vt(m.doubleValue)));return new cm(c)}convertGeoPoint(t){return new um(vt(t.latitude),vt(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Fd(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(t));default:return null}}convertTimestamp(t){const i=La(t);return new jt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ut.fromString(t);mt(z0(r));const o=new Jl(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(i)||zi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Ku{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class M2 extends sE{constructor(t,i,r,o,c,m){super(t,i,r,o,m),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class ec extends M2{data(t={}){return super.data(t)}}class O2{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new ec(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((g=>{const y=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return g.type!==0&&(v=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),b=m.indexOf(g.doc.key)),{type:V2(g.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function V2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class L2 extends I2{constructor(t){super(),this.firestore=t}convertBytes(t){return new xr(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pi(this.firestore,null,i)}}function U2(s){s=wd(s,ka);const t=wd(s.firestore,eE),i=y2(t),r=new L2(t);return N2(s._query),f2(i,s._query).then((o=>new O2(t,r,s,o)))}(function(t,i=!0){(function(o){Dr=o})(M1),oc(new Yl("firestore",((r,{instanceIdentifier:o,options:c})=>{const m=r.getProvider("app").getImmediate(),g=new eE(new Q1(r.getProvider("auth-internal")),new $1(r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(v.options.projectId,b)})(m,o),m);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),mr(Nv,"4.7.3",t),mr(Nv,"4.7.3","esm2017")})();var z2="firebase",k2="10.14.1";mr(z2,k2,"app");function B2(){return{apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"}}function P2(s){const t=Object.entries(s).filter(([,i])=>!i).map(([i])=>i);if(t.length>0)throw new Error(`[Firebase] Missing config values: ${t.join(", ")}. Set VITE_FIREBASE_* env vars before running the app.`)}let Yu=null;function q2(){if(Yu)return Yu;const s=B2();return P2(s),Yu=J_(s),Yu}const H2=q2(),F2=g2(H2),Zf=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-003",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-004",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-005",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"}];function G2(){const[s,t]=D.useState(Zf),[i,r]=D.useState(!0),[o,c]=D.useState(!1),[m,g]=D.useState(null),[y,v]=D.useState("all"),[b,A]=D.useState(""),R=D.useCallback(async(j=!1)=>{j&&c(!0);try{const Q=p2(F2,"scanUploads"),te=C2(Q,j2("uploadedAt","desc"),D2(100)),pe=(await U2(te)).docs.map(xe=>Q2(xe.id,xe.data()));pe.length>0?(t(pe),g(null)):(t(Zf),g("Keine Live-Daten gefunden, Fallback aktiv."))}catch(Q){console.error("[ScansUploaded] Firestore fetch failed",Q),t(Zf),g("Live-Daten nicht verfgbar, Fallback aktiv.")}finally{j&&c(!1),r(!1)}},[]);D.useEffect(()=>{R(!1)},[R]);const z=D.useMemo(()=>Y2(s),[s]),C=D.useMemo(()=>{const j=b.toLowerCase().trim();return s.filter(Q=>!(y!=="all"&&Q.status!==y||j&&!`${Q.id} ${Q.uploaderName??""} ${Q.guildName??""}`.toLowerCase().includes(j)))},[s,b,y]),G=C.filter(j=>j.status==="failed");return d.jsxs(Bi,{title:"Scans uploaded",description:"Operational analytics for ingestion volume, health, and failure recovery",headerContent:d.jsx(za,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",hintRight:"Firestore snapshot  100 items"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:m??"Live snapshot geladen. Filterbar nach Status und Suchbegriff."}),d.jsx("div",{className:"admin-top__actions",children:d.jsx("button",{type:"button",className:"btn secondary",onClick:()=>void R(!0),children:o?"Refreshing...":"Refresh"})})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsxs("select",{value:y,onChange:j=>v(j.target.value),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"success",children:"Success"}),d.jsx("option",{value:"processing",children:"Processing"}),d.jsx("option",{value:"queued",children:"Queued"}),d.jsx("option",{value:"failed",children:"Failed"})]})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search by id/uploader/guild"}),d.jsx("input",{value:b,onChange:j=>A(j.target.value),placeholder:"Search text"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Total uploads"}),d.jsx("strong",{children:Jf(z.totalUploads)})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Success rate"}),d.jsx("strong",{children:d_(z.successRate)})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Avg. processing"}),d.jsx("strong",{children:z.avgProcessingMs?Wf(z.avgProcessingMs):""})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Failed"}),d.jsx("strong",{children:Jf(z.failed)})]})]}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Status mix"}),d.jsx("h2",{children:"Pipeline status"})]}),d.jsx("p",{className:"monitoring-panel__meta",children:"Anteil je Status innerhalb des Fensters"})]}),d.jsx("div",{className:"monitoring-panel__grid",children:z.statusBreakdown.map(j=>d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__label",children:ed(j.status)}),d.jsx("p",{className:"monitoring-panel__value",children:Jf(j.count)}),d.jsx("p",{className:"monitoring-panel__meta",children:d_(j.share)})]},j.status))})]}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Recent failures"}),d.jsx("h2",{children:"Letzte Fehlversuche"})]}),d.jsx("p",{className:"monitoring-panel__meta",children:"Gefiltert nach Status"})]}),d.jsxs("div",{className:"log-table",children:[G.map(j=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:j.id}),d.jsx("p",{className:"log-row__service",children:j.errorCode??"Unknown issue"})]}),d.jsx("span",{className:"log-badge log-badge--error",children:ed(j.status)})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Uploader: ",j.uploaderName??j.uploaderId??"?"]}),d.jsxs("span",{className:"log-row__timestamp",children:["Guild: ",j.guildName??j.guildId??"?"]}),d.jsxs("span",{className:"log-row__timestamp",children:["Processing: ",j.processingMs?Wf(j.processingMs):"Pending"]})]})]},j.id)),G.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No failed uploads in this view."})})]})]}),d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:"Latest activity"}),d.jsx("h2",{children:"Uploads"})]}),d.jsx("p",{className:"monitoring-panel__meta",children:i?"Loading":`${C.length} records`})]}),d.jsxs("div",{className:"log-table",children:[C.map(j=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:j.id}),d.jsx("p",{className:"log-row__service",children:j.uploaderName??j.uploaderId??"Unknown uploader"})]}),d.jsx("span",{className:"log-badge",style:{borderColor:m_(j.status),color:m_(j.status)},children:ed(j.status)})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Guild: ",j.guildName??j.guildId??"Unknown guild"]}),d.jsxs("span",{className:"log-row__timestamp",children:["Uploaded: ",j.uploadedAt?j.uploadedAt.toLocaleString():"Unknown"]})]}),d.jsx("div",{className:"log-row__body",children:d.jsxs("span",{className:"log-row__message",children:["Processing: ",j.processingMs?Wf(j.processingMs):"Pending","  File size: ",j.fileSizeBytes?X2(j.fileSizeBytes):"?"]})})]},j.id)),C.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No uploads match your filters."})})]})]})]})}function Q2(s,t){const i=K2(t.status);return{id:s,status:i,uploaderId:typeof t.uploaderId=="string"?t.uploaderId:null,uploaderName:typeof t.uploaderName=="string"?t.uploaderName:null,guildId:typeof t.guildId=="string"?t.guildId:null,guildName:typeof t.guildName=="string"?t.guildName:null,uploadedAt:t.uploadedAt instanceof jt?t.uploadedAt.toDate():t.uploadedAt instanceof Date?t.uploadedAt:null,processingMs:typeof t.processingMs=="number"?t.processingMs:null,fileSizeBytes:typeof t.fileSizeBytes=="number"?t.fileSizeBytes:null,errorCode:typeof t.errorCode=="string"?t.errorCode:null}}function K2(s){return s==="success"||s==="failed"||s==="processing"||s==="queued"?s:"unknown"}function Y2(s){const t=new Map;let i=0,r=0,o=0,c=0;const g=Date.now()-1440*60*1e3;let y=0;s.forEach(A=>{t.set(A.status,(t.get(A.status)??0)+1),A.status==="failed"&&(o+=1),A.status==="success"&&(c+=1),A.processingMs!=null&&(i+=A.processingMs,r+=1),A.uploadedAt&&A.uploadedAt.getTime()>=g&&(y+=1)});const v=s.length,b=Array.from(t.entries()).map(([A,R])=>({status:A,count:R,share:v?R/v:0}));return{totalUploads:v,last24h:y,successRate:v?c/v:0,failed:o,avgProcessingMs:r?i/r:null,statusBreakdown:b}}function Jf(s){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(s)}function d_(s){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:s>0&&s<.1?1:0,maximumFractionDigits:1}).format(s)}function Wf(s){return s<1e3?`${s.toFixed(0)}ms`:`${(s/1e3).toFixed(1)}s`}function X2(s){if(s<=0)return"0 B";const t=["B","KB","MB","GB"];let i=s,r=0;for(;i>=1024&&r<t.length-1;)i/=1024,r+=1;return`${i.toFixed(i>=10?0:1)} ${t[r]}`}function ed(s){switch(s){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function m_(s){switch(s){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}const $2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const t=Z2(s);return t.charAt(0).toUpperCase()+t.slice(1)},lE=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),J2=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eR=D.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:m,...g},y)=>D.createElement("svg",{ref:y,...W2,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:lE("lucide",o),...!c&&!J2(g)&&{"aria-hidden":"true"},...g},[...m.map(([v,b])=>D.createElement(v,b)),...Array.isArray(c)?c:[c]]));const Em=(s,t)=>{const i=D.forwardRef(({className:r,...o},c)=>D.createElement(eR,{ref:c,iconNode:t,className:lE(`lucide-${$2(p_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=p_(s),i};const tR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],nR=Em("frown",tR);const iR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],aR=Em("meh",iR);const sR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],rR=Em("smile",sR),lR=[{id:"FDB-3401",user:"@ArcaneScout",channel:"in-app",submittedAt:"2024-06-19 21:45 UTC",sentiment:"positive",summary:"Guild Hub revamp",detail:"Really like the new roles overview. Could we pin favorite members?",status:"triaged"},{id:"FDB-3398",user:"@ShadowScribe",channel:"discord",submittedAt:"2024-06-19 20:18 UTC",sentiment:"neutral",summary:"Scan delays",detail:"Scans seemed slower tonight (~5m). Was there maintenance?",status:"investigating"},{id:"FDB-3394",user:"@GuildLeader87",channel:"email",submittedAt:"2024-06-19 18:02 UTC",sentiment:"negative",summary:"Roster export",detail:"Export CSV is missing player class data after last update.",status:"open"},{id:"FDB-3389",user:"@PotionMaster",channel:"in-app",submittedAt:"2024-06-19 16:50 UTC",sentiment:"positive",summary:"New timeline",detail:"Timeline filters are great! Would love to save custom presets.",status:"in review"}];function oR(){const[s,t]=D.useState("all"),[i,r]=D.useState("all"),[o,c]=D.useState("all"),[m,g]=D.useState(""),y=D.useMemo(()=>{const b=m.toLowerCase().trim();return lR.filter(A=>!(s!=="all"&&A.sentiment!==s||i!=="all"&&A.status.toLowerCase()!==i||o!=="all"&&A.channel.toLowerCase()!==o||b&&!`${A.summary} ${A.detail} ${A.user}`.toLowerCase().includes(b)))},[o,m,s,i]),v=D.useMemo(()=>({positive:y.filter(b=>b.sentiment==="positive").length,neutral:y.filter(b=>b.sentiment==="neutral").length,negative:y.filter(b=>b.sentiment==="negative").length,total:y.length}),[y]);return d.jsxs(Bi,{title:"Feedback overview",description:"Monitor and triage incoming player feedback",headerContent:d.jsx(za,{title:"Feedback overview",subtitle:"Monitor and triage incoming player feedback",hintRight:"Sample data"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:"Realtime wiring mglich; aktuell Demo-Daten."}),d.jsx("div",{className:"admin-top__actions",children:d.jsx("button",{type:"button",className:"btn secondary",children:"Export thread"})})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Sentiment"}),d.jsxs("select",{value:s,onChange:b=>t(b.target.value),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"positive",children:"Positive"}),d.jsx("option",{value:"neutral",children:"Neutral"}),d.jsx("option",{value:"negative",children:"Negative"})]})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsxs("select",{value:i,onChange:b=>r(b.target.value),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"open",children:"Open"}),d.jsx("option",{value:"triaged",children:"Triaged"}),d.jsx("option",{value:"investigating",children:"Investigating"}),d.jsx("option",{value:"in review",children:"In review"})]})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Channel"}),d.jsxs("select",{value:o,onChange:b=>c(b.target.value.toLowerCase()),children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"in-app",children:"In-app"}),d.jsx("option",{value:"discord",children:"Discord"}),d.jsx("option",{value:"email",children:"Email"})]})]}),d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Search"}),d.jsx("input",{value:m,onChange:b=>g(b.target.value),placeholder:"Stichwort, User oder Channel"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Positive"}),d.jsx("strong",{children:v.positive})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Neutral"}),d.jsx("strong",{children:v.neutral})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Negative"}),d.jsx("strong",{children:v.negative})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Total"}),d.jsx("strong",{children:v.total})]})]}),d.jsxs("div",{className:"page-grid",children:[d.jsx(cR,{}),d.jsx(hR,{})]}),d.jsxs("div",{className:"log-table",children:[y.map(b=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:b.id}),d.jsx("p",{className:"log-row__service",children:b.summary})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx(uR,{value:b.sentiment}),d.jsx("span",{className:"log-badge",children:b.status})]})]}),d.jsx("div",{className:"log-row__body",children:d.jsx("span",{className:"log-row__message",children:b.detail})}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Channel: ",b.channel]}),d.jsxs("span",{className:"log-row__timestamp",children:["Submitted: ",b.submittedAt]}),d.jsxs("span",{className:"log-row__timestamp",children:["User: ",b.user]})]})]},b.id)),y.length===0&&d.jsx("div",{className:"placeholder-card",children:d.jsx("p",{children:"No feedback matches your filters."})})]})]})}function uR({value:s}){const t={positive:{label:"Positive",color:"#38B26C",Icon:rR},neutral:{label:"Neutral",color:"#F9A825",Icon:aR},negative:{label:"Negative",color:"#FF6B6B",Icon:nR}},{label:i,color:r,Icon:o}=t[s];return d.jsxs("span",{className:"log-badge",style:{color:r,borderColor:r},children:[d.jsx(o,{className:"h-4 w-4","aria-hidden":"true"})," ",i]})}function cR(){const s=[{label:"Positive",value:"48%",color:"#38B26C"},{label:"Neutral",value:"32%",color:"#F9A825"},{label:"Negative",value:"20%",color:"#FF6B6B"}];return d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Sentiment mix"}),d.jsx("ul",{className:"content-shell__list",children:s.map(t=>d.jsxs("li",{style:{color:t.color},children:[t.label,": ",t.value]},t.label))})]})}function hR(){const s=[{label:"Assign to product",detail:"2 waiting"},{label:"Reply templates",detail:"Updated yesterday"},{label:"Quarterly NPS",detail:"Survey closes in 3 days"}];return d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Follow-ups"}),d.jsx("ul",{className:"content-shell__list",children:s.map(t=>d.jsxs("li",{children:[d.jsx("strong",{children:t.label}),"  ",t.detail]},t.label))})]})}const fR=[{id:"TD-1042",title:"Proxy fr Firestore absichern",description:"Service-Account rotation + limitierte IAM-Rollen hinterlegen.",priority:"High",status:"In Progress",dueDate:"2024-06-24",owners:["@anna","@max"],category:"Security",dependencies:["TD-1040"],comments:5,linked:["API-Key-Management"]},{id:"TD-1041",title:"API-Key-Management UI",description:"Admin-Oberflche fr Key-Erzeugung inkl. Rollen/Scopes.",priority:"High",status:"Open",dueDate:"2024-06-26",owners:["@lisa"],category:"Backend",dependencies:["TD-1038"],comments:3},{id:"TD-1039",title:"Dashboard-Ansicht optimieren",description:"Responsive Kacheln, mobile Burger-Men finalisieren.",priority:"Medium",status:"In Progress",dueDate:"2024-06-25",owners:["@sam"],category:"Frontend",comments:2},{id:"TD-1036",title:"Rollenmanagement erweitern",description:"Moderatoren-Rollen mit eingeschrnkten Adminrechten hinzufgen.",priority:"High",status:"Blocked",dueDate:"2024-06-22",owners:["@anna"],category:"User Management",dependencies:["TD-1034"],comments:4},{id:"TD-1034",title:"Auth-Flow hrten",description:"2FA Reminder & Session-Refresh-Tokens begrenzen.",priority:"High",status:"Open",dueDate:"2024-06-21",owners:["@max"],category:"Security",comments:6},{id:"TD-1029",title:"Protokollierung fixen",description:"Fehlerhafte Log-Level im Scan-Job korrigieren.",priority:"Medium",status:"Open",owners:["@jamie"],category:"Bugfix",comments:1},{id:"TD-1025",title:"Inline-Filter fr Tasks",description:"Mobile-first Filter UI, schnelle Statuswechsel.",priority:"Low",status:"Done",owners:["@sam"],category:"Frontend"}],g_={Open:"#8AA5C4","In Progress":"#5C8BC6",Blocked:"#F97373",Done:"#38B26C"},y_={High:"#FF6B6B",Medium:"#F9A825",Low:"#5C8BC6"},v_=[{key:"Backend",label:"Backend",hint:"Proxies, APIs, Datenfluss"},{key:"Frontend",label:"Frontend",hint:"UI, Responsiveness"},{key:"User Management",label:"Nutzerverwaltung",hint:"Rollen, Adminrechte"},{key:"Security",label:"Sicherheit",hint:"Auth, Policies"},{key:"Bugfix",label:"Fehlerbehebung",hint:"Protokollierung & Fixes"}];function dR(){const[s,t]=D.useState(""),[i,r]=D.useState(""),[o,c]=D.useState(""),[m,g]=D.useState(""),[y,v]=D.useState(""),b=D.useMemo(()=>fR.filter(j=>{const Q=!s||j.title.toLowerCase().includes(s.toLowerCase())||j.description.toLowerCase().includes(s.toLowerCase()),te=!i||j.status===i,se=!o||j.priority===o,pe=!m||j.owners.some(Ee=>Ee.toLowerCase().includes(m.toLowerCase())),xe=!y||j.category===y;return Q&&te&&se&&pe&&xe}),[y,m,o,s,i]),A=D.useMemo(()=>v_.map(({key:j,label:Q,hint:te})=>({key:j,label:Q,hint:te,items:b.filter(se=>se.category===j)})),[b]),R=b.filter(j=>j.status==="Open").length,z=b.filter(j=>j.status==="In Progress").length,C=b.filter(j=>j.status==="Blocked").length,G=b.filter(j=>j.status==="Done").length;return d.jsxs(Bi,{title:"Todo-Liste & Ops-Tasks",description:"Priorisierte Aufgaben nach Kategorien, Status und Verantwortlichen.",headerContent:d.jsx(za,{title:"Todo-Liste & Ops-Tasks",subtitle:"Filter, Suche und Inline-Aktionen fr Admin-Aufgaben.",hintRight:"Konzept: Kategorien, Filter, Responsiveness"}),children:[d.jsxs("div",{className:"admin-top",children:[d.jsx("p",{className:"admin-top__hint",children:"Inline-Aktionen (Abhaken/Bearbeiten) und mobile Burger-Navigation sind vorgesehen."}),d.jsx("div",{className:"admin-top__actions",children:d.jsx("button",{type:"button",className:"btn secondary",children:"Neue Aufgabe"})})]}),d.jsxs("div",{className:"admin-filters",children:[d.jsxs("label",{className:"filter-control filter-control--grow",children:[d.jsx("span",{children:"Suche"}),d.jsx("input",{value:s,onChange:j=>t(j.target.value),placeholder:"Titel, Beschreibung oder Stichwort"})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Status"}),d.jsx("select",{value:i,onChange:j=>r(j.target.value),children:["","Open","In Progress","Blocked","Done"].map(j=>d.jsx("option",{value:j,children:j||"Alle"},j||"all"))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Prioritt"}),d.jsx("select",{value:o,onChange:j=>c(j.target.value),children:["","High","Medium","Low"].map(j=>d.jsx("option",{value:j,children:j||"Alle"},j||"all"))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Kategorie"}),d.jsx("select",{value:y,onChange:j=>v(j.target.value),children:["",...v_.map(j=>j.key)].map(j=>d.jsx("option",{value:j,children:j||"Alle"},j||"all"))})]}),d.jsxs("label",{className:"filter-control",children:[d.jsx("span",{children:"Verantwortlicher"}),d.jsx("input",{value:m,onChange:j=>g(j.target.value),placeholder:"@user oder Name"})]})]}),d.jsxs("div",{className:"admin-summary",children:[d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Offen"}),d.jsx("strong",{children:R})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"In Arbeit"}),d.jsx("strong",{children:z})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Blockiert"}),d.jsx("strong",{children:C})]}),d.jsxs("div",{className:"summary-card",children:[d.jsx("p",{children:"Erledigt"}),d.jsx("strong",{children:G})]})]}),d.jsxs("div",{className:"page-grid",children:[d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Drag & Drop"}),d.jsx("p",{children:"Tasks zwischen Status-Spalten verschieben."})]}),d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Inline-Edit"}),d.jsx("p",{children:"Status, Prioritt oder Due Date direkt anpassen."})]}),d.jsxs("div",{className:"placeholder-card",children:[d.jsx("h3",{children:"Benachrichtigungen"}),d.jsx("p",{children:"Statusnderungen werden Verantwortlichen signalisiert."})]})]}),d.jsx("div",{className:"page-grid",children:A.map(j=>d.jsxs("section",{className:"monitoring-panel",children:[d.jsxs("header",{className:"monitoring-panel__header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"monitoring-panel__eyebrow",children:j.label}),d.jsx("h2",{children:j.hint})]}),d.jsx("button",{type:"button",className:"btn secondary",children:"+ Task"})]}),d.jsxs("div",{className:"log-table",children:[j.items.length===0&&d.jsx("div",{className:"placeholder-card",children:"Keine Aufgaben in dieser Kategorie."}),j.items.map(Q=>d.jsxs("article",{className:"log-row",children:[d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{children:[d.jsx("p",{className:"user-id",children:Q.id}),d.jsx("p",{className:"log-row__service",children:Q.title})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-badge",style:{color:g_[Q.status],borderColor:g_[Q.status]},children:Q.status}),d.jsxs("span",{className:"log-badge",style:{color:y_[Q.priority],borderColor:y_[Q.priority]},children:["Prio ",Q.priority]})]})]}),d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-row__message",children:Q.description}),Q.linked?.length?d.jsxs("span",{className:"log-row__message",children:["Verknpft: ",Q.linked.join(", ")]}):null,Q.dependencies?.length?d.jsxs("span",{className:"log-row__message",children:["Abhngigkeiten: ",Q.dependencies.join(", ")]}):null]}),d.jsxs("div",{className:"log-row__body",children:[d.jsxs("span",{className:"log-row__timestamp",children:["Due: ",Q.dueDate??""]}),d.jsxs("span",{className:"log-row__timestamp",children:["Verantwortliche: ",Q.owners.join(", ")]}),Q.comments?d.jsxs("span",{className:"log-row__timestamp",children:[Q.comments," Kommentare"]}):null]}),d.jsxs("div",{className:"log-row__head",children:[d.jsxs("div",{className:"log-row__body",children:[d.jsx("span",{className:"log-badge log-badge--info",children:"Bearbeiten"}),d.jsx("span",{className:"log-badge log-badge--warning",children:"Abhaken"})]}),d.jsx("span",{className:"log-row__timestamp",children:"Inline-Aktion"})]})]},Q.id))]})]},j.key))})]})}function mR(){const[s,t]=D.useState(!1);D.useEffect(()=>{const o=c=>{c.key==="Escape"&&t(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]);const i=()=>t(!1),r=()=>t(o=>!o);return d.jsx(dA,{children:d.jsxs("div",{className:"app-shell",children:[d.jsx(yS,{onToggleSidebar:r,isSidebarOpen:s}),d.jsxs("div",{className:"app-body",children:[d.jsx(pS,{open:s,onClose:i}),d.jsx("div",{className:`sidebar-overlay ${s?"is-visible":""}`,onClick:i,"aria-hidden":"true"}),d.jsx("div",{className:"app-content",children:d.jsxs(LT,{children:[d.jsx(Fn,{path:"/",element:d.jsx(xS,{})}),d.jsx(Fn,{path:"/access",element:d.jsx(hA,{})}),d.jsx(Fn,{path:"/users",element:d.jsx(ZS,{})}),d.jsx(Fn,{path:"/admin/scans-uploaded",element:d.jsx(G2,{})}),d.jsx(Fn,{path:"/admin/todo",element:d.jsx(dR,{})}),d.jsx(Fn,{path:"/admin/feedback",element:d.jsx(oR,{})}),d.jsx(Fn,{path:"/logs",element:d.jsx(IS,{})}),d.jsx(Fn,{path:"/apis",element:d.jsx(wS,{})}),d.jsx(Fn,{path:"/settings",element:d.jsx(MS,{})}),d.jsx(Fn,{path:"*",element:d.jsx(OT,{to:"/",replace:!0})})]})})]})]})})}Fb.createRoot(document.getElementById("root")).render(d.jsx(D.StrictMode,{children:d.jsx(sS,{children:d.jsx(gS,{children:d.jsx(mR,{})})})}));
